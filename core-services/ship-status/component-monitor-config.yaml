frequency: 5m
components:
  - component_slug: "prow"
    sub_component_slug: "deck"
    http_monitor:
      url: "https://prow.ci.openshift.org/"
      code: 200
      retry_after: 4m
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"deck\"}) > 0"
          duration: "5m"
          step: "30s"
  - component_slug: "prow"
    sub_component_slug: "deck-internal"
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"deck-internal\"}) > 0"
          duration: "5m"
          step: "30s"
  - component_slug: "prow"
    sub_component_slug: "qe-private-deck"
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"qe-private-deck\"}) > 0"
          duration: "5m"
          step: "30s"
  - component_slug: "prow"
    sub_component_slug: "crier"
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"crier\"}) > 0"
          duration: "5m"
          step: "30s"
  - component_slug: "prow"
    sub_component_slug: "sinker"
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"sinker\"}) > 0"
          duration: "5m"
          step: "30s"
  - component_slug: "prow"
    sub_component_slug: "prow-controller-manager"
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"prow-controller-manager\"}) > 0"
          duration: "5m"
          step: "30s"
  - component_slug: "prow"
    sub_component_slug: "tide"
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"tide\"}) > 0"
          duration: "5m"
          step: "30s"
  - component_slug: "prow"
    sub_component_slug: "boskos"
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"boskos\"}) > 0"
          duration: "5m"
          step: "30s"
  - component_slug: "prow"
    sub_component_slug: "gangway"
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"gangway\"}) > 0"
          duration: "5m"
          step: "30s"
  - component_slug: "prow"
    sub_component_slug: "gcsweb"
    http_monitor:
      url: "https://gcsweb-ci.apps.ci.l2s4.p1.openshiftapps.com/gcs/test-platform-results"
      code: 200
      retry_after: 4m
  - component_slug: "prow"
    sub_component_slug: "ghproxy"
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"ghproxy\"}) > 0"
          duration: "5m"
          step: "30s"
  - component_slug: "prow"
    sub_component_slug: "hook"
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"hook-apps\"}) > 0"
          duration: "5m"
          step: "30s"
  - component_slug: "downstream-ci"
    sub_component_slug: "pj-rehearse-plugin"
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"pj-rehearse-plugin\"}) > 0"
          duration: "5m"
          step: "30s"
  - component_slug: "downstream-ci"
    sub_component_slug: "retester"
    prometheus_monitor:
      prometheus_location:
        cluster: "app.ci"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"retester\"}) > 0"
          duration: "5m"
          step: "30s"
