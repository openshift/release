- item_name: build_farm
  attachments:
  - cmd: |-
      oc --context $(cluster) sa create-kubeconfig --namespace ci $(service_account) | sed "s/$(service_account)/$(cluster)/g"
    name: sa.$(service_account).$(cluster).config
  params:
    cluster:
    - build01
    - build02
    - vsphere
    - api.ci
    service_account:
    - config-updater
    - deck
    - sinker
    - hook
    - crier
    - prow-controller-manager
    - dptp-controller-manager
    - ci-operator
- item_name: build_farm
  attachments:
  - cmd: |-
      oc --context $(cluster) sa create-kubeconfig --namespace ci $(service_account) | sed "s/$(service_account)/$(cluster)/g"
    name: sa.$(service_account).$(cluster).config
  params:
    cluster:
    - app.ci
    service_account:
    - config-updater
    - deck
    - sinker
    - hook
    - crier
    - prow-controller-manager
    - pj-rehearse
    - release-bot
- item_name: build_farm
  attachments:
  - cmd: |-
      echo -n "serviceaccount:$( oc --context $(cluster) --namespace ci serviceaccounts get-token build01 )" | base64 | tr -d '\n'
    name: build01_$(cluster)_reg_auth_value.txt
  params:
    cluster:
    - build01
    - build02
    - vsphere
- item_name: build_farm
  attachments:
  - cmd: |-
      echo -n "serviceaccount:$( oc --as system:admin --context api.ci --namespace ocp serviceaccounts get-token default )" | base64 | tr -d '\n'
    name: build01_ci_reg_auth_value.txt