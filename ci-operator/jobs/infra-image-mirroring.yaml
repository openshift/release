# JOB TEMPLATE
#  - agent: kubernetes
#    labels:
#      ci.openshift.io/role: image-mirroring
#      ci.openshift.io/area: FIXME
#    cron: "@midnight"
#    decorate: true
#    name: periodic-image-mirroring-FIXME
#    skip_cloning: true
#    spec:
#      containers:
#        - args:
#            - -c
#            - |
#              set -o errexit
#              failures=0
#              for mapping in /etc/imagemirror/mapping_FIXME*; do
#                echo "Running: oc image mirror -f=$mapping --skip-multiple-scopes"
#                if ! oc image mirror -f="$mapping" --skip-multiple-scopes; then
#                  echo "ERROR: Failed to mirror images from $mapping"
#                  failures=$((failures+1))
#                fi
#              done
#              exit $failures
#          command:
#            - /bin/bash
#          env:
#            - name: HOME
#              value: /home/mirror
#          image: "quay.io/openshift/origin-cli:4.1"
#          imagePullPolicy: Always
#          name: ""
#          resources:
#            requests:
#              cpu: 500m
#          volumeMounts:
#            - mountPath: /home/mirror/.docker/config.json
#              name: push
#              readOnly: true
#              subPath: .dockerconfigjson
#            - mountPath: /etc/imagemirror
#              name: config
#      volumes:
#        - name: push
#          secret:
#            secretName: FIXME
#        - name: config
#          configMap:
#            name: image-mirror-mappings
