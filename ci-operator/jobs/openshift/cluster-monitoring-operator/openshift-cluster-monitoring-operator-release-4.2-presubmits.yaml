presubmits:
  openshift/cluster-monitoring-operator:
  - agent: kubernetes
    always_run: true
    branches:
    - ^release-4\.2$
    - ^release-4\.2-
    cluster: build07
    context: ci/prow/generate
    decorate: true
    labels:
      ci.openshift.io/manually-branched: "true"
    name: pull-ci-openshift-cluster-monitoring-operator-release-4.2-generate
    rerun_command: /test generate
    spec:
      containers:
      - args:
        - -c
        - make generate && git diff --exit-code
        command:
        - sh
        env:
        - name: GO111MODULE
          value: "on"
        - name: GOPATH
          value: /go:/home/prow/go
        - name: USER
          value: deadbeef
        image: quay.io/coreos/jsonnet-ci:release-0.38
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            cpu: 500m
    trigger: (?m)^/test generate
  - agent: kubernetes
    always_run: true
    branches:
    - ^release-4\.2$
    - ^release-4\.2-
    cluster: build07
    context: ci/prow/shellcheck
    decorate: true
    labels:
      ci.openshift.io/manually-branched: "true"
    name: pull-ci-openshift-cluster-monitoring-operator-release-4.2-shellcheck
    rerun_command: /test shellcheck
    spec:
      containers:
      - args:
        - ./hack/shellcheck.sh
        command:
        - sh
        env:
        - name: IS_CONTAINER
          value: "TRUE"
        image: koalaman/shellcheck-alpine:stable
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            cpu: 500m
    trigger: (?m)^/test shellcheck
