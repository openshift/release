postsubmits:
  openshift/release:
  - agent: kubernetes
    branches:
    - ^master$
    cluster: app.ci
    decorate: true
    labels:
      ci.openshift.io/build-farm: build01
      ci.openshift.io/generator: cluster-init
      ci.openshift.io/role: infra
    max_concurrency: 1
    name: branch-ci-openshift-release-master-build01-apply
    spec:
      containers:
      - args:
        - --config-dir=clusters/build-clusters/build01
        - --as=
        - --kubeconfig=/etc/build-farm-credentials/kubeconfig
        - --confirm=true
        command:
        - applyconfig
        env:
        - name: build01_id
          valueFrom:
            secretKeyRef:
              key: build01-id
              name: build01-dex-oidc
        - name: slack_api_url
          valueFrom:
            secretKeyRef:
              key: url
              name: ci-slack-api-url
        image: registry.ci.openshift.org/ci/applyconfig:latest
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            cpu: 10m
        volumeMounts:
        - mountPath: /etc/build-farm-credentials
          name: build-farm-credentials
          readOnly: true
      serviceAccountName: config-updater
      volumes:
      - name: build-farm-credentials
        secret:
          items:
          - key: sa.config-updater.build01.config
            path: kubeconfig
          secretName: config-updater
  - agent: kubernetes
    branches:
    - ^master$
    cluster: app.ci
    decorate: true
    labels:
      ci.openshift.io/build-farm: build02
      ci.openshift.io/generator: cluster-init
      ci.openshift.io/role: infra
    max_concurrency: 1
    name: branch-ci-openshift-release-master-build02-apply
    spec:
      containers:
      - args:
        - --config-dir=clusters/build-clusters/build02
        - --as=
        - --kubeconfig=/etc/build-farm-credentials/kubeconfig
        - --confirm=true
        command:
        - applyconfig
        env:
        - name: build02_id
          valueFrom:
            secretKeyRef:
              key: build02-id
              name: build02-dex-oidc
        - name: slack_api_url
          valueFrom:
            secretKeyRef:
              key: url
              name: ci-slack-api-url
        image: registry.ci.openshift.org/ci/applyconfig:latest
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            cpu: 10m
        volumeMounts:
        - mountPath: /etc/build-farm-credentials
          name: build-farm-credentials
          readOnly: true
      serviceAccountName: config-updater
      volumes:
      - name: build-farm-credentials
        secret:
          items:
          - key: sa.config-updater.build02.config
            path: kubeconfig
          secretName: config-updater
  - agent: kubernetes
    branches:
    - ^master$
    cluster: app.ci
    decorate: true
    labels:
      ci.openshift.io/build-farm: build03
      ci.openshift.io/generator: cluster-init
      ci.openshift.io/role: infra
    max_concurrency: 1
    name: branch-ci-openshift-release-master-build03-apply
    spec:
      containers:
      - args:
        - --config-dir=clusters/build-clusters/build03
        - --as=
        - --kubeconfig=/etc/build-farm-credentials/kubeconfig
        - --confirm=true
        command:
        - applyconfig
        image: registry.ci.openshift.org/ci/applyconfig:latest
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            cpu: 10m
        volumeMounts:
        - mountPath: /etc/build-farm-credentials
          name: build-farm-credentials
          readOnly: true
      serviceAccountName: config-updater
      volumes:
      - name: build-farm-credentials
        secret:
          items:
          - key: sa.config-updater.build03.config
            path: kubeconfig
          secretName: config-updater
  - agent: kubernetes
    branches:
    - ^master$
    cluster: app.ci
    decorate: true
    labels:
      ci.openshift.io/build-farm: build04
      ci.openshift.io/generator: cluster-init
      ci.openshift.io/role: infra
    max_concurrency: 1
    name: branch-ci-openshift-release-master-build04-apply
    spec:
      containers:
      - args:
        - --config-dir=clusters/build-clusters/build04
        - --as=
        - --kubeconfig=/etc/build-farm-credentials/kubeconfig
        - --confirm=true
        command:
        - applyconfig
        image: registry.ci.openshift.org/ci/applyconfig:latest
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            cpu: 10m
        volumeMounts:
        - mountPath: /etc/build-farm-credentials
          name: build-farm-credentials
          readOnly: true
      serviceAccountName: config-updater
      volumes:
      - name: build-farm-credentials
        secret:
          items:
          - key: sa.config-updater.build04.config
            path: kubeconfig
          secretName: config-updater
  - agent: kubernetes
    branches:
    - ^master$
    cluster: app.ci
    decorate: true
    labels:
      ci.openshift.io/build-farm: build05
      ci.openshift.io/generator: cluster-init
      ci.openshift.io/role: infra
    max_concurrency: 1
    name: branch-ci-openshift-release-master-build05-apply
    spec:
      containers:
      - args:
        - --config-dir=clusters/build-clusters/build05
        - --as=
        - --kubeconfig=/etc/build-farm-credentials/kubeconfig
        - --confirm=true
        command:
        - applyconfig
        image: registry.ci.openshift.org/ci/applyconfig:latest
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            cpu: 10m
        volumeMounts:
        - mountPath: /etc/build-farm-credentials
          name: build-farm-credentials
          readOnly: true
      serviceAccountName: config-updater
      volumes:
      - name: build-farm-credentials
        secret:
          items:
          - key: sa.config-updater.build05.config
            path: kubeconfig
          secretName: config-updater
  - agent: kubernetes
    branches:
    - ^master$
    cluster: app.ci
    decorate: true
    labels:
      ci.openshift.io/build-farm: build09
      ci.openshift.io/generator: cluster-init
      ci.openshift.io/role: infra
    max_concurrency: 1
    name: branch-ci-openshift-release-master-build09-apply
    spec:
      containers:
      - args:
        - --config-dir=clusters/build-clusters/build09
        - --as=
        - --kubeconfig=/etc/build-farm-credentials/kubeconfig
        - --confirm=true
        command:
        - applyconfig
        env:
        - name: build09_id
          valueFrom:
            secretKeyRef:
              key: build09-id
              name: build09-dex-oidc
        image: registry.ci.openshift.org/ci/applyconfig:latest
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            cpu: 10m
        volumeMounts:
        - mountPath: /etc/build-farm-credentials
          name: build-farm-credentials
          readOnly: true
      serviceAccountName: config-updater
      volumes:
      - name: build-farm-credentials
        secret:
          items:
          - key: sa.config-updater.build09.config
            path: kubeconfig
          secretName: config-updater
  - agent: kubernetes
    branches:
    - ^master$
    cluster: app.ci
    decorate: true
    labels:
      ci.openshift.io/build-farm: build10
      ci.openshift.io/generator: cluster-init
      ci.openshift.io/role: infra
    max_concurrency: 1
    name: branch-ci-openshift-release-master-build10-apply
    spec:
      containers:
      - args:
        - --config-dir=clusters/build-clusters/build10
        - --as=
        - --kubeconfig=/etc/build-farm-credentials/kubeconfig
        - --confirm=true
        command:
        - applyconfig
        env:
        - name: build10_id
          valueFrom:
            secretKeyRef:
              key: build10-id
              name: build10-dex-oidc
        image: registry.ci.openshift.org/ci/applyconfig:latest
        imagePullPolicy: Always
        name: ""
        resources:
          requests:
            cpu: 10m
        volumeMounts:
        - mountPath: /etc/build-farm-credentials
          name: build-farm-credentials
          readOnly: true
      serviceAccountName: config-updater
      volumes:
      - name: build-farm-credentials
        secret:
          items:
          - key: sa.config-updater.build10.config
            path: kubeconfig
          secretName: config-updater
