The directory describes the contents of all published images generated by ci-operator jobs after code is merged to a repository branch under CI control.

The `names` files contain the mapping between the image name and the ci-operator config that created the image. When a new image is created these files are automatically updated by the `ci-operator-prowgen` command. Depending on where you are publishing an image, you may have to have approval to add a new image and name (much like an RPM name is granted to new projects).

## Where should my job publish images

If other components outside of your repository need to access your images, you will need to publish them. You must have an approved location to publish your images to.

### Images that are part of an OpenShift release

```
promotion:
  namespace: ocp  # will become part of the OpenShift payload or core CI
  name: 4.5       # or 4.4, 4.3, etc
```

Approval is required for new names before you can publish your new image.

Naming conventions:

* Names must be `[a-z\-]`
* Names may have a major or major.minor component if multiple versions would ship within the same release, e.g. `elasticsearch5` and `elasticsearch6`
* Image names should be scoped within a top level component or functional area:
  * `cluster-*` for core operators, e.g. `cluster-network-operator`
  * by component area, e.g. `storage-*`, `logging-*`, `metering-*`
* Generally operator images are expected to end with `*-operator`
* Images that reference the RHCoS or FCoS machine OS should use `*-machine-os-*` instead of `fcos` or `rhcos`

After approval your PR will be merged and images will be automatically mirrored to Quay as appropriate.


### New projects within the OpenShift ecosystem

Select a top-level namespace name representing your project - e.g. `openshift-cnv`, `openshift-knative`. Get that namespace created by ....

Set your promotion config to:

```
promotion:
  namespace: yournamespace
  name: chosen_name
```

After configuring your namespace, you will need to define whether you need images mirrored to an external image registry.

Follow instructions [here](...) for completing your promotion job.