base_images:
  cli:
    name: "4.21"
    namespace: ocp
    tag: cli
build_root:
  image_stream_tag:
    name: release
    namespace: openshift
    tag: golang-1.23
releases:
  latest:
    candidate:
      product: ocp
      stream: nightly
      version: "4.21"
resources:
  '*':
    requests:
      cpu: 100m
      memory: 200Mi
tests:
- as: cocl-operator-e2e-azure
  cron: 0 0 31 2 1
  steps:
    cluster_profile: azure-confidential-qe
    env:
      AZURE_INSTALL_USE_MINIMAL_PERMISSIONS: "no"
      BASE_DOMAIN: cc.azure.dog8.cloud
      BASE_DOMAIN_RESOURCE_GROUP: confidential-clusters-dns
      COMPUTE_NODE_TYPE: Standard_DC8ads_v5
      CONTROL_PLANE_INSTANCE_TYPE: Standard_DC8ads_v5
      ENABLE_CONFIDENTIAL_COMPUTE: "true"
      ENABLE_CONFIDENTIAL_CONTROL_PLANE: "true"
      ENABLE_ENCRYPTIONATHOST_CONTROL_PLANE: "false"
      MULTISTAGE_PARAM_OVERRIDE_COCL_FBC_INDEX_IMAGE: quay.io/redhat-user-workloads/cocl-operator-tenant/confidential-cluster-operator-fbc@sha256:6fb564bf9ee7471b352952ffaef1f3ef9dae7dfc1f873af16f38e4aff0f2f593
      OPERATORS: |
        [
          {
            "name": "cocl-operator",
            "source": "cocl-operator-catalogsource",
            "channel": "alpha",
            "install_namespace": "openshift-cocl-operator",
            "target_namespaces": "",
            "operator_group": "cocl-operator-group"
          }
        ]
    test:
    - ref: cocl-enable-konflux-catalogsource
    - ref: cocl-create-scc
    - ref: install-operators
    - ref: cocl-operator-e2e-tests
    workflow: cucushift-installer-rehearse-azure-ipi-confidential-confidentialvm
  timeout: 24h0m0s
zz_generated_metadata:
  branch: main
  org: confidential-clusters
  repo: operator
  variant: periodics
