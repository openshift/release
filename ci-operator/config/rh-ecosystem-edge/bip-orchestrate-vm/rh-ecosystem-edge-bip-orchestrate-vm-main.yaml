base_images:
  ib-orchestrate-vm:
    name: ib-orchestrate-vm
    namespace: edge-infrastructure
    tag: latest
  installer:
    name: "4.22"
    namespace: ocp
    tag: installer
  lifecycle-agent-operator-4-22:
    name: "4.22"
    namespace: ocp-kni
    tag: lifecycle-agent-operator
  lifecycle-agent-operator-bundle-4-21:
    name: "4.21"
    namespace: ocp-kni
    tag: lifecycle-agent-operator-bundle
  lifecycle-agent-operator-bundle-4-22:
    name: "4.22"
    namespace: ocp-kni
    tag: lifecycle-agent-operator-bundle
  recert:
    name: recert
    namespace: edge-infrastructure
    tag: latest
build_root:
  image_stream_tag:
    name: release
    namespace: openshift
    tag: golang-1.22
images:
- dockerfile_literal: |
    FROM placeholder
  from: src
  to: bip-orchestrate-vm
promotion:
  to:
  - namespace: edge-infrastructure
    tag: latest
    tag_by_commit: true
releases:
  latest:
    integration:
      name: "4.22"
      namespace: ocp
resources:
  '*':
    limits:
      memory: 4Gi
    requests:
      cpu: 100m
      memory: 200Mi
tests:
- as: ibu-e2e-flow
  optional: true
  skip_if_only_changed: ^(?:LICENSE$|.*\.md$)
  steps:
    cluster_profile: aws
    dependencies:
      BIP_ORCHESTRATE_VM_REF: bip-orchestrate-vm
      IB_ORCHESTRATE_VM_REF: pipeline:ib-orchestrate-vm
      LCA_PULL_REF: pipeline:lifecycle-agent-operator-4-22
      OO_BUNDLE: pipeline:lifecycle-agent-operator-bundle-4-22
      RECERT_IMAGE: pipeline:recert
      TARGET_LCA_REF: pipeline:lifecycle-agent-operator-bundle-4-21
    env:
      OCP_BASE_IMAGE_SOURCE: ci
      OCP_BASE_VERSION: "4.22"
      OCP_TARGET_IMAGE_SOURCE: ci
      OCP_TARGET_VERSION: "4.21"
      SEED_IMAGE_TAG_FORMAT: presubmit
    workflow: openshift-image-based-upgrade-presubmit
- as: ibi-e2e-flow
  optional: true
  skip_if_only_changed: ^(?:LICENSE$|.*\.md$)
  steps:
    cluster_profile: aws-5
    dependencies:
      BIP_ORCHESTRATE_VM_REF: bip-orchestrate-vm
      IB_ORCHESTRATE_VM_REF: pipeline:ib-orchestrate-vm
      INSTALLER_PULL_REF: pipeline:installer
      LCA_PULL_REF: pipeline:lifecycle-agent-operator-4-22
      OO_BUNDLE: pipeline:lifecycle-agent-operator-bundle-4-22
      RECERT_IMAGE: pipeline:recert
    env:
      OCP_BASE_IMAGE_SOURCE: ci
      OCP_BASE_VERSION: "4.22"
      SEED_IMAGE_TAG_FORMAT: presubmit
      SEED_IMAGE_TAG_PREFIX: ibi
    workflow: openshift-image-based-install
zz_generated_metadata:
  branch: main
  org: rh-ecosystem-edge
  repo: bip-orchestrate-vm
