releases:
  latest:
    candidate:
      product: ocp
      stream: nightly
      version: "4.16"
resources:
  '*':
    requests:
      cpu: 100m
      memory: 200Mi
tests:
- as: ocp-self-managed-layered-product-interop-416
  cron: 0 1 8-31 * 1
  steps:
    cluster_profile: aws-cspi-qe
    env:
      FIREWATCH_CONFIG: |
        {
          "failure_rules": [{"step": "trigger-jobs", "failure_type": "all", "classification": "self-managed Trigger Failure", "jira_additional_labels": ["4.16-lp","self-managed-lp","weekly-trigger-lp"]}]
        }
      FIREWATCH_DEFAULT_JIRA_PROJECT: LPINTEROP
      JSON_TRIGGER_LIST: self-managed-lp-interop-jobs-416
    post:
    - ref: firewatch-report-issues
    test:
    - ref: trigger-jobs
- as: ocp-self-managed-lp-watcher-bot-message-416
  cron: 0 14 * * 1
  steps:
    cluster_profile: aws-cspi-qe
    env:
      WATCHER_BOT_JOB_FILE: self-managed-lp-interop-jobs-416
      WATCHER_BOT_JOB_GROUP_NAME: OCP Self Managed Layered Product Scenarios
    test:
    - ref: trigger-jobs-interop-ocp-watcher-bot-send-message
- as: ocp-self-managed-layered-product-interop-416-fips
  cron: 0 1 1-7 * 1
  steps:
    cluster_profile: aws-cspi-qe
    env:
      FIREWATCH_CONFIG: |
        {
          "failure_rules": [{"step": "trigger-jobs", "failure_type": "all", "classification": "self-managed Trigger Failure", "jira_additional_labels": ["4.16-lp","self-managed-lp","fips","weekly-trigger-lp"]}]
        }
      FIREWATCH_DEFAULT_JIRA_PROJECT: LPINTEROP
      JSON_TRIGGER_LIST: self-managed-lp-interop-jobs-416-fips
    post:
    - ref: firewatch-report-issues
    test:
    - ref: trigger-jobs
- as: ocp-self-managed-lp-watcher-bot-message-416-fips
  cron: 0 14 * * 1
  steps:
    cluster_profile: aws-cspi-qe
    env:
      WATCHER_BOT_JOB_FILE: self-managed-lp-interop-jobs-416-fips
      WATCHER_BOT_JOB_GROUP_NAME: OCP Self Managed Layered Product Scenarios - FIPS
    test:
    - ref: trigger-jobs-interop-ocp-watcher-bot-send-message
- as: rosa-sts-hypershift-layered-product-interop-415
  cron: 0 0 * * 5
  steps:
    cluster_profile: aws-cspi-qe
    env:
      FIREWATCH_CONFIG: |
        {
          "failure_rules":[{"step": "trigger-jobs", "failure_type": "all", "classification": "Rosa-sts-hypershift Trigger Failure"}]
        }
      FIREWATCH_DEFAULT_JIRA_PROJECT: LPINTEROP
      JSON_TRIGGER_LIST: rosa-sts-hypershift-lp-interop-jobs-1
    post:
    - ref: firewatch-report-issues
    test:
    - ref: trigger-jobs
- as: rosa-sts-hypershift-layered-product-interop-414
  cron: 0 6 * * 5
  steps:
    cluster_profile: aws-cspi-qe
    env:
      FIREWATCH_CONFIG: |
        {
          "failure_rules":[{"step": "trigger-jobs", "failure_type": "all", "classification": "Rosa-sts-hypershift Trigger Failure"}]
        }
      FIREWATCH_DEFAULT_JIRA_PROJECT: LPINTEROP
      JSON_TRIGGER_LIST: rosa-sts-hypershift-lp-interop-jobs-2
    post:
    - ref: firewatch-report-issues
    test:
    - ref: trigger-jobs
- as: rosa-sts-hypershift-lp-watcher-bot-message-415
  cron: 0 18 * * 5
  steps:
    cluster_profile: aws-cspi-qe
    env:
      WATCHER_BOT_JOB_FILE: rosa-sts-hypershift-lp-interop-jobs-1
      WATCHER_BOT_JOB_GROUP_NAME: ROSA STS Hypershift Layered Product Scenarios
    test:
    - ref: trigger-jobs-interop-ocp-watcher-bot-send-message
- as: rosa-sts-hypershift-lp-watcher-bot-message-414
  cron: 0 18 * * 5
  steps:
    cluster_profile: aws-cspi-qe
    env:
      WATCHER_BOT_JOB_FILE: rosa-sts-hypershift-lp-interop-jobs-2
      WATCHER_BOT_JOB_GROUP_NAME: ROSA STS Hypershift Layered Product Scenarios
    test:
    - ref: trigger-jobs-interop-ocp-watcher-bot-send-message
- as: ocp-self-managed-layered-product-interop-zstream-n-1
  cron: 0 16 15 4 *
  steps:
    cluster_profile: aws-cspi-qe
    env:
      FIREWATCH_CONFIG: |
        {
          "failure_rules": [{"step": "trigger-jobs", "failure_type": "all", "classification": "self-managed Trigger Failure", "jira_additional_labels": ["self-managed-lp","weekly-trigger-lp"]}]
        }
      FIREWATCH_DEFAULT_JIRA_PROJECT: LPINTEROP
      JSON_TRIGGER_LIST: self-managed-lp-interop-jobs-zstream-n-1
    post:
    - ref: firewatch-report-issues
    test:
    - ref: trigger-jobs
- as: ocp-self-managed-layered-product-interop-zstream-n-2
  cron: 0 16 15 4 *
  steps:
    cluster_profile: aws-cspi-qe
    env:
      FIREWATCH_CONFIG: |
        {
          "failure_rules": [{"step": "trigger-jobs", "failure_type": "all", "classification": "self-managed Trigger Failure", "jira_additional_labels": ["self-managed-lp","weekly-trigger-lp"]}]
        }
      FIREWATCH_DEFAULT_JIRA_PROJECT: LPINTEROP
      JSON_TRIGGER_LIST: self-managed-lp-interop-jobs-zstream-n-2
    post:
    - ref: firewatch-report-issues
    test:
    - ref: trigger-jobs
zz_generated_metadata:
  branch: main
  org: rhpit
  repo: interop-tests
  variant: weekly_trigger
