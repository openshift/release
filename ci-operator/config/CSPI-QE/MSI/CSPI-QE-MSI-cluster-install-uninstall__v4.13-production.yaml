base_images:
  openshift-cli-installer:
    name: openshift-cli-installer
    namespace: ci
    tag: latest
releases:
  latest:
    candidate:
      product: ocp
      stream: ci
      version: "4.13"
resources:
  '*':
    limits:
      memory: 4Gi
    requests:
      cpu: 100m
      memory: 200Mi
tests:
- as: cluster-install-uninstall-hypershift
  steps:
    cluster_profile: aws-managed-cspi-qe
    env:
      CLUSTER1_CONFIG: name=ci-hyper;platform=hypershift;region=us-west-2;version=4.13.4;compute-machine-type=m5.4xlarge;replicas=6;channel-group=candidate;expiration-time=4h;timeout=1h
      OCM_ENVIRONMENT: production
      S3_BUCKET_NAME: openshift-cli-installer
      S3_BUCKET_PATH: openshift-ci
    test:
    - ref: cluster-install
    - ref: cluster-uninstall
- as: cluster-install-uninstall-rosa
  steps:
    cluster_profile: aws-managed-cspi-qe
    env:
      CLUSTER1_CONFIG: name=ci-rosa;platform=rosa;region=us-west-2;version=4.13.4;compute-machine-type=m5.4xlarge;replicas=6;channel-group=candidate;expiration-time=4h;timeout=1h
      OCM_ENVIRONMENT: production
      S3_BUCKET_NAME: openshift-cli-installer
      S3_BUCKET_PATH: openshift-ci
    test:
    - ref: cluster-install
    - ref: cluster-uninstall
- as: cluster-install-uninstall-aws-ipi
  steps:
    cluster_profile: aws-managed-cspi-qe
    env:
      CLUSTER1_CONFIG: name=ci-aws-ipi;base_domain=aws.interop.ccitredhat.com;platform=aws;region=us-east-2;version=4.13.4;worker_flavor=m5.xlarge
      OCM_ENVIRONMENT: production
      PULL_SECRET_NAME: pull-secret
      S3_BUCKET_NAME: openshift-cli-installer
      S3_BUCKET_PATH: openshift-ci
    test:
    - ref: cluster-install
    - ref: cluster-uninstall
- as: cluster-install-uninstall-hypershift-rosa
  steps:
    cluster_profile: aws-managed-cspi-qe
    env:
      CLUSTER1_CONFIG: name=ci-hyper;platform=hypershift;region=us-west-2;version=4.13.4;compute-machine-type=m5.xlarge;replicas=2;channel-group=candidate;expiration-time=4h;timeout=1h
      CLUSTER2_CONFIG: name=ci-rosa;platform=rosa;region=us-west-2;version=4.13.4;compute-machine-type=m5.xlarge;replicas=2;channel-group=candidate;expiration-time=4h;timeout=1h
      OCM_ENVIRONMENT: production
      S3_BUCKET_NAME: openshift-cli-installer
      S3_BUCKET_PATH: openshift-ci
    test:
    - ref: cluster-install
    - ref: cluster-uninstall
zz_generated_metadata:
  branch: cluster-install-uninstall
  org: CSPI-QE
  repo: MSI
  variant: v4.13-production
