base_images:
  cli:
    name: "4.6"
    namespace: ocp
    tag: cli
build_root:
  project_image:
    dockerfile_path: scripts/ci/Dockerfile.ci-operator
resources:
  '*':
    requests:
      cpu: 1000m
      memory: 4Gi
tag_specification:
  name: "4.6"
  namespace: ocp
tests:
- as: free-test1
  commands: |
    export PATH=$PATH:/tmp/operator-test/bin
    mkdir -p /tmp/operator-test/bin
    curl https://mirror.openshift.com/pub/openshift-v4/clients/oc/4.6/linux/oc.tar.gz | tar xvzf - -C /tmp/operator-test/bin oc
    chmod ug+x /tmp/operator-test/bin/oc
    oc get pods --all-namespaces|grep -i olm
    /usr/bin/ansible-pull -vv -U https://github.com/J0zi/operator-test-playbooks -C RHO-716-deploy-on-openshift -vv -i localhost, deploy-olm-operator-openshift-upstream.yml -e ansible_connection=local -e op_version='0.1.0' -e operator_dir='/tmp/oper-for-me-test/community-operators/community-operators/ripsaw
  openshift_installer_src:
    cluster_profile: aws
- as: free-test2
  commands: |
    export PATH=$PATH:/tmp/operator-test/bin
    mkdir -p /tmp/operator-test/bin
    curl https://mirror.openshift.com/pub/openshift-v4/clients/oc/4.6/linux/oc.tar.gz | tar xvzf - -C /tmp/operator-test/bin oc
    chmod ug+x /tmp/operator-test/bin/oc
    oc get pods --all-namespaces|grep -i olm
    /usr/bin/ansible-pull -vv -U https://github.com/J0zi/operator-test-playbooks -C RHO-716-deploy-on-openshift -vv -i localhost, deploy-olm-operator-openshift-upstream.yml -e ansible_connection=local -e op_version='7.21.0' -e operator_dir='/tmp/oper-for-me-test/community-operators/community-operators/t8c
  openshift_installer_src:
    cluster_profile: aws
- as: free-test3
  commands: |
    export PATH=$PATH:/tmp/operator-test/bin
    mkdir -p /tmp/operator-test/bin
    curl https://mirror.openshift.com/pub/openshift-v4/clients/oc/4.6/linux/oc.tar.gz | tar xvzf - -C /tmp/operator-test/bin oc
    chmod ug+x /tmp/operator-test/bin/oc
    oc get pods --all-namespaces|grep -i olm
    /usr/bin/ansible-pull -vv -U https://github.com/J0zi/operator-test-playbooks -C RHO-716-deploy-on-openshift -vv -i localhost, deploy-olm-operator-openshift-upstream.yml -e ansible_connection=local  -e op_version='1.33.0' -e operator_dir='/tmp/oper-for-me-test/community-operators/community-operators/snyk-operator
  openshift_installer_src:
    cluster_profile: aws
- as: free-test4
  commands: |
    export PATH=$PATH:/tmp/operator-test/bin
    mkdir -p /tmp/operator-test/bin
    curl https://mirror.openshift.com/pub/openshift-v4/clients/oc/4.6/linux/oc.tar.gz | tar xvzf - -C /tmp/operator-test/bin oc
    chmod ug+x /tmp/operator-test/bin/oc
    oc get pods --all-namespaces|grep -i olm
    /usr/bin/ansible-pull -vv -U https://github.com/J0zi/operator-test-playbooks -C RHO-716-deploy-on-openshift -vv -i localhost, deploy-olm-operator-openshift-upstream.yml -e ansible_connection=local -e op_version='1.1.0' -e operator_dir='/tmp/oper-for-me-test/community-operators/community-operators/wso2am-operator
  openshift_installer_src:
    cluster_profile: aws
- as: src-test
  commands: |
    echo "Need to clone default branch, cloning..."
    mkdir -p /tmp/oper
    cd /tmp/oper
    git clone https://github.com/J0zi/community-operators.git
    cd community-operators
    git checkout RHO-716-release-on-openshift
    ls
    scripts/ci/openshift-deploy.sh
  openshift_installer_src:
    cluster_profile: aws
zz_generated_metadata:
  branch: master
  org: operator-framework
  repo: community-operators
