base_images:
  cli:
    name: "4.6"
    namespace: ocp
    tag: cli
build_root:
  project_image:
    dockerfile_path: scripts/ci/Dockerfile.ci-operator
resources:
  '*':
    requests:
      cpu: 1000m
      memory: 4Gi
tag_specification:
  name: "4.6"
  namespace: ocp
tests:
- as: free-test1
  commands: |
    export PATH=$PATH:/tmp/operator-test/bin
    mkdir -p /tmp/operator-test/bin
    curl https://mirror.openshift.com/pub/openshift-v4/clients/oc/4.6/linux/oc.tar.gz | tar xvzf - -C /tmp/operator-test/bin oc
    chmod ug+x /tmp/operator-test/bin/oc
    oc get pods --all-namespaces|grep -i olm
    /usr/bin/ansible-pull -vv -U https://github.com/J0zi/operator-test-playbooks -C RHO-716-deploy-on-openshift -vv -i localhost, deploy-olm-operator-openshift-upstream.yml -e ansible_connection=local -e package_name=ripsaw -e csv_name=ripsaw.v0.1.0.clusterserviceversion.yaml -e operator_ownnamespace_support=true -e operator_singlenamespace_support=true -e operator_multinamespace_support=false -e operator_allnamespaces_support=false
  openshift_installer_src:
    cluster_profile: aws
- as: free-test2
  commands: |
    export PATH=$PATH:/tmp/operator-test/bin
    mkdir -p /tmp/operator-test/bin
    curl https://mirror.openshift.com/pub/openshift-v4/clients/oc/4.6/linux/oc.tar.gz | tar xvzf - -C /tmp/operator-test/bin oc
    chmod ug+x /tmp/operator-test/bin/oc
    oc get pods --all-namespaces|grep -i olm
    /usr/bin/ansible-pull -vv -U https://github.com/J0zi/operator-test-playbooks -C RHO-716-deploy-on-openshift -vv -i localhost, deploy-olm-operator-openshift-upstream.yml -e ansible_connection=local -e package_name=t8c -e csv_name=t8c-operator.v7.21.0.clusterserviceversion.yaml
  openshift_installer_src:
    cluster_profile: aws
- as: free-test3
  commands: |
    export PATH=$PATH:/tmp/operator-test/bin
    mkdir -p /tmp/operator-test/bin
    curl https://mirror.openshift.com/pub/openshift-v4/clients/oc/4.6/linux/oc.tar.gz | tar xvzf - -C /tmp/operator-test/bin oc
    chmod ug+x /tmp/operator-test/bin/oc
    oc get pods --all-namespaces|grep -i olm
    /usr/bin/ansible-pull -vv -U https://github.com/J0zi/operator-test-playbooks -C RHO-716-deploy-on-openshift -vv -i localhost, deploy-olm-operator-openshift-upstream.yml -e ansible_connection=local -e package_name=snyk-operator -e csv_name=snyk-operator.v1.33.0.clusterserviceversion.yaml -e operator_ownnamespace_support=true -e operator_singlenamespace_support=true -e operator_multinamespace_support=false -e operator_allnamespaces_support=false -e current_channel=stable
  openshift_installer_src:
    cluster_profile: aws
- as: free-test4
  commands: |
    export PATH=$PATH:/tmp/operator-test/bin
    mkdir -p /tmp/operator-test/bin
    curl https://mirror.openshift.com/pub/openshift-v4/clients/oc/4.6/linux/oc.tar.gz | tar xvzf - -C /tmp/operator-test/bin oc
    chmod ug+x /tmp/operator-test/bin/oc
    oc get pods --all-namespaces|grep -i olm
    /usr/bin/ansible-pull -vv -U https://github.com/J0zi/operator-test-playbooks -C RHO-716-deploy-on-openshift -vv -i localhost, deploy-olm-operator-openshift-upstream.yml -e ansible_connection=local -e package_name=wso2am-operator -e csv_name=wso2am-operator.v1.1.0.clusterserviceversion.yaml  -e operator_ownnamespace_support=true -e operator_singlenamespace_support=true -e operator_multinamespace_support=true -e operator_allnamespaces_support=true -e current_channel=stable
  openshift_installer_src:
    cluster_profile: aws
- as: src-test
  commands: |
    echo "Need to clone default branch, cloning..."
    mkdir -p /tmp/oper
    cd /tmp/oper
    git clone https://github.com/J0zi/community-operators.git
    cd community-operators
    git checkout RHO-716-release-on-openshift
    ls
    scripts/ci/openshift-deploy.sh
  openshift_installer_src:
    cluster_profile: aws
zz_generated_metadata:
  branch: master
  org: operator-framework
  repo: community-operators
