base_images:
  assisted-image-service:
    name: ocm-2.8
    namespace: edge-infrastructure
    tag: assisted-image-service
  assisted-installer:
    name: ocm-2.8
    namespace: edge-infrastructure
    tag: assisted-installer
  assisted-installer-agent:
    name: ocm-2.8
    namespace: edge-infrastructure
    tag: assisted-installer-agent
  assisted-installer-controller:
    name: ocm-2.8
    namespace: edge-infrastructure
    tag: assisted-installer-controller
  assisted-service:
    name: ocm-2.8
    namespace: edge-infrastructure
    tag: assisted-service
  cluster-api-provider-agent:
    name: ocm-2.8
    namespace: edge-infrastructure
    tag: cluster-api-provider-agent
  dev-scripts:
    name: test
    namespace: ocp-kni
    tag: dev-scripts
  govc:
    name: govc
    namespace: ci
    tag: v0.29.0
  hypershift-operator:
    name: "4.11"
    namespace: ocp
    tag: hypershift-operator
build_root:
  from_repository: true
images:
- dockerfile_literal: |
    FROM base
    COPY . .
  from: src
  to: assisted-test-infra
- dockerfile_path: Dockerfile.assisted-test-infra
  inputs:
    govc:
      as:
      - quay.io/ocp-splat/govc:v0.29.0
  to: assisted-test-infra-internal
releases:
  latest:
    candidate:
      product: ocp
      stream: nightly
      version: "4.13"
resources:
  '*':
    requests:
      cpu: 100m
      memory: 200Mi
tests:
- as: e2e-vsphere-assisted
  optional: true
  steps:
    cluster_profile: vsphere
    env:
      ASSISTED_CONFIG: |
        NUM_WORKERS=3
        MAKEFILE_TARGET=test
        WORKER_VCPU=4
        WORKER_MEMORY=16384
      PLATFORM: vsphere
    workflow: assisted-vsphere
  timeout: 6h0m0s
zz_generated_metadata:
  branch: master
  org: openshift
  repo: assisted-test-infra
  variant: debug
