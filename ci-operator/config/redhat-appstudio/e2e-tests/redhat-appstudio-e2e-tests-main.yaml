build_root:
  project_image:
    dockerfile_path: .ci/openshift-ci/Dockerfile
releases:
  latest:
    release:
      architecture: amd64
      channel: stable
      version: "4.10"
resources:
  '*':
    limits:
      memory: 4Gi
    requests:
      cpu: 100m
      memory: 200Mi
tests:
- as: redhat-appstudio-e2e
  steps:
    test:
    - as: redhat-appstudio-e2e
      cli: latest
      commands: |
        # get branch ref of the fork the PR was created from
        AUTHOR_LINK=$(jq -r '.refs[0].pulls[0].author_link' <<< ${CLONEREFS_OPTIONS} | tr -d '[:space:]')
        PULL_PULL_SHA=${PULL_PULL_SHA:-$(jq -r '.refs[0].pulls[0].sha' <<< ${CLONEREFS_OPTIONS} | tr -d '[:space:]')}
        echo "using author link ${AUTHOR_LINK}"
      credentials:
      - mount_path: /usr/local/ci-secrets/redhat-appstudio-qe
        name: ci-secrets
        namespace: test-credentials
      from: src
      resources:
        requests:
          cpu: 100m
zz_generated_metadata:
  branch: main
  org: redhat-appstudio
  repo: e2e-tests
