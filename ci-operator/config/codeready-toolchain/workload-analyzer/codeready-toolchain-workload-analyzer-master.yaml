base_images:
  base:
    name: "4.17"
    namespace: ocp
    tag: base
binary_build_commands: make build
build_root:
  image_stream_tag:
    name: builder
    namespace: ocp
    tag: rhel-9-golang-1.22-openshift-4.17
images:
- dockerfile_path: test/e2e/alertmanager-mock/build/Dockerfile
  from: base
  to: alertmanager-mock
- dockerfile_path: build/Dockerfile
  from: base
  to: workload-analyzer
releases:
  initial:
    integration:
      name: "4.17"
      namespace: ocp
  latest:
    integration:
      include_built_images: true
      name: "4.17"
      namespace: ocp
resources:
  '*':
    requests:
      cpu: "3"
      memory: 250Mi
tests:
- as: e2e
  steps:
    cluster_profile: devsandboxci-aws
    env:
      BASE_DOMAIN: devsandboxci.devcluster.openshift.com
    test:
    - as: test
      cli: latest
      commands: |
        export WEBHOOK_URL=$(cat /usr/local/sandbox/ci-secrets/webhook_url)
        make test-e2e-in-ci
      credentials:
      - mount_path: /usr/local/sandbox/ci-secrets
        name: ci-secrets
        namespace: test-credentials
      from: src
      resources:
        requests:
          cpu: "3"
          memory: 250Mi
    workflow: ipi-aws
zz_generated_metadata:
  branch: master
  org: codeready-toolchain
  repo: workload-analyzer
