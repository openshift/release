base_images:
  aro-hcp-e2e-tools:
    name: aro-hcp-e2e-tools
    namespace: aro-hcp
    tag: latest
releases:
  latest:
    release:
      channel: stable
      version: "4.20"
resources:
  '*':
    requests:
      cpu: 100m
      memory: 200Mi
  unit:
    requests:
      cpu: 1000m
      memory: 4Gi
tests:
- as: delete-expired-kusto-role-assignments
  cron: 0 4 * * *
  steps:
    cluster_profile: aro-hcp-dev
    test:
    - ref: aro-hcp-deprovision-kusto-role-assignments
- as: delete-expired-development-resource-groups
  cron: 7,37 * * * *
  steps:
    cluster_profile: aro-hcp-dev
    env:
      CLEANUP_MODE: no-rp
    test:
    - ref: aro-hcp-deprovision-expired-resource-groups
- as: delete-expired-integration-resource-groups
  cron: 7,37 * * * *
  steps:
    cluster_profile: aro-hcp-int
    test:
    - ref: aro-hcp-deprovision-expired-resource-groups
- as: delete-expired-stage-resource-groups
  cron: 7,37 * * * *
  steps:
    cluster_profile: aro-hcp-stg
    test:
    - ref: aro-hcp-deprovision-expired-resource-groups
- as: delete-expired-prod-resource-groups
  cron: 7,37 * * * *
  steps:
    cluster_profile: aro-hcp-prod
    test:
    - ref: aro-hcp-deprovision-expired-resource-groups
- as: integration-e2e-parallel
  cron: 0 0 1 1 *
  steps:
    cluster_profile: aro-hcp-int
    env:
      ARO_HCP_CLOUD: public
      ARO_HCP_DEPLOY_ENV: int
      ARO_HCP_SUITE_NAME: integration/parallel
      LOCATION: uksouth
    leases:
    - count: 20
      env: LEASED_MSI_CONTAINERS
      resource_type: aro-hcp-test-msi-containers-int
    workflow: aro-hcp-e2e
- as: stage-e2e-parallel
  cron: 0 0 1 1 *
  steps:
    cluster_profile: aro-hcp-stg
    env:
      ARO_HCP_CLOUD: public
      ARO_HCP_DEPLOY_ENV: stg
      ARO_HCP_SUITE_NAME: stage/parallel
      LOCATION: uksouth
    leases:
    - count: 30
      env: LEASED_MSI_CONTAINERS
      resource_type: aro-hcp-test-msi-containers-stg
    workflow: aro-hcp-e2e
- as: prod-e2e-parallel
  cron: 0 0 1 1 *
  steps:
    cluster_profile: aro-hcp-prod
    env:
      ARO_HCP_CLOUD: public
      ARO_HCP_DEPLOY_ENV: prod
      ARO_HCP_SUITE_NAME: prod/parallel
      LOCATION: uksouth
    leases:
    - count: 15
      env: LEASED_MSI_CONTAINERS
      resource_type: aro-hcp-test-msi-containers-prod
    workflow: aro-hcp-e2e
zz_generated_metadata:
  branch: main
  org: Azure
  repo: ARO-HCP
  variant: periodic
