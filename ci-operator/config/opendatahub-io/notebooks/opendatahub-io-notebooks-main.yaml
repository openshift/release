build_root:
  image_stream_tag:
    name: release
    namespace: openshift
    tag: rhel-8-release-golang-1.19-openshift-4.14
images:
- context_dir: base/ubi8-python-3.8
  dockerfile_path: Dockerfile
  to: base-ubi8-python-3.8
- context_dir: jupyter/minimal/ubi8-python-3.8
  dockerfile_path: Dockerfile
  from: base-ubi8-python-3.8
  to: jupyter-minimal-ubi8-python-3.8
- context_dir: jupyter/datascience/ubi8-python-3.8
  dockerfile_path: Dockerfile
  from: jupyter-minimal-ubi8-python-3.8
  to: jupyter-datascience-ubi8-python-3.8
- context_dir: cuda/ubi8-python-3.8
  dockerfile_path: Dockerfile
  from: base-ubi8-python-3.8
  to: cuda-ubi8-python-3.8
- context_dir: jupyter/minimal/ubi8-python-3.8
  dockerfile_path: Dockerfile
  from: cuda-ubi8-python-3.8
  to: cuda-jupyter-minimal-ubi8-python-3.8
- context_dir: jupyter/datascience/ubi8-python-3.8
  dockerfile_path: Dockerfile
  from: cuda-jupyter-minimal-ubi8-python-3.8
  to: cuda-jupyter-datascience-ubi8-python-3.8
- context_dir: habana/1.10.0/ubi8-python-3.8
  dockerfile_path: Dockerfile
  from: jupyter-datascience-ubi8-python-3.8
  to: habana-jupyter-1.10.0-ubi8-python-3.8
- context_dir: habana/1.13.0/ubi8-python-3.8
  dockerfile_path: Dockerfile
  from: jupyter-datascience-ubi8-python-3.8
  to: habana-jupyter-1.13.0-ubi8-python-3.8
- context_dir: runtimes/minimal/ubi8-python-3.8
  dockerfile_path: Dockerfile
  from: base-ubi8-python-3.8
  to: runtime-minimal-ubi8-python-3.8
- context_dir: runtimes/datascience/ubi8-python-3.8
  dockerfile_path: Dockerfile
  from: base-ubi8-python-3.8
  to: runtime-datascience-ubi8-python-3.8
- context_dir: runtimes/pytorch/ubi8-python-3.8
  dockerfile_path: Dockerfile
  from: base-ubi8-python-3.8
  to: runtime-pytorch-ubi8-python-3.8
- context_dir: runtimes/tensorflow/ubi8-python-3.8
  dockerfile_path: Dockerfile
  from: cuda-ubi8-python-3.8
  to: runtime-cuda-tensorflow-ubi8-python-3.8
- context_dir: base/ubi9-python-3.9
  dockerfile_path: Dockerfile
  to: base-ubi9-python-3.9
- context_dir: jupyter/minimal/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: base-ubi9-python-3.9
  to: jupyter-minimal-ubi9-python-3.9
- context_dir: jupyter/datascience/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: jupyter-minimal-ubi9-python-3.9
  to: jupyter-datascience-ubi9-python-3.9
- context_dir: cuda/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: base-ubi9-python-3.9
  to: cuda-ubi9-python-3.9
- context_dir: jupyter/minimal/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: cuda-ubi9-python-3.9
  to: cuda-jupyter-minimal-ubi9-python-3.9
- context_dir: jupyter/datascience/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: cuda-jupyter-minimal-ubi9-python-3.9
  to: cuda-jupyter-datascience-ubi9-python-3.9
- context_dir: jupyter/tensorflow/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: cuda-jupyter-datascience-ubi9-python-3.9
  to: cuda-jupyter-tensorflow-ubi9-python-3.9
- context_dir: jupyter/pytorch/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: cuda-jupyter-datascience-ubi9-python-3.9
  to: jupyter-pytorch-ubi9-python-3.9
- context_dir: jupyter/trustyai/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: jupyter-datascience-ubi9-python-3.9
  to: jupyter-trustyai-ubi9-python-3.9
- context_dir: runtimes/minimal/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: base-ubi9-python-3.9
  to: runtime-minimal-ubi9-python-3.9
- context_dir: runtimes/datascience/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: base-ubi9-python-3.9
  to: runtime-datascience-ubi9-python-3.9
- context_dir: runtimes/pytorch/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: base-ubi9-python-3.9
  to: runtime-pytorch-ubi9-python-3.9
- context_dir: runtimes/tensorflow/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: cuda-ubi9-python-3.9
  to: runtime-cuda-tensorflow-ubi9-python-3.9
- context_dir: intel/base/gpu/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: base-ubi9-python-3.9
  to: intel-base-gpu-ubi9-python-3.9
- context_dir: intel/runtimes/tensorflow/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: intel-base-gpu-ubi9-python-3.9
  to: intel-runtime-tensorflow-ubi9-python-3.9
- context_dir: jupyter/intel/tensorflow/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: intel-base-gpu-ubi9-python-3.9
  to: jupyter-intel-tensorflow-ubi9-python-3.9
- context_dir: intel/runtimes/pytorch/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: intel-base-gpu-ubi9-python-3.9
  to: intel-runtime-pytorch-ubi9-python-3.9
- context_dir: jupyter/intel/pytorch/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: intel-base-gpu-ubi9-python-3.9
  to: jupyter-intel-pytorch-ubi9-python-3.9
- context_dir: intel/runtimes/ml/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: base-ubi9-python-3.9
  to: intel-runtime-ml-ubi9-python-3.9
- context_dir: jupyter/intel/ml/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: base-ubi9-python-3.9
  to: jupyter-intel-ml-ubi9-python-3.9
- context_dir: base/c9s-python-3.9
  dockerfile_path: Dockerfile
  to: base-c9s-python-3.9
- context_dir: codeserver/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: base-ubi9-python-3.9
  to: codeserver-ubi9-python-3.9
- context_dir: rstudio/c9s-python-3.9
  dockerfile_path: Dockerfile
  from: base-c9s-python-3.9
  to: rstudio-c9s-python-3.9
- context_dir: cuda/c9s-python-3.9
  dockerfile_path: Dockerfile
  from: base-c9s-python-3.9
  to: cuda-c9s-python-3.9
- context_dir: rstudio/c9s-python-3.9
  dockerfile_path: Dockerfile
  from: cuda-c9s-python-3.9
  to: cuda-rstudio-c9s-python-3.9
- context_dir: amd/c9s-python-3.9
  dockerfile_path: Dockerfile
  from: base-c9s-python-3.9
  to: amd-c9s-python-3.9
- context_dir: jupyter/minimal/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: amd-c9s-python-3.9
  to: amd-jupyter-minimal-c9s-python-3.9
- context_dir: base/anaconda-python-3.8
  dockerfile_path: Dockerfile
  to: base-anaconda-python-3.8
- context_dir: jupyter/datascience/anaconda-python-3.8
  dockerfile_path: Dockerfile
  from: base-anaconda-python-3.8
  to: jupyter-datascience-anaconda-python-3.8
- context_dir: runtimes/rocm-pytorch/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: amd-ubi9-python-3.9
  to: runtime-rocm-pytorch-ubi9-python-3.9
- context_dir: runtimes/rocm-tensorflow/ubi9-python-3.9
  dockerfile_path: Dockerfile
  from: amd-ubi9-python-3.9
  to: runtime-rocm-tensorflow-ubi9-python-3.9
promotion:
  to:
  - namespace: opendatahub-io
    tag: latest
releases:
  latest:
    release:
      architecture: amd64
      channel: fast
      version: "4.10"
resources:
  '*':
    requests:
      cpu: 200m
      memory: 400Mi
tests:
- as: notebook-base-ubi8-python-3-8-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: base-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: base-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-base-ubi8-python-3-8-pr-image-mirror
  run_if_changed: (base\/ubi8-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: base-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: base-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-minimal-ubi8-python-3-8-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-minimal-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-minimal-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-minimal-ubi8-python-3-8-pr-image-mirror
  run_if_changed: (base\/ubi8-python-3.8\/*)|(jupyter\/minimal\/ubi8-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-minimal-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-minimal-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-datascience-ubi8-python-3-8-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-datascience-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-datascience-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-datascience-ubi8-python-3-8-pr-image-mirror
  run_if_changed: (base\/ubi8-python-3.8\/*)|(jupyter\/minimal\/ubi8-python-3.8\/*)|(jupyter\/datascience\/ubi8-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-datascience-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-datascience-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-ubi8-python-3-8-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-ubi8-python-3-8-pr-image-mirror
  run_if_changed: (base\/ubi8-python-3.8\/*)|(cuda\/ubi8-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-jupyter-minimal-ubi8-python-3-8-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-jupyter-minimal-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-jupyter-minimal-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-jupyter-minimal-ubi8-python-3-8-pr-image-mirror
  run_if_changed: (cuda\/ubi8-python-3.8\/*)|(base\/ubi8-python-3.8\/*)|(jupyter\/minimal\/ubi8-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-jupyter-minimal-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-jupyter-minimal-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-jupyter-ds-ubi8-python-3-8-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-jupyter-datascience-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-jupyter-datascience-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-jupyter-ds-ubi8-python-3-8-pr-image-mirror
  run_if_changed: (cuda\/ubi8-python-3.8\/*)|(base\/ubi8-python-3.8\/*)|(jupyter\/minimal\/ubi8-python-3.8\/*)|(jupyter\/datascience\/ubi8-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-jupyter-datascience-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-jupyter-datascience-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-habana-1-10-0-ubi8-python-3-8-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: habana-jupyter-1.10.0-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: habana-jupyter-1.10.0-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-habana-1-10-0-ubi8-python-3-8-pr-image-mirror
  run_if_changed: (base\/ubi8-python-3.8\/*)|(jupyter\/minimal\/ubi8-python-3.8\/*)|(jupyter\/datascience\/ubi8-python-3.8\/*)|(habana\/1.10.0\/ubi8-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: habana-jupyter-1.10.0-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: habana-jupyter-1.10.0-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-habana-1-13-0-ubi8-python-3-8-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: habana-jupyter-1.13.0-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: habana-jupyter-1.13.0-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-habana-1-13-0-ubi8-python-3-8-pr-image-mirror
  run_if_changed: (base\/ubi8-python-3.8\/*)|(jupyter\/minimal\/ubi8-python-3.8\/*)|(jupyter\/datascience\/ubi8-python-3.8\/*)|(habana\/1.13.0\/ubi8-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: habana-jupyter-1.13.0-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: habana-jupyter-1.13.0-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-minimal-ubi8-python-3-8-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-minimal-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-minimal-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-minimal-ubi8-python-3-8-pr-image-mirror
  run_if_changed: (base\/ubi8-python-3.8\/*)|(runtimes\/minimal\/ubi8-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-minimal-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-minimal-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-datascience-ubi8-python-3-8-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-datascience-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-datascience-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-datascience-ubi8-python-3-8-pr-image-mirror
  run_if_changed: (base\/ubi8-python-3.8\/*)|(runtimes\/datascience\/ubi8-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-datascience-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-datascience-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-pytorch-ubi8-python-3-8-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-pytorch-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-pytorch-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-pytorch-ubi8-python-3-8-pr-image-mirror
  run_if_changed: (base\/ubi8-python-3.8\/*)|(runtimes\/pytorch\/ubi8-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-pytorch-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-pytorch-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-cuda-tensorflow-ubi8-python-3-8-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-cuda-tensorflow-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-cuda-tensorflow-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-intel-tf-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(intel\/base\/gpu\/ubi9-python-3.9\/*)|(intel\/runtimes\/tensorflow\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: intel-runtime-tensorflow-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: intel-runtime-tensorflow-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-intel-tf-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: intel-runtime-tensorflow-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: intel-runtime-tensorflow-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-intel-pyt-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(intel\/base\/gpu\/ubi9-python-3.9\/*)|(intel\/runtimes\/pytorch\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: intel-runtime-pytorch-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: intel-runtime-pytorch-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-intel-pyt-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: intel-runtime-pytorch-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: intel-runtime-pytorch-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-intel-ml-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(intel\/runtimes\/ml\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: intel-runtime-ml-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: intel-runtime-ml-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-intel-ml-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: intel-runtime-ml-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: intel-runtime-ml-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-cuda-tensorflow-ubi8-python-3-8-pr-image-mirror
  run_if_changed: (base\/ubi8-python-3.8\/*)|(cuda\/ubi8-python-3.8\/*)|(runtimes\/tensorflow\/ubi8-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-cuda-tensorflow-ubi8-python-3.8
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-cuda-tensorflow-ubi8-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-base-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: base-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: base-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-base-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: base-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: base-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-minimal-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-minimal-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-minimal-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-minimal-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(jupyter\/minimal\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-minimal-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-minimal-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-datascience-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-datascience-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-datascience-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-datascience-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(jupyter\/minimal\/ubi9-python-3.9\/*)|(jupyter\/datacience\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-datascience-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-datascience-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-pytorch-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-pytorch-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-pytorch-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-pytorch-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(jupyter\/minimal\/ubi9-python-3.9\/*)|(jupyter\/datacience\/ubi9-python-3.9\/*)|(jupyter\/pytorch\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-pytorch-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-pytorch-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(cuda\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-jupyter-minimal-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-jupyter-minimal-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-jupyter-minimal-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-jupyter-minimal-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (cuda\/ubi9-python-3.9\/*)|(base\/ubi9-python-3.9\/*)|(jupyter\/minimal\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-jupyter-minimal-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: cuda-jupyter-minimal-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-jupyter-ds-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-jupyter-datascience-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-jupyter-datascience-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-jupyter-ds-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (cuda\/ubi9-python-3.9\/*)|(base\/ubi9-python-3.9\/*)|(jupyter\/minimal\/ubi9-python-3.9\/*)|(jupyter\/datascience\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-jupyter-datascience-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-jupyter-datascience-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-jupyter-tf-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-jupyter-tensorflow-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-jupyter-tensorflow-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-jupyter-tf-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (cuda\/ubi9-python-3.9\/*)|(base\/ubi9-python-3.9\/*)|(jupyter\/minimal\/ubi9-python-3.9\/*)|(jupyter\/datascience\/ubi9-python-3.9\/*)|(jupyter\/tensorflow\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-jupyter-tensorflow-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-jupyter-tensorflow-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-intel-tf-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-intel-tensorflow-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-intel-tensorflow-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-intel-tf-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(intel\/base\/gpu\/ubi9-python-3.9\/*)|(jupyter\/intel\/tensorflow\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-intel-tensorflow-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-intel-tensorflow-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-intel-pyt-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-intel-pytorch-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-intel-pytorch-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-intel-pyt-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(intel\/base\/gpu\/ubi9-python-3.9\/*)|(jupyter\/intel\/pytorch\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-intel-pytorch-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-intel-pytorch-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-intel-ml-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-intel-ml-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-intel-ml-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-intel-ml-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(jupyter\/intel\/ml\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-intel-ml-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-intel-ml-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-trustyai-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-trustyai-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-trustyai-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-jupyter-trustyai-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(jupyter\/minimal\/ubi9-python-3.9\/*)|(jupyter\/datascience\/ubi9-python-3.9\/*)|(jupyter\/trustyai\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-trustyai-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-trustyai-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-minimal-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-minimal-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-minimal-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-minimal-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(runtimes\/minimal\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-minimal-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-minimal-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-datascience-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-datascience-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-datascience-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-datascience-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(runtimes\/datascience\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-datascience-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-datascience-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-pytorch-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-pytorch-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-pytorch-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-pytorch-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(runtimes\/pytorch\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-pytorch-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-pytorch-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-cuda-tensorflow-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-cuda-tensorflow-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-cuda-tensorflow-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-cuda-tensorflow-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(cuda\/ubi9-python-3.9\/*)|(runtimes\/tensorflow\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-cuda-tensorflow-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-cuda-tensorflow-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-base-c9s-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: base-c9s-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: base-c9s-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-base-c9s-python-3-9-pr-image-mirror
  run_if_changed: (base\/c9s-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: base-c9s-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: base-c9s-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-codeserver-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: codeserver-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: codeserver-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-codeserver-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/ubi9-python-3.9\/*)|(codeserver\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: codeserver-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: codeserver-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-rstudio-c9s-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: rstudio-c9s-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: rstudio-c9s-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-rstudio-c9s-python-3-9-pr-image-mirror
  run_if_changed: (base\/c9s-python-3.9\/*)|(rstudio\/c9s-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: rstudio-c9s-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: rstudio-c9s-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-c9s-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-c9s-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-c9s-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-c9s-python-3-9-pr-image-mirror
  run_if_changed: (base\/c9s-python-3.9\/*)|(cuda\/c9s-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-c9s-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-c9s-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-rstudio-c9s-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-rstudio-c9s-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-rstudio-c9s-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-cuda-rstudio-c9s-python-3-9-pr-image-mirror
  run_if_changed: (base\/c9s-python-3.9\/*)|(cuda\/c9s-python-3.9\/*)|(rstudio\/c9s-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: cuda-rstudio-c9s-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: cuda-rstudio-c9s-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-amd-c9s-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: amd-c9s-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: amd-c9s-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-amd-c9s-python-3-9-pr-image-mirror
  run_if_changed: (base\/c9s-python-3.9\/*)|(amd\/c9s-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: amd-c9s-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: amd-c9s-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-amd-jupyter-minimal-c9s-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: amd-jupyter-minimal-c9s-python-3.9
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: amd-jupyter-minimal-c9s-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: notebook-amd-jupyter-minimal-c9s-python-3-9-pr-image-mirror
  run_if_changed: (amd\/c9s-python-3.9\/*)|(base\/c9s-python-3.9\/*)|(jupyter\/minimal\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: amd-jupyter-minimal-c9s-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: amd-jupyter-minimal-c9s-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-rocm-pytorch-ubi9-python-3-9-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-rocm-pytorch-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-rocm-pytorch-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: runtime-rocm-pytorch-ubi9-python-3-9-pr-image-mirror
  run_if_changed: (base\/amd-ubi9-python-3.9\/*)|(runtimes\/rocm-pytorch\/ubi9-python-3.9\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: runtime-rocm-pytorch-ubi9-python-3.9
    env:
      IMAGE_REPO: workbench-images
      RELEASE_VERSION: runtime-rocm-pytorch-ubi9-python-3.9
    workflow: opendatahub-io-ci-image-mirror
- as: jupyter-datascience-anaconda-python-3-8-pr-image-mirror
  run_if_changed: (base\/anaconda-python-3.8\/*)|(jupyter\/datascience\/anaconda-python-3.8\/*)
  steps:
    dependencies:
      SOURCE_IMAGE_REF: jupyter-datascience-anaconda-python-3.8
    env:
      IMAGE_REPO: workbench-images
      IMAGE_TAG: YearIndex
      RELEASE_VERSION: jupyter-datascience-anaconda-python-3.8
    workflow: opendatahub-io-ci-image-mirror
- as: notebooks-ubi8-e2e-tests
  run_if_changed: (base\/ubi8-python-3.8\/*)|(jupyter\/minimal\/ubi8-python-3.8\/*)|(jupyter\/datascience\/ubi8-python-3.8\/*)|(jupyter\/pytorch\/ubi8-python-3.8\/*)|(jupyter\/tensorflow\/ubi8-python-3.8\/*)
  steps:
    cluster_profile: gcp-opendatahub
    test:
    - as: jupyter-minimal-ubi8-python-3.8-test-e2e
      cli: latest
      commands: |
        oc new-project jupyter-minimal-ubi8-python-3-8
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_MINIMAL_IMAGE}"
        make deploy8-jupyter-minimal-ubi8-python-3.8 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-jupyter-minimal-ubi8-python-3.8
        make undeploy8-jupyter-minimal-ubi8-python-3.8
      dependencies:
      - env: JUPYTER_MINIMAL_IMAGE
        name: jupyter-minimal-ubi8-python-3.8
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: jupyter-datascience-ubi8-python-3.8-test-e2e
      cli: latest
      commands: |
        oc new-project jupyter-datascience-ubi8-python-3-8
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_DATA_SCIENCE_IMAGE}"
        make deploy8-jupyter-datascience-ubi8-python-3.8 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-jupyter-datascience-ubi8-python-3.8
        make undeploy8-jupyter-datascience-ubi8-python-3.8
      dependencies:
      - env: JUPYTER_DATA_SCIENCE_IMAGE
        name: jupyter-datascience-ubi8-python-3.8
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: cuda-jupyter-minimal-ubi8-python-3.8-test-e2e
      cli: latest
      commands: |
        oc new-project cuda-jupyter-minimal-ubi8-python-3-8
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_MINIMAL_IMAGE}"
        make deploy8-cuda-jupyter-minimal-ubi8-python-3.8 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-cuda-jupyter-minimal-ubi8-python-3.8
        make undeploy8-cuda-jupyter-minimal-ubi8-python-3.8
      dependencies:
      - env: JUPYTER_MINIMAL_IMAGE
        name: cuda-jupyter-minimal-ubi8-python-3.8
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: cuda-jupyter-datascience-ubi8-python-3.8-test-e2e
      cli: latest
      commands: |
        oc new-project cuda-jupyter-datascience-ubi8-python-3-8
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_DATA_SCIENCE_IMAGE}"
        make deploy8-cuda-jupyter-datascience-ubi8-python-3.8 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-cuda-jupyter-datascience-ubi8-python-3.8
        make undeploy8-cuda-jupyter-datascience-ubi8-python-3.8
      dependencies:
      - env: JUPYTER_DATA_SCIENCE_IMAGE
        name: cuda-jupyter-datascience-ubi8-python-3.8
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    workflow: ipi-gcp
- as: anaconda-ubi8-e2e-tests
  run_if_changed: (base\/anaconda-python-3.8\/*)|(jupyter\/datascience\/anaconda-python-3.8\/*)
  steps:
    cluster_profile: gcp-opendatahub
    test:
    - as: jupyter-datascience-anaconda-python-3.8-test-e2e
      cli: latest
      commands: |
        oc new-project jupyter-datascience-anaconda-python-3-8
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_ANACONDA_IMAGE}"
        make deploy8-jupyter-datascience-anaconda-python-3.8 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-jupyter-datascience-anaconda-python-3.8
        make undeploy8-jupyter-datascience-anaconda-python-3.8
      dependencies:
      - env: JUPYTER_ANACONDA_IMAGE
        name: jupyter-datascience-anaconda-python-3.8
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    workflow: ipi-gcp
- as: notebooks-ubi9-e2e-tests
  run_if_changed: (base\/ubi9-python-3.9\/*)|(jupyter\/minimal\/ubi9-python-3.9\/*)|(jupyter\/datascience\/ubi9-python-3.9\/*)|(jupyter\/pytorch\/ubi9-python-3.9\/*)|(jupyter\/tensorflow\/ubi9-python-3.9\/*)|(jupyter\/trustyai\/ubi9-python-3.9\/*)
  steps:
    cluster_profile: gcp-opendatahub
    test:
    - as: jupyter-minimal-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project jupyter-minimal-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_MINIMAL_IMAGE}"
        make deploy9-jupyter-minimal-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-jupyter-minimal-ubi9-python-3.9
        make undeploy9-jupyter-minimal-ubi9-python-3.9
      dependencies:
      - env: JUPYTER_MINIMAL_IMAGE
        name: jupyter-minimal-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: jupyter-datascience-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project jupyter-datascience-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_DATA_SCIENCE_IMAGE}"
        make deploy9-jupyter-datascience-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-jupyter-datascience-ubi9-python-3.9
        make undeploy9-jupyter-datascience-ubi9-python-3.9
      dependencies:
      - env: JUPYTER_DATA_SCIENCE_IMAGE
        name: jupyter-datascience-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: jupyter-pytorch-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project jupyter-pytorch-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_PYTORCH_IMAGE}"
        make deploy9-jupyter-pytorch-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-jupyter-pytorch-ubi9-python-3.9
        make undeploy9-jupyter-pytorch-ubi9-python-3.9
      dependencies:
      - env: JUPYTER_PYTORCH_IMAGE
        name: jupyter-pytorch-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: cuda-jupyter-minimal-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project cuda-jupyter-minimal-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_MINIMAL_IMAGE}"
        make deploy9-cuda-jupyter-minimal-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-cuda-jupyter-minimal-ubi9-python-3.9
        make undeploy9-cuda-jupyter-minimal-ubi9-python-3.9
      dependencies:
      - env: JUPYTER_MINIMAL_IMAGE
        name: cuda-jupyter-minimal-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: cuda-jupyter-datascience-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project cuda-jupyter-datascience-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_DATA_SCIENCE_IMAGE}"
        make deploy9-cuda-jupyter-datascience-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-cuda-jupyter-datascience-ubi9-python-3.9
        make undeploy9-cuda-jupyter-datascience-ubi9-python-3.9
      dependencies:
      - env: JUPYTER_DATA_SCIENCE_IMAGE
        name: cuda-jupyter-datascience-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: cuda-jupyter-tensorflow-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project cuda-jupyter-tensorflow-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_TENSORFLOW_IMAGE}"
        make deploy9-cuda-jupyter-tensorflow-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-cuda-jupyter-tensorflow-ubi9-python-3.9
        make undeploy9-cuda-jupyter-tensorflow-ubi9-python-3.9
      dependencies:
      - env: JUPYTER_TENSORFLOW_IMAGE
        name: cuda-jupyter-tensorflow-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: jupyter-trustyai-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project jupyter-trustyai-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_TRUSTYAI_IMAGE}"
        make deploy9-jupyter-trustyai-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-jupyter-trustyai-ubi9-python-3.9
        make undeploy9-jupyter-trustyai-ubi9-python-3.9
      dependencies:
      - env: JUPYTER_TRUSTYAI_IMAGE
        name: jupyter-trustyai-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    workflow: ipi-gcp
- as: codeserver-notebook-e2e-tests
  run_if_changed: (base\/ubi9-python-3.9\/*)|(codeserver\/ubi9-python-3.9\/*)
  steps:
    cluster_profile: gcp-opendatahub
    test:
    - as: codeserver-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project codeserver-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${CODE_SERVER_IMAGE}"
        make deploy9-codeserver-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-codeserver-image image=codeserver-ubi9-python-3.9
        make undeploy9-codeserver-ubi9-python-3.9
      dependencies:
      - env: CODE_SERVER_IMAGE
        name: codeserver-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    workflow: ipi-gcp
- as: rstudio-notebook-e2e-tests
  run_if_changed: (base\/c9s-python-3.9\/*)|(rstudio\/c9s-python-3.9\/*)
  steps:
    cluster_profile: gcp-opendatahub
    test:
    - as: rstudio-c9s-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project rstudio-c9s-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${R_STUDIO_IMAGE}"
        make deploy-c9s-rstudio-c9s-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-rstudio-image image=rstudio-c9s-python-3.9
        make undeploy-c9s-rstudio-c9s-python-3.9
      dependencies:
      - env: R_STUDIO_IMAGE
        name: rstudio-c9s-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    workflow: ipi-gcp
- as: runtimes-ubi8-e2e-tests
  run_if_changed: (runtimes\/datascience\/ubi8-python-3.8\/*)|(runtimes\/pytorch\/ubi8-python-3.8\/*)|(runtimes\/tensorlow\/ubi8-python-3.8\/*)
  steps:
    cluster_profile: gcp-opendatahub
    test:
    - as: runtime-datascience-ubi8-python-3.8-test-e2e
      cli: latest
      commands: |
        oc new-project runtimes-datascience-ubi8-python-3-8
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${RUNTIME_DATASCIENCE_IMAGE}"
        make deploy8-runtimes-datascience-ubi8-python-3.8 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-runtime-image image=runtime-datascience-ubi8-python-3.8
        make undeploy8-runtimes-datascience-ubi8-python-3.8
      dependencies:
      - env: RUNTIME_DATASCIENCE_IMAGE
        name: runtime-datascience-ubi8-python-3.8
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: runtime-pytorch-ubi8-python-3.8-test-e2e
      cli: latest
      commands: |
        oc new-project runtimes-pytorch-ubi8-python-3-8
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${RUNTIME_PYTORCH_IMAGE}"
        make deploy8-runtimes-pytorch-ubi8-python-3.8 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-runtime-image image=runtime-pytorch-ubi8-python-3.8
        make undeploy8-runtimes-pytorch-ubi8-python-3.8
      dependencies:
      - env: RUNTIME_PYTORCH_IMAGE
        name: runtime-pytorch-ubi8-python-3.8
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: runtime-cuda-tensorflow-ubi8-python-3.8-test-e2e
      cli: latest
      commands: |
        oc new-project runtimes-cuda-tensorflow-ubi8-python-3-8
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${RUNTIME_TENSORFLOW_IMAGE}"
        make deploy8-runtimes-tensorflow-ubi8-python-3.8 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-runtime-image image=runtime-tensorflow-ubi8-python-3.8
        make undeploy8-runtimes-tensorflow-ubi8-python-3.8
      dependencies:
      - env: RUNTIME_TENSORFLOW_IMAGE
        name: runtime-cuda-tensorflow-ubi8-python-3.8
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    workflow: ipi-gcp
- as: runtimes-ubi9-e2e-tests
  run_if_changed: (base\/ubi9-python-3.9\/*)|(runtimes\/datascience\/ubi9-python-3.9\/*)|(runtimes\/pytorch\/ubi9-python-3.9\/*)|(runtimes\/tensorlow\/ubi9-python-3.9\/*)
  steps:
    cluster_profile: gcp-opendatahub
    test:
    - as: runtime-datascience-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project runtimes-datascience-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${RUNTIME_DATASCIENCE_IMAGE}"
        make deploy9-runtimes-datascience-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-runtime-image image=runtime-datascience-ubi9-python-3.9
        make undeploy9-runtimes-datascience-ubi9-python-3.9
      dependencies:
      - env: RUNTIME_DATASCIENCE_IMAGE
        name: runtime-datascience-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: runtime-pytorch-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project runtimes-pytorch-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${RUNTIME_PYTORCH_IMAGE}"
        make deploy9-runtimes-pytorch-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-runtime-image image=runtime-pytorch-ubi9-python-3.9
        make undeploy9-runtimes-pytorch-ubi9-python-3.9
      dependencies:
      - env: RUNTIME_PYTORCH_IMAGE
        name: runtime-pytorch-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: runtime-cuda-tensorflow-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project runtimes-cuda-tensorflow-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${RUNTIME_TENSORFLOW_IMAGE}"
        make deploy9-runtimes-tensorflow-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-runtime-image image=runtime-tensorflow-ubi9-python-3.9
        make undeploy9-runtimes-tensorflow-ubi9-python-3.9
      dependencies:
      - env: RUNTIME_TENSORFLOW_IMAGE
        name: runtime-cuda-tensorflow-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    workflow: ipi-gcp
- as: habana-notebooks-e2e-tests
  run_if_changed: (base\/ubi8-python-3.8\/*)|(jupyter\/minimal\/ubi8-python-3.8\/*)|(jupyter\/datascience\/ubi8-python-3.8\/*)|(habana\/*)
  steps:
    cluster_profile: gcp-opendatahub
    test:
    - as: habana-jupyter-1.10.0-ubi8-python-3.8-test-e2e
      cli: latest
      commands: |
        oc new-project habana-jupyter-1-10-0-ubi8-python-3-8
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_HABANA_1_10_0_IMAGE}"
        make deploy8-habana-1.10.0-ubi8-python-3.8 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-habana-1.10.0-ubi8-python-3.8
        make undeploy8-habana-1.10.0-ubi8-python-3.8
      dependencies:
      - env: JUPYTER_HABANA_1_10_0_IMAGE
        name: habana-jupyter-1.10.0-ubi8-python-3.8
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: habana-jupyter-1.13.0-ubi8-python-3.8-test-e2e
      cli: latest
      commands: |
        oc new-project habana-jupyter-1-13-0-ubi8-python-3-8
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_HABANA_1_13_0_IMAGE}"
        make deploy8-habana-1.13.0-ubi8-python-3.8 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-habana-1.13.0-ubi8-python-3.8
        make undeploy8-habana-1.13.0-ubi8-python-3.8
      dependencies:
      - env: JUPYTER_HABANA_1_13_0_IMAGE
        name: habana-jupyter-1.13.0-ubi8-python-3.8
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    workflow: ipi-gcp
- as: intel-notebooks-e2e-tests
  run_if_changed: (intel\/base\/gpu\/ubi9-python-3.9\/*)|(jupyter\/intel\/pytorch\/ubi9-python-3.9\/*)|(intel\/runtimes\/tensorflow\/ubi9-python-3.9\/*)
  steps:
    cluster_profile: gcp-opendatahub
    test:
    - as: intel-runtimes-tf-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project intel-runtimes-tensorflow-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${RUNTIME_INTEL_TENSORFLOW_IMAGE}"
        make deploy9-intel-runtimes-tensorflow-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-runtime-image image=intel-runtime-tensorflow-ubi9-python-3.9
        make undeploy9-intel-runtimes-tensorflow-ubi9-python-3.9
      dependencies:
      - env: RUNTIME_INTEL_TENSORFLOW_IMAGE
        name: intel-runtime-tensorflow-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: intel-runtimes-pyt-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project intel-runtimes-pytorch-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${RUNTIME_INTEL_PYTORCH_IMAGE}"
        make deploy9-intel-runtimes-pytorch-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-runtime-image image=intel-runtime-pytorch-ubi9-python-3.9
        make undeploy9-intel-runtimes-pytorch-ubi9-python-3.9
      dependencies:
      - env: RUNTIME_INTEL_PYTORCH_IMAGE
        name: intel-runtime-pytorch-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: intel-runtimes-ml-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project intel-runtimes-ml-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${RUNTIME_INTEL_ML_IMAGE}"
        make deploy9-intel-runtimes-ml-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-runtime-image image=intel-runtime-ml-ubi9-python-3.9
        make undeploy9-intel-runtimes-ml-ubi9-python-3.9
      dependencies:
      - env: RUNTIME_INTEL_ML_IMAGE
        name: intel-runtime-ml-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: jupyter-intel-tf-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project jupyter-intel-tensorflow-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_INTEL_TENSORFLOW_IMAGE}"
        make deploy9-jupyter-intel-tensorflow-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-jupyter-intel-tensorflow-ubi9-python-3.9
        make undeploy9-jupyter-intel-tensorflow-ubi9-python-3.9
      dependencies:
      - env: JUPYTER_INTEL_TENSORFLOW_IMAGE
        name: jupyter-intel-tensorflow-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: jupyter-intel-pyt-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project jupyter-intel-pytorch-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_INTEL_PYTORCH_IMAGE}"
        make deploy9-jupyter-intel-pytorch-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-jupyter-intel-pytorch-ubi9-python-3.9
        make undeploy9-jupyter-intel-pytorch-ubi9-python-3.9
      dependencies:
      - env: JUPYTER_INTEL_PYTORCH_IMAGE
        name: jupyter-intel-pytorch-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: jupyter-intel-ml-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project jupyter-intel-ml-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${JUPYTER_INTEL_ML_IMAGE}"
        make deploy9-jupyter-intel-ml-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make test-jupyter-intel-ml-ubi9-python-3.9
        make undeploy9-jupyter-intel-ml-ubi9-python-3.9
      dependencies:
      - env: JUPYTER_INTEL_ML_IMAGE
        name: jupyter-intel-ml-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    workflow: ipi-gcp
- as: amd-runtimes-ubi9-e2e-tests
  run_if_changed: (runtimes\/rocm-pytorch\/ubi9-python-3.9\/*)|(runtimes\/rocm-tensorlow\/ubi9-python-3.9\/*)
  steps:
    cluster_profile: gcp-opendatahub
    test:
    - as: runtime-rocm-pytorch-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project runtimes-rocm-pytorch-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${RUNTIME_ROCM_PYTORCH_IMAGE}"
        make deploy9-runtimes-rocm-pytorch-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-runtime-image image=runtime-rocm-pytorch-ubi9-python-3.9
        make undeploy9-runtimes-rocm-pytorch-ubi9-python-3.9
      dependencies:
      - env: RUNTIME_ROCM_PYTORCH_IMAGE
        name: runtime-rocm-pytorch-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    - as: runtime-rocm-tensorflow-ubi9-python-3.9-test-e2e
      cli: latest
      commands: |
        oc new-project runtimes-rocm-tensorflow-ubi9-python-3-9
        IFS=':' read -r -a NOTEBOOK_IMAGE <<< "${RUNTIME_ROCM_TENSORFLOW_IMAGE}"
        make deploy9-runtimes-rocm-tensorflow-ubi9-python-3.9 \
            -e IMAGE_REGISTRY="${NOTEBOOK_IMAGE[0]}" -e NOTEBOOK_TAG="${NOTEBOOK_IMAGE[1]}"
        make validate-runtime-image image=runtime-rocm-tensorflow-ubi9-python-3.9
        make undeploy9-runtimes-rocm-tensorflow-ubi9-python-3.9
      dependencies:
      - env: RUNTIME_ROCM_TENSORFLOW_IMAGE
        name: runtime-rocm-tensorflow-ubi9-python-3.9
      from: src
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    workflow: ipi-gcp
zz_generated_metadata:
  branch: main
  org: opendatahub-io
  repo: notebooks
