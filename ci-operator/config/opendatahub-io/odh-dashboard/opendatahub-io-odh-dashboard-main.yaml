build_root:
  image_stream_tag:
    name: release
    namespace: openshift
    tag: rhel-9-release-golang-1.22-openshift-4.18
images:
- context_dir: .
  dockerfile_path: Dockerfile
  to: odh-dashboard-image
- context_dir: .
  dockerfile_path: ./packages/model-registry/Dockerfile.workspace
  to: odh-mod-arch-model-registry-image
- context_dir: .
  dockerfile_path: ./packages/gen-ai/Dockerfile.workspace
  to: odh-mod-arch-gen-ai-image
promotion:
  to:
  - namespace: opendatahub-io
    tag: latest
  - namespace: opendatahub-io
    tag: main
releases:
  latest:
    release:
      architecture: amd64
      channel: fast
      version: "4.18"
resources:
  '*':
    requests:
      cpu: 200m
      memory: 400Mi
tests:
- as: odh-dashboard-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: odh-dashboard-image
    env:
      IMAGE_REPO: odh-dashboard
      RELEASE_VERSION: main
    workflow: opendatahub-io-ci-image-mirror
- as: odh-dashboard-pr-image-mirror
  steps:
    dependencies:
      SOURCE_IMAGE_REF: odh-dashboard-image
    env:
      IMAGE_REPO: odh-dashboard
    workflow: opendatahub-io-ci-image-mirror
- as: odh-mod-arch-model-registry-pr-image-mirror
  steps:
    dependencies:
      SOURCE_IMAGE_REF: odh-mod-arch-model-registry-image
    env:
      IMAGE_REPO: odh-mod-arch-modular-architecture
    workflow: opendatahub-io-ci-image-mirror
- as: odh-mod-arch-model-registry-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: odh-mod-arch-model-registry-image
    env:
      IMAGE_REPO: odh-mod-arch-modular-architecture
      RELEASE_VERSION: main
    workflow: opendatahub-io-ci-image-mirror
- as: odh-mod-arch-gen-ai-pr-image-mirror
  steps:
    dependencies:
      SOURCE_IMAGE_REF: odh-mod-arch-gen-ai-image
    env:
      IMAGE_REPO: odh-mod-arch-gen-ai
    workflow: opendatahub-io-ci-image-mirror
- as: odh-mod-arch-gen-ai-image-mirror
  postsubmit: true
  steps:
    dependencies:
      SOURCE_IMAGE_REF: odh-mod-arch-gen-ai-image
    env:
      IMAGE_REPO: odh-mod-arch-gen-ai
      RELEASE_VERSION: main
    workflow: opendatahub-io-ci-image-mirror
zz_generated_metadata:
  branch: main
  org: opendatahub-io
  repo: odh-dashboard
