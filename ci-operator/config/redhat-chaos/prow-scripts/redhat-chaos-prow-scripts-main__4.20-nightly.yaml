base_images:
  cerberus.prow:
    name: cerberus
    namespace: chaos
    tag: cerberus-prow
  cli:
    name: "4.20"
    namespace: ocp
    tag: cli
  krkn.prow:
    name: krkn
    namespace: chaos
    tag: latest
  ocp-qe-perfscale-ci:
    name: ocp-qe-perfscale-ci
    namespace: ci
    tag: latest
  upi-installer:
    name: "4.20"
    namespace: ocp
    tag: upi-installer
build_root:
  image_stream_tag:
    name: release
    namespace: openshift
    tag: golang-1.19
releases:
  latest:
    candidate:
      product: ocp
      stream: nightly
      version: "4.20"
resources:
  '*':
    limits:
      memory: 4Gi
    requests:
      cpu: 100m
      memory: 200Mi
tests:
- always_run: false
  as: aws-virt-operator
  steps:
    cluster_profile: aws-perfscale-qe
    env:
      BASE_DOMAIN: qe.devcluster.openshift.com
      CNV_SUBSCRIPTION_SOURCE: redhat-operators
      COMPUTE_NODE_REPLICAS: "2"
      COMPUTE_NODE_TYPE: c5n.metal
      GC: "false"
      SIZE_VARIANT: xlarge
      SPOT_INSTANCES: "false"
      TELEMETRY_GROUP: prow-ocp-4.20
      VMS_PER_NODE: "2"
    post:
    - chain: ipi-aws-post
    test:
    - ref: kubevirt-install
    - ref: openshift-qe-virt-density
    - ref: redhat-chaos-kubevirt-outage
    workflow: ipi-aws
  timeout: 6h0m0s
- always_run: false
  as: gcp-virt
  steps:
    cluster_profile: gcp-chaos
    env:
      CNV_SUBSCRIPTION_SOURCE: redhat-operators
      COMPUTE_NODE_REPLICAS: "2"
      COMPUTE_NODE_TYPE: n2-standard-4
      GC: "false"
      SIZE_VARIANT: xlarge
      SPOT_INSTANCES: "false"
      TELEMETRY_GROUP: prow-ocp-4.20
    post:
    - chain: ipi-gcp-post
    test:
    - ref: kubevirt-install
    - ref: openshift-qe-virt-density
    - ref: redhat-chaos-kubevirt-outage
    workflow: ipi-gcp
  timeout: 6h0m0s
zz_generated_metadata:
  branch: main
  org: redhat-chaos
  repo: prow-scripts
  variant: 4.20-nightly
