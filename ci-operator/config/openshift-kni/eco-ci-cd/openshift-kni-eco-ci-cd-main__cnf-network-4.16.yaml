build_root:
  image_stream_tag:
    name: eco-ci-cd
    namespace: telcov10n-ci
    tag: eco-ci-cd
releases:
  latest:
    candidate:
      product: ocp
      stream: nightly
      version: "4.16"
resources:
  '*':
    limits:
      memory: 4Gi
    requests:
      cpu: 100m
      memory: 200Mi
tests:
- as: cnf-network-functional-tests
  capabilities:
  - intranet
  cron: 0 0 31 2 *
  restrict_network_access: false
  steps:
    env:
      CNF_TESTS_PERF_PROFILE: performance-profile-dpdk
      CNF_TESTS_SKIP: reconcile
      DISCONNECTED: "true"
      ECO_GOTEST_BMC_ACCESS: "true"
      ECO_GOTESTS_ENV_VARS: -e ECO_CNF_CORE_NET_TEST_CONTAINER=quay.io/ocp-edge-qe/eco-gotests-network-client:v4.17
        -e ECO_CNF_CORE_NET_DPDK_TEST_CONTAINER=quay.io/ocp-edge-qe/eco-gotests-rootless-dpdk:v4.16.0
        -e ECO_CNF_CORE_NET_FRR_IMAGE=quay.io/ocp-edge-qe/frr:stable_7.5
      ENABLE_INTERNAL_REGISTRY: "true"
      FEATURES: core
      FEATURES_TO_TEST: sctp|sriov|dpdk|vrf|ovs_qos|metallb|fec|multinetworkpolicy
      LABELS: net
      OPERATORS: |
        [
          {"name":"sriov-network-operator","catalog":"redhat-operators-sriov-art","fbc_iib_repo":"ose-sriov-network-rhel9-operator","nsname":"openshift-sriov-network-operator","channel":"stable","deploy_default_config":true, "og_name":"sriov-network-operators","subscription_name":"sriov-network-operator-subscription"},
          {"name":"ptp-operator","catalog":"redhat-operators-ptp-art","fbc_iib_repo":"ose-ptp-rhel9-operator","nsname":"openshift-ptp","channel":"stable","ns_labels":{"workload.openshift.io/allowed":"management","name":"openshift-ptp"}},
          {"name":"kubernetes-nmstate-operator","catalog":"redhat-operators-nmstate-art","fbc_iib_repo":"kubernetes-nmstate-rhel9-operator","nsname":"openshift-nmstate","channel":"stable","deploy_default_config":true},
          {"name":"sriov-fec","catalog":"certified-operators","nsname":"vran-acceleration-operators","channel":"stable"},
          {"name":"metallb-operator","catalog":"redhat-operators-metallb-art","fbc_iib_repo":"metallb-rhel9-operator","nsname":"metallb-system","channel":"stable","og_spec":{},"deploy_default_config":false}
        ]
      REPORTER_TEMPLATE_NAME: 'Telco Network 4_16 Regression - Telco Network 4.16
        Regression Testing - Version: <version>; Build: <build>'
      VERSION: "4.16"
    test:
    - ref: telcov10n-functional-cnf-network-metrics-daemon-tests
    - ref: telcov10n-functional-cnf-network-cnf-tests
    - ref: telcov10n-functional-cnf-network-eco-gotests
    - ref: telcov10n-functional-cnf-network-cnf-gotests
    workflow: telcov10n-functional-cnf-network-ocp-setup
zz_generated_metadata:
  branch: main
  org: openshift-kni
  repo: eco-ci-cd
  variant: cnf-network-4.16
