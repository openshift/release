base_images:
  cli:
    name: "4.12"
    namespace: ocp
    tag: cli
  upi-installer:
    name: "4.12"
    namespace: ocp
    tag: upi-installer
build_root:
  image_stream_tag:
    name: release
    namespace: openshift
    tag: golang-1.18
releases:
  latest:
    candidate:
      product: ocp
      stream: nightly
      version: "4.12"
resources:
  '*':
    requests:
      cpu: 100m
      memory: 200Mi
tests:
- as: cnv-odf-tests-aws-ipi-ocp412
  interval: 960h
  steps:
    cluster_profile: aws-interop-qe
    env:
      BASE_DOMAIN: cnv-qe.rhood.us
      WORKER_INSTANCE_TYPE: c5n.metal
      SUB_CHANNEL: stable
      SUB_INSTALL_NAMESPACE: openshift-cnv
      SUB_PACKAGE: kubevirt-hyperconverged
      SUB_TARGET_NAMESPACES: openshift-cnv
    test:
    - ref: operatorhub-subscribe
    - as: deploy-cnv-hyperconverged-cr
      commands: |-
        oc create -f - <<EOF
        apiVersion: hco.kubevirt.io/v1beta1
        kind: HyperConverged
        metadata:
          name: kubevirt-hyperconverged
          namespace: openshift-cnv
        EOF

        oc wait hyperconverged -n openshift-cnv kubevirt-hyperconverged --for=condition=Available --timeout=15m

        # debug:
        sleep 1800
      from: cli
      resources:
        requests:
          cpu: 100m
          memory: 200Mi
    workflow: cucushift-installer-rehearse-aws-ipi
zz_generated_metadata:
  branch: main
  org: RedHatQE
  repo: interop-testing
  variant: ocp-cnv-odf-4.12
