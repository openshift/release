ref:
  as: insights-onprem-ros-ocp-backend-e2e-test
  from: src
  cli: latest
  commands: insights-onprem-ros-ocp-backend-e2e-test-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  env:
  - name: QUAY_REPO
    default: "quay.io/cloudservices/ros-ocp-backend"
    documentation: "Quay repository for the ROS OCP Backend images"
  - name: IMAGE_TAG_DEFAULT
    default: "latest"
    documentation: "Default image tag to use if not running on a PR"
  documentation: |-
    This step wraps the e2e-test-dataflow execution and automatically resolves
    the IMAGE_TAG based on the job type. For presubmit jobs (PRs), it constructs
    a tag from the PR number and commit SHA. For other job types, it uses the
    default tag.

