ref:
  as: openshift-extended-olm-test-hypershiftmgmt
  from: tests
  grace_period: 10m
  commands: openshift-extended-olm-test-hypershiftmgmt-commands.sh
  timeout: 6h
  cli: latest
  env:
  - name: TEST_ARGS
    default: ""
    documentation: |-
      Additional arguments to be passed to 'openshift-tests'
  - name: SHARD_ARGS
    default: ""
    documentation: |-
      Arguments to be passed to 'openshift-tests' regarding the sharding parameters of this run
  - name: TEST_SUITE
    default: openshift/conformance/parallel
    documentation: The test suite to run. Use 'openshift-tests run --help' to list available suites.
  - name: TEST_SKIPS
    default: ""
    documentation: |
      Regular expression (POSIX basic regular expression) of tests to skip.
  resources:
    requests:
      cpu: "3"
      memory: 600Mi
    limits:
      memory: 10Gi
  documentation: |-
    The OLM E2E HyperShift management cluster test step executes openshift-tests on a
    HyperShift management cluster for testing OLM functionality.

    This step is designed for testing on the management cluster where hosted cluster
    machines are also visible. It only counts machines in the openshift-machine-api
    namespace (management cluster machines) to avoid conflicts with hosted cluster machines.

    This step only supports AWS cluster types and suite test type.
