ref:
  as: amd-gpu-operator-test
  from: amd-ci
  commands: amd-gpu-operator-test-commands.sh
  credentials:
  - namespace: test-credentials
    name: amd-ci-credentials
    mount_path: /var/run/amd-ci
  env:
  - name: HOME
    default: /alabama
  - name: OCP_CLUSTER_VERSION
    documentation: OpenShift version (used for test configuration)
  - name: REMOTE_HOST
    documentation: Remote host IP or hostname where the cluster is deployed
  - name: CLUSTER_NAME
    default: "ocp"
    documentation: Name of the cluster (used to construct API hostname)
  - name: CLUSTER_DOMAIN
    default: "example.com"
    documentation: Domain of the cluster (used to construct API hostname)
  - name: API_IP
    default: "192.168.122.253"
    documentation: IP address of the cluster API server (for SSH tunnel)
  resources:
    requests:
      cpu: 2000m
      memory: 2Gi
  documentation: |-
    Runs AMD GPU verification tests using pytest from the amd-ci test suite.
    Sets up an SSH tunnel to the cluster API and runs the amd_gpu test suite
    to verify that AMD GPU Operator, NFD, KMM, and device-plugin are working.
