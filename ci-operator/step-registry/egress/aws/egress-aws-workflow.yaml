workflow:
  as: egress-aws
  steps:
    allow_best_effort_post_steps: true
    pre:
    - chain: ipi-aws-pre
    - ref: netobserv-install-operator
    - ref: egress-record-e2e-start
    - ref: egress-create-flowcollector
    post:
    - ref: egress-loki-query-range
    - chain: ipi-aws-post
  documentation: |-
    This workflow sets up egress for AWS clusters by installing the NetObserv operator,
    creating a FlowCollector, and running e2e tests to verify network flow collection.
    It includes pre-steps for AWS cluster setup and post-steps for cleanup and verification.