workflow:
  as: baremetal-lab-sno
  steps:
    pre:
      - chain: baremetal-lab-sno-conf
      - chain: baremetal-lab-upi-install
      - ref: upi-install-heterogeneous
      - ref: baremetal-lab-etcd-encryption
    post:
      - ref: baremetal-lab-wait
      - chain: baremetal-lab-post
      - ref: send-results-to-reportportal
    env:
      BOOTSTRAP_IN_PLACE: "true"
      DISCONNECTED: "true"
      CLUSTER_WIDE_PROXY: "true"
      ipv4_enabled: "true"
      ipv6_enabled: "true"
  documentation: |-
    The baremetal-lab-sno workflow provides pre- and post- steps that provision and
    deprovision an SNO OpenShift cluster with a default configuration on a Baremetal lab,
    allowing job authors to inject their own end-to-end test logic.
