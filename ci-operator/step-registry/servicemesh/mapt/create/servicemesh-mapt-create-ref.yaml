ref:
  as: servicemesh-mapt-create
  commands: servicemesh-mapt-create-commands.sh
  credentials:
  - mount_path: /tmp/secrets
    name: cluster-secrets-ossm-aws
    namespace: ci
  env:
  - name: PROJECT
    default: "servicemesh"
    documentation: "Project name for the MAPT cluster. The resulting name will be PROJECT-mapt-<timestamp>"
  - name: TEST_NAME
    default: "servicemesh-mapt"
    documentation: "Test name used for MAPT cluster identification"
  - name: OCP_VERSION
    default: "4.20.0"
    documentation: "OpenShift version to deploy"
  - name: MAPT_TAGS
    default: "ci=true,repo=openshift-servicemesh"
    documentation: "Additional tags for the AWS instance"
  - name: MAPT_IMAGE
    default: "quay.io/redhat-developer/mapt:v0.9.9"
    documentation: "MAPT container image to use"
  - name: SPOT
    default: "true"
    documentation: "Use AWS spot instances for cost savings"
  - name: CPU
    default: "16"
    documentation: "Number of CPUs for the instance"
  - name: MEMORY
    default: "64"
    documentation: "Memory in GB for the instance"
  - name: TIMEOUT
    default: "10m"
    documentation: "Timeout for waiting for cluster to be ready"
  - name: AWS_REGION
    default: "us-east-1"
    documentation: "AWS region to deploy the cluster"
  - name: BACKED_URL_TYPE
    default: "s3"
    documentation: "Type of backend storage for MAPT"
  - name: LOG_LEVEL
    default: "verbose"
    documentation: "Log level for MAPT operations"
  - name: CI
    default: "true"
    documentation: "Indicates if running in CI environment"
  resources:
    limits:
      cpu: "2"
      memory: 6Gi
    requests:
      cpu: "2"
      memory: 6Gi