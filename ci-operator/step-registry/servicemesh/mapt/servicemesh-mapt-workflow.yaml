workflow:
  as: servicemesh-mapt-aws
  steps:
    pre:
    - chain: servicemesh-mapt-create
    - ref: servicemesh-istio-e2e
    post:
    - ref: servicemesh-istio-post
    - chain: servicemesh-mapt-destroy
  documentation: |-
    The workflow is responsible for creating and destroying a spot AWS OCP SNC cluster using mapt (Multi Architecture Provisioning Tool) - see https://github.com/redhat-developer/mapt
    In the pre phase, it requests a spot AWS cluster using MAPT (Multi Architecture Provisioning Tool) and provides connection information at ${SHARED_DIR}/kubeconfig.
    In the post phase, it destroys the AWS cluster.

