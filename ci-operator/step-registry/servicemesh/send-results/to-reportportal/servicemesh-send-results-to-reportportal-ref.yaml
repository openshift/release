ref:
  as: servicemesh-send-results-to-reportportal
  from_image:
    name: droute
    namespace: dno
    tag: latest
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  timeout: 1h0m0s
  grace_period: 30s
  credentials:
    - namespace: ci
      name: ossm-oidc-sa
      mount_path: /creds-data-router
  commands: servicemesh-send-results-to-reportportal-commands.sh
  env:
  - name: TEST_SUITE_DESC
    default: "Sail Operator e2e"
    documentation: |-
      Short description of the test suite
  - name: TEST_FILE_NAME
    default: "report.xml"
    documentation: |-
      Name of the JUnit XML test result file; the path will be $SHARED_DIR/$TEST_FILE_NAME
  - name: INSTALLATION_METHOD
    default: "n/a"
    documentation: |-
      Method used for Istio installation
  - name: REPORT_TO_REPORT_PORTAL
    default: "false"
    documentation: |-
      Enables the upload.
  documentation: |-
    Send test results to ReportPortal. JUnit file must be available in the SHARED_DIR. The step will fail if the results are not available.
