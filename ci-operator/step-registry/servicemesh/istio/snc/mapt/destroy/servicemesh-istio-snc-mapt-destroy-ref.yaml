ref:
  as: servicemesh-istio-snc-mapt-destroy
  commands: servicemesh-istio-snc-mapt-destroy-commands.sh
  credentials:
  - mount_path: /tmp/secrets
    name: cluster-secrets-ossm-aws
    namespace: ci
  from_image:
    name: mapt
    namespace: ci
    tag: v0.9.6
  grace_period: 30m
  resources:
    limits:
      cpu: "2"
      memory: 6Gi
    requests:
      cpu: "2"
      memory: 6Gi
  documentation: |-
    Destroys the OpenShift Single Node Cluster (SNC) created for OSSM Istio testing with simplified cleanup approach.
    Features quick, straightforward resource cleanup without complex versioning logic.

    This step reads the dynamically created bucket name from ${SHARED_DIR}/mapt-s3-bucket-name and uses simple
    force delete approach for S3 bucket cleanup, ensuring faster execution and zero leftover resources.

    Uses AWS credentials from the existing vault system (cluster-secrets-ossm-aws).
    Reduced grace period compared to EKS approach due to simplified cleanup strategy.