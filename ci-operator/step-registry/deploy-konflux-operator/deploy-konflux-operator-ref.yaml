ref:
  as: deploy-konflux-operator
  from: tests
  timeout: 30m
  grace_period: 1m
  commands: deploy-konflux-operator-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  env:
  - name: KONFLUX_SKIP_DEPLOYMENT
    documentation: |-
      If set to "true", the operators will not be deployed. Default is "false".
    default: "false"
  - name: DEPLOY_KONFLUX_OPERATORS
    documentation: |-
      Comma separated list of operators to install (i.e "sriov,metallb,nmstate"). Mutually exclusive with DEPLOY_KONFLUX_FBC_TAGS.
  - name: DEPLOY_KONFLUX_FBC_TAGS
    documentation: |-
      Comma separated list of FBC tags to use for the operators (i.e "ocp__4.21__metallb-rhel9-operator,ocp__4.21__ose-local-storage-rhel9-operator"). Mutually exclusive with DEPLOY_KONFLUX_OPERATORS.
    default: ""
  - name: KONFLUX_DEPLOY_CATALOG_SOURCE
    documentation: |-
      If set to "true", the CatalogSource will be deployed as part of operator installation process. Default is "true".
    default: "true"
  - name: KONFLUX_DEPLOY_SUBSCRIPTION
    documentation: |-
      If set to "true", the Subscription, Namespace and OperatorGroup will be deployed. Default is "true".
    default: "true"
  credentials:
  - namespace: test-credentials
    name: deploy-konflux-operator-art-image-share
    mount_path: /var/run/vault/deploy-konflux-operator-art-image-share
  documentation: |-
     Deploy Konflux-built operators for connected environments using
     https://github.com/ajaggapa/deploy-konflux-operator
