ref:
  as: openshift-qe-orion-kueue-operator-jobs-shared
  from_image:
    namespace: ci
    name: ocp-qe-perfscale-ci
    tag: latest
  cli: latest
  env:
  - name: ORION_EXTRA_FLAGS
    default: "--input-vars='{\"benchmark\": \"kueue-operator-jobs-shared\"}'"
    documentation:
      Flags to append to the orion command
  - name: RUN_ORION
    default: "true"
    documentation:
      Determine if we should run Orion or not.
  - name: ORION_CONFIG
    default: "https://raw.githubusercontent.com/cloud-bulldozer/orion/refs/heads/main/examples/rhbok.yaml"
    documentation:
      Var used to tell the step which workload is calling Orion from Orion examples, like cluster-density, node-density, etc.
  - name: LOOKBACK
    default: "15"
    documentation:
      Number of days orion should lookback at results.
  - name: DISPLAY
    default: ""
    documentation:
      Display custom metadata fields, like ocpVirtVersion, osImage, etc.
  commands: openshift-qe-orion-kueue-operator-jobs-shared-commands.sh
  timeout: 6h
  credentials:
  - namespace: test-credentials # this entry injects the custom credential
    name: ocp-qe-perfscale-es
    mount_path: /secret/qe
  - namespace: test-credentials # this entry injects the custom credential
    name: ocp-perfscale-es-creds
    mount_path: /secret/internal
  - namespace: test-credentials
    name: stackrox-perfscale-elasticsearch
    mount_path: /secret_stackrox
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  documentation: >-
    This step runs the performance regressions checks for the kueue-jobs-shared workloads