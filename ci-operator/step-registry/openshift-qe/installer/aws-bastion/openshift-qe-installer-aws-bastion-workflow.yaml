workflow:
  as: openshift-qe-installer-aws-bastion
  steps:
    pre:
    - ref: ipi-conf
    - ref: ipi-conf-telemetry
    - ref: aws-provision-vpc-shared
    - chain: aws-provision-bastionhost
    - ref: ipi-conf-aws-custom-vpc
    - ref: ipi-conf-aws
    - chain: ipi-install
    - chain: create-infra-move-ingress-monitoring-registry
    post:
    - chain: ipi-aws-post
  documentation: |-
    The OpenShift QE workflow for installing OpenShift on AWS with bastion host provisioning.
    This workflow is specifically designed for egress IP testing that requires external 
    validation services running on a bastion host outside the cluster. Uses auto-discovery
    of CoreOS AMIs for the target region.