workflow:
  as: openshift-qe-installer-aws-bastion
  steps:
    pre:
    - ref: aws-provision-vpc-shared
    - ref: aws-provision-bastionhost
    - ref: ipi-conf-aws-custom-vpc
    - chain: ipi-aws-pre
    - chain: create-infra-move-ingress-monitoring-registry
    post:
    - chain: ipi-aws-post
  documentation: |-
    The OpenShift QE workflow for installing OpenShift on AWS with bastion host provisioning.
    This workflow is specifically designed for egress IP testing that requires external 
    validation services running on a bastion host outside the cluster. The BASTION_HOST_AMI
    environment variable should be set in the job configuration to use a pre-existing AMI.