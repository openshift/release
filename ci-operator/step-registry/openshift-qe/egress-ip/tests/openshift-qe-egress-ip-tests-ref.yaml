ref:
  as: openshift-qe-egress-ip-tests
  from_image:
    namespace: ocp
    name: "4.20"
    tag: cli
  commands: openshift-qe-egress-ip-tests-commands.sh
  resources:
    requests:
      cpu: 200m
      memory: 500Mi
  env:
  - name: EIP_NAME
    default: "egressip1"
    documentation: "Name of the egress IP to test"
  - name: POD_KILL_RETRIES
    default: "10"
    documentation: "Number of OVN pod kill test iterations"
  - name: REBOOT_RETRIES
    default: "5" 
    documentation: "Number of node reboot test iterations"
  - name: PROJECT_COUNT
    default: "4"
    documentation: "Number of test projects for load testing (4 for basic, 100/200 for load)"
  - name: ENABLE_LOAD_TEST
    default: "true"
    documentation: "Enable multi-project load testing with blue/red team pods"
  - name: IPECHO_SERVICE_PORT
    default: "9095"
    documentation: "Port number for external ipecho service connectivity testing"
  - name: CONNECTIVITY_TEST_ITERATIONS
    default: "5"
    documentation: "Number of connectivity test iterations per pod"
  documentation: >-
    Executes comprehensive egress IP resilience testing including:
    - OVN pod disruption testing with NAT rule validation
    - Node reboot testing with configuration drift detection
    - Metrics collection and analysis
    - Artifact generation for test results
    
    Tests egress IP stability under infrastructure disruption scenarios
    and validates proper recovery of OVN network configuration.