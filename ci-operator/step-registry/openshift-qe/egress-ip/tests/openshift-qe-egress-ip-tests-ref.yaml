ref:
  as: openshift-qe-egress-ip-tests
  from_image:
    namespace: ocp
    name: "4.20"
    tag: cli
  commands: openshift-qe-egress-ip-tests-commands.sh
  resources:
    requests:
      cpu: 200m
      memory: 500Mi
  env:
  - name: EIP_NAME
    default: "egress-ip-test"
    documentation: "Name of the egress IP to test"
  - name: POD_KILL_RETRIES
    default: "10"
    documentation: "Number of OVN pod kill test iterations"
  - name: REBOOT_RETRIES
    default: "5" 
    documentation: "Number of node reboot test iterations"
  documentation: >-
    Executes comprehensive egress IP resilience testing using e2e methodology including:
    - OVN pod disruption testing with internal networking validation
    - Node reboot testing with OVN configuration recovery verification  
    - Internal logical router policy and NAT rule validation
    - Basic external connectivity verification (without egress IP source validation)
    - Metrics collection and analysis
    - Artifact generation for test results
    
    Tests egress IP stability under infrastructure disruption scenarios using
    internal networking verification rather than external IP source checking,
    which is appropriate for private cloud environments where egress IPs are
    internal subnet addresses that get NAT'd to public IPs.