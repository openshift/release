ref:
  as: sandboxed-containers-operator-env-cm
  # Provides az cli
  from: upi-installer
  commands: sandboxed-containers-operator-env-cm-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  env:
  - name: CATALOG_SOURCE_IMAGE
    default: ""
    documentation: |-
      Requires TEST_RELEASE_TYPE==Pre-GA; creates a catalog source for
      ose-osc-tenant which might be used by openshift-tests-private to
      deploy the osc operator. Example:
      quay.io/redhat-user-workloads/ose-osc-tenant/osc-test-fbc:latest
  - name: CATALOG_SOURCE_NAME
    default: "redhat-operators"
    documentation: |-
      Configures a special openshift-tests-private configmap to install
      OSC operator from this catalog; particularly useful for
      TEST_RELEASE_TYPE=Pre-GA which creates custom catalogs.
  - name: ENABLEGPU
    default: "false"
    documentation: |-
      Configures a special openshift-tests-private configmap to include
      Nvidia GPU drivers in podvm image
  - name: ENABLEPEERPODS
    default: "false"
    documentation: |-
      Configures a special openshift-tests-private configmap to enablePeerPods
  - name: EXPECTED_OPERATOR_VERSION
    default: ""
    documentation: |-
      Configures a special openshift-tests-private configmap to ensure the
      deployed osc operator is of this version
  - name: INITDATA
    default: ""
    documentation: |-
      Configures a special openshift-tests-private configmap to set
      the initdata for the osc operator
  - name: INSTALL_KATA_RPM
    default: "false"
    documentation: |-
      Configures a special openshift-tests-private configmap to enable
      installation of "/var/local/kata-containers.rpm" on each worker
      node
  - name: MUST_GATHER_IMAGE
    default: "registry.redhat.io/openshift-sandboxed-containers/osc-must-gather-rhel9:latest"
    documentation: |-
      Configures a special openshift-tests-private configmap to use
      test this must-gather image
  - name: OPERATOR_UPDATE_CHANNEL
    default: "stable"
    documentation: |-
      Configures a special openshift-tests-private configmap to use
      this osc operator subscription update channel
  - name: PODVM_IMAGE_URL
    default: ""
    documentation: |
      Configures a special openshift-tests-private configmap to import
      podvm image from URL instead of building it from scratch
  - name: RUNTIMECLASS
    default: "kata"
    documentation: |-
      Configures a special openshift-tests-private configmap to use
      this runtime class for testing; set either "kata" or "kata-remote"
      (for peer pods or CoCo)
  - name: TEST_RELEASE_TYPE
    default: "GA"
    documentation: |-
      When TEST_RELEASE_TYPE==Pre-GA the osc operator and trustee development
      repositories are being mirrored into production ones to allow pre-release
      testing; other values do currently nothing.
  - name: TRUSTEE_URL
    default: ""
    documentation: |-
      Configures a special openshift-tests-private configmap to point
      the osc operator to an existing external Trustee instance
  - name: WORKLOAD_IMAGE
    default: "quay.io/openshift/origin-hello-openshift"
    documentation: |-
      Configures a special openshift-tests-private configmap to use this image
      for test workloads
  - name: WORKLOAD_TO_TEST
    default: "kata"
    documentation: |-
      Configures a special openshift-tests-private configmap to select
      a workload to test; you also need to specify RUNTIMECLASS
      and ENABLEPEERPODS accordingly; supported values: "kata",
      "peer-pods" or "coco"
  documentation: |-
    Creates the env-cm configmap used by openshift-tests-private when executing
    "[sig-kata]" group of tests; mainly used to tweak Openshift Sandboxed
    Containers Operator deployment/configuration or to tweak it's testing
