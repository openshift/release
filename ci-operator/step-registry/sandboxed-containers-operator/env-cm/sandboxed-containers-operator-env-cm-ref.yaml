ref:
  as: sandboxed-containers-operator-env-cm
  # Provides az cli
  from: upi-installer
  commands: sandboxed-containers-operator-env-cm-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  env:
  - name: CATALOG_SOURCE_NAME
    default: "redhat-operators"
    documentation: |-
      The OSC operator catalog source name.
      You should set a value if TEST_RELEASE_TYPE="Pre-GA".
  - name: ENABLEGPU
    default: "false"
    documentation: "When enabled, podvm image will include Nvidia GPU drivers"
  - name: ENABLEPEERPODS
    default: "false"
  - name: INSTALL_KATA_RPM
    default: "false"
  - name: MUST_GATHER_IMAGE
    default: "registry.redhat.io/openshift-sandboxed-containers/osc-must-gather-rhel9:latest"
    documentation: |-
      The must-gather image to be tested
  - name: OPERATOR_INDEX_IMAGE
    default: "quay.io/redhat-user-workloads/ose-osc-tenant/osc-fbc-4-19"
    documentation: |-
      The OSC operator index image.
      This value is only used in the new catalog source when TEST_RELEASE_TYPE="Pre-GA"
  - name: OPERATOR_INDEX_VERSION
    default: "1.9.0"
    documentation: "The operator index version here; for GA (default) version eg 1.9.0; for PreGA testing include index number  eg: 1.10.0-1')"
  - name: OPERATOR_UPDATE_CHANNEL
    default: "stable"
    documentation: "The operator subscription update channel"
  - name: RUNTIMECLASS
    default: "kata"
    documentation: |-
      The Kubernetes runtime class used for test workloads.
      Set either "kata" or "kata-remote" (for peer pods or CoCo)
  - name: TEST_RELEASE_TYPE
    default: "GA"
    documentation: "The testing that is being carried out is for GA builds or Pre-GA builds"
  - name: TRUSTEE_CATALOG_SOURCE_NAME
    default: "redhat-operators"
    documentation: |-
      The Trustee operator catalog source name.
      You should set a value if TEST_RELEASE_TYPE="Pre-GA".
  - name: TRUSTEE_INDEX_VERSION
    default: ""
    documentation: |-
      The Trustee operator index image version
      This value is only used in the new catalog source when TEST_RELEASE_TYPE="Pre-GA"
  - name: TRUSTEE_INDEX_IMAGE
    default: "quay.io/redhat-user-workloads/ose-osc-tenant/trustee-fbc-4-17"
    documentation: |-
      The Trustee operator index image
      This value is only used in the new catalog source when TEST_RELEASE_TYPE="Pre-GA"
  - name: TRUSTEE_URL
    default: ""
    documentation: |-
      The URL for an external Trustee instance
  - name: WORKLOAD_IMAGE
    default: "quay.io/openshift/origin-hello-openshift"
    documentation: |-
      The image for test workloads
  - name: WORKLOAD_TO_TEST
    default: "kata"
    documentation: |-
      The type of workload that will be tested.
      You should set RUNTIMECLASS and ENABLEPEERPODS accordingly.
      Set either "kata", "peer-pods" or, "coco".
  documentation: |-
    Creates the env-cm configmap