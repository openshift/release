ref:
  as: sandboxed-containers-operator-build-tests-private-fork
  from: tests-private-builder
  commands: sandboxed-containers-operator-build-tests-private-fork-commands.sh
  timeout: 30m0s
  resources:
    requests:
      cpu: "3"
      memory: 12Gi
  credentials:
  - namespace: test-credentials
    name: otp-tbuskey-branch
    mount_path: /var/run/secrets/github
  env:
  - name: TESTS_PRIVATE_FORK_ORG
    documentation: GitHub org/user for openshift-tests-private fork
    default: "tbuskey"
  - name: TESTS_PRIVATE_FORK_BRANCH
    documentation: Branch name in the fork
    default: "beforeOTE"
  documentation: |-
    Clones and builds openshift-tests-private from a private GitHub fork.

    **Required Secret Files** (mounted via credentials):
    - `/var/run/secrets/github/oauth` - GitHub Personal Access Token with repo scope

    **Credential Source:**
    - Vault collection: otp-tbuskey-branch
    - Vault path: selfservice/otp-tbuskey-branch/oauth
    - Manage at: https://selfservice.vault.ci.openshift.org/secretcollection/otp-tbuskey-branch

    The built binary is saved to ${SHARED_DIR}/extended-platform-tests for use by test steps.
