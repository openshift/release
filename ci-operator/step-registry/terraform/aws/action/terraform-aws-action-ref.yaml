ref:
  as: terraform-aws-action
  from: ocm-tf-cli
  grace_period: 10m
  commands: terraform-aws-action-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 300Mi
  timeout: 2h0m0s
  env:
  - name: TF_ACTION
    default: "apply"
  - name: TF_FOLDER
    default: "/terraform-provider-ocm/examples/create_rosa_cluster/create_rosa_sts_cluster/classic_sts/cluster"
  - name: CLUSTER_NAME
    default: ""
  - name: TF_VARS
    default: 'url = "https://api.stage.openshift.com"; account_roles_prefix = "asher-ar"; operator_role_prefix = "${CLUSTER_NAME}"'
  - name: ART_NAME
    default: "cluster1"

  documentation: |-
    Using rosa cli to create a rosa sts cluster with the provided cluster profile. The cluster profile should include the offline token ocm-token to login and .awscred to init the rosa environment.
