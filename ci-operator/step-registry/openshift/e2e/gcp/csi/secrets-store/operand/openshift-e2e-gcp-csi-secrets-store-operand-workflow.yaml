workflow:
  as: openshift-e2e-gcp-csi-secrets-store-operand
  steps:
    pre:
      - chain: ipi-gcp-pre-manual-oidc-workload-identity
      - ref: storage-create-csi-secrets-store-operand
      - ref: storage-obj-save
    test:
      - ref: openshift-e2e-gcp-csi-secrets-store-test
    post:
      - ref: storage-obj-check
      - chain: ipi-gcp-post-manual-oidc-workload-identity
  documentation: |-
    The Openshift E2E GCP CSI Secrets Store Operand workflow provisions an GCP Workload Identity OpenShift Cluster, installs the Secrets Store CSI Driver operand and executes the upstream gcp end-to-end tests.
