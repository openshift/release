workflow:
  as: openshift-e2e-aws-ovn-hybrid
  steps:
    pre:
    - chain: ipi-conf-aws
    - ref: ovn-conf-custom-cidr
    - chain: ipi-install
    test:
    - ref: baremetal-lab-wait
    post:
    - chain: gather-network
    - chain: gather-core-dump
    - chain: ipi-deprovision
  documentation: |-
    Builds an AWS OVN hybrid cluster with custom CIDR and holds it for CLUSTER_DURATION seconds (for debugging).
    Uses clusterNetwork 10.217.0.0/16 (hostPrefix 23) and hybridOverlayConfig.hybridClusterNetwork 10.95.0.0/16 (hostPrefix 23).
    Set CLUSTER_DURATION for hold time in seconds (default 9000). Override CLUSTER_NETWORK_CIDR, HYBRID_CLUSTER_NETWORK_CIDR and respective _HOST_PREFIX env vars if needed.
