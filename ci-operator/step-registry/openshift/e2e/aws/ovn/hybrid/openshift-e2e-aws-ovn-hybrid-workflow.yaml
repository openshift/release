workflow:
  as: openshift-e2e-aws-ovn-hybrid
  steps:
    pre:
    - chain: ipi-conf-aws
    - ref: ovn-conf-custom-cidr
    - chain: ipi-install
    test:
    - ref: openshift-e2e-test
    post:
    - chain: gather-network
    - chain: gather-core-dump
    - chain: ipi-deprovision
  documentation: |-
    The Openshift E2E OVN workflow executes the common end-to-end test suite with the OVNKubernetes network plugin with a configured hybrid network.
    Uses clusterNetwork 10.217.0.0/16 (hostPrefix 23) and hybridOverlayConfig.hybridClusterNetwork 10.95.0.0/16 (hostPrefix 23).
    Override with CLUSTER_NETWORK_CIDR, HYBRID_CLUSTER_NETWORK_CIDR and respective _HOST_PREFIX env vars if needed.
