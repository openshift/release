workflow:
  as: ingress-baremetalds-metallb
  steps:
    env:
      DEVSCRIPTS_CONFIG: |
        IP_STACK=v4
        NETWORK_TYPE=OVNKubernetes
    pre:
    - chain: baremetalds-ofcir-pre
    - ref: ingress-baremetalds-metallb-conf
    post:
    - chain: baremetalds-ofcir-post
  documentation: |-
    The ingress-baremetalds-metallb workflow provides pre- and post- steps that provision and
    deprovision an OpenShift cluster with a default configuration on bare metal using
    dev-scripts on a provisioning host, allowing job authors to inject their own
    ingress-related test logic for MetalLB scenarios.

    This workflow uses the baremetalds-ofcir infrastructure to set up a bare metal cluster
    suitable for testing ingress features with MetalLB load balancer. Tests run on the
    provisioning host via SSH.
