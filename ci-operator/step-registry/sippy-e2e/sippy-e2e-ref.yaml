ref:
  as: sippy-e2e
  from: src
  commands: sippy-e2e-commands.sh
  timeout: 30m
  resources:
    requests:
      cpu: 1000m
      memory: 1Gi
  credentials:
  - namespace: test-credentials # this entry injects the custom credential
    name: sippy-ci-gcs-read-sa
    mount_path: /var/run/sippy-ci-gcs-sa
  env:
  - name: GCS_SA_JSON_PATH
    default: "/var/run/sippy-ci-gcs-sa/gcs-sa"
  documentation: |-
    Run the sippy e2e tests. Runs scripts in the source repo and injects secret for GCS reading. Test will load some job data from prow, launch sippy, and run some basic API queries.
