ref:
  as: distributed-tracing-tests-tracing-ui-upstream
  from: tracing-ui-tests-runner
  commands: distributed-tracing-tests-tracing-ui-upstream-commands.sh
  timeout: 2h0m0s
  grace_period: 60s
  resources:
    requests:
      cpu: "1"
      memory: 3Gi
    limits:
      cpu: "8"
      memory: 8Gi
  env:
  - name: CYPRESS_SKIP_COO_INSTALL
    default: ""
    documentation: "Set the var to skip Cluster Observability and all the required operators installation from the Cypress test run."
  - name: CYPRESS_COO_UI_INSTALL
    default: "true"
    documentation: "Set the var to install Cluster Observability, OpenTelemetry, Tempo and Lightspeed operators from redhat-operators catalog source."
  - name: CYPRESS_KONFLUX_COO_BUNDLE_IMAGE
    default: ""
    documentation: "Set the var to install Cluster Observability Operator using Konflux bundle. Tempo, OpenTelemetry and Lightspeed operators will be installed from redhat-operators catalog source."
  - name: CYPRESS_CUSTOM_COO_BUNDLE_IMAGE
    default: ""
    documentation: "Set the var to use custom Cluster Observability Operator bundle image. Tempo, OpenTelemetry and Lightspeed operators will be installed from redhat-operators catalog source."
  - name: CYPRESS_DT_CONSOLE_IMAGE
    default: ""
    documentation: "Set the var to use custom Distributed Tracing UI plugin image. The image will be patched in Cluster Observability Operator CSV."
  - name: CYPRESS_COO_NAMESPACE
    default: ""
    documentation: "Set the var to use custom Cluster Observability Operator install namespace."
  - name: CYPRESS_LIGHTSPEED_CONSOLE_IMAGE
    default: "quay.io/rhn_support_ikanse/lightspeed-console:latest"
    documentation: "Set the var to use custom Lightspeed console plugin image. The image will be patched in Lightspeed Operator CSV."
  - name: CYPRESS_LIGHTSPEED_PROVIDER_URL
    default: ""
    documentation: "Set the var to configure Lightspeed provider URL for AI-powered trace analysis integration."
  - name: CYPRESS_LIGHTSPEED_PROVIDER_TOKEN
    default: ""
    documentation: "Set the var to configure Lightspeed API authentication token for AI-powered trace analysis integration."
  dependencies:
  - name: "distributed-tracing-console-plugin"
    env: CYPRESS_DT_CONSOLE_IMAGE
  credentials:
  - namespace: test-credentials
    name: dt-secrets
    mount_path: /var/run/vault/dt-secrets
  documentation: |-
    The distributed-tracing-tests-tracing-upstream step executes the Distributed Tracing Console Plugin Upstream Cypress tests. 
