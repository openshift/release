ref:
  as: monitoring-plugin-tests-incidents-ui
  from: monitoring-ui-tests-runner
  commands: monitoring-plugin-tests-incidents-ui-commands.sh
  timeout: 2h0m0s
  grace_period: 60s
  resources:
    requests:
      cpu: "1"
      memory: 3Gi
    limits:
      memory: 4Gi
  env:
  - name: CYPRESS_SKIP_COO_INSTALL
    default: ""
    documentation: "Set the var to skip Cluster Observability and all the required operators installation from the Cypress test run."
  - name: CYPRESS_COO_UI_INSTALL
    default: "true"
    documentation: "Set the var to install Cluster Observability from redhat-operators catalog source."
  - name: CYPRESS_KONFLUX_COO_BUNDLE_IMAGE
    default: ""
    documentation: "Set the var to install Cluster Observability Operator using Konflux bundle."
  - name: CYPRESS_CUSTOM_COO_BUNDLE_IMAGE
    default: ""
    documentation: "Set the var to use custom Cluster Observability Operator bundle image."
  - name: CYPRESS_FBC_STAGE_COO_IMAGE
    default: ""
    documentation: "Set the var to use Cluster Observability Operator FBC image"    
  - name: CYPRESS_MCP_CONSOLE_IMAGE
    default: ""
    documentation: "Set the var to use custom Monitoring UI plugin image. The image will be patched in Cluster Observability Operator CSV."
  - name: CYPRESS_MP_IMAGE
    default: ""
    documentation: "Set the following var to use custom Monitoring Plugin image (that goes on Cluster Monitoring Operator). The image will be patched in CMO CSV."
  - name: CYPRESS_TIMEZONE
    default: "UTC"
    documentation: "Set the following var to specify the cluster timezone for incident timeline calculations. Defaults to UTC if not specified."
  - name: CYPRESS_SESSION
    default: "true"
    documentation: "Set the following var to enable Cypress session management for faster test execution."
  - name: CYPRESS_DEBUG
    default: "true"
    documentation: "Set the following var to enable Cypress debug mode to log in headless mode."
  - name: CYPRESS_SKIP_KBV_INSTALL
    default: "false"
    documentation: "Set the var to skip Openshift Virtualization and all the required operators installation from the Cypress test run."
  - name: CYPRESS_KBV_UI_INSTALL
    default: "true"
    documentation: "Set the var to install Openshift Virtualization from redhat-operators catalog source."
  - name: CYPRESS_KONFLUX_KBV_BUNDLE_IMAGE
    default: ""
    documentation: "Set the var to install Openshift Virtualization Operator using Konflux bundle."
  - name: CYPRESS_CUSTOM_KBV_BUNDLE_IMAGE
    default: ""
    documentation: "Set the var to use custom Openshift Virtualization Operator bundle image."
  - name: CYPRESS_FBC_STAGE_KBV_IMAGE
    default: ""
    documentation: "Set the var to use Openshift Virtualization Operator FBC image."
  - name: CYPRESS_CHA_IMAGE
    default: ""
    documentation: "Set the var to use custom Cluster Health Analyzer image. The image will be patched in COO deployment."
  dependencies:
  - name: "monitoring-console-plugin"
    env: CYPRESS_MCP_CONSOLE_IMAGE
  - name: "monitoring-plugin"
    env: CYPRESS_MP_IMAGE
  - name: "cluster-health-analyzer"
    env: CYPRESS_CHA_IMAGE
  documentation: |-
    The monitoring-plugin-tests-incidents-ui step executes the Incidents Cypress tests.