workflow:
  as: assisted-host-contract-agent-compact-ipv4
  steps:
    allow_best_effort_post_steps: true
    allow_skip_on_success: true
    env:
      DEVSCRIPTS_CONFIG: |
        AGENT_E2E_TEST_SCENARIO=COMPACT_IPV4
        FIPS_MODE=true
        NETWORK_TYPE=OVNKubernetes
        NUM_EXTRA_WORKERS=2
        EXTRA_WORKER_DISK=100
      DEVSCRIPTS_TARGET: agent_plus_add_node
    pre:
      - chain: assisted-host-contract-agent-pre
    test:
      - chain: agent-test
    post:
      - chain: assisted-host-contract-agent-post
  documentation: |-
    Host-contract wrapper for the compact IPv4 agent workflow, preserving the same test scenario while
    decoupling from the baremetalds-ofcir chains.
