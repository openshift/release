workflow:
  as: rosa-lifecycle-advanced
  steps:
    pre:
    - ref: rosa-setup
    - ref: rosa-setup-readiness-cluster
    - ref: rosa-conf-idp-htpasswd
    - ref: rosa-setup-readiness-operators
    - ref: rosa-setup-readiness-nodes
    post:
    - ref: rosa-teardown
  documentation: |-
    This workflow installs a rosa cluster by profile. The cluster is set with htpasswd idp, and the login informations are stored under $SHARED_DIR/api.login.
    After finish testing, the cluster will be deprovsioned.
