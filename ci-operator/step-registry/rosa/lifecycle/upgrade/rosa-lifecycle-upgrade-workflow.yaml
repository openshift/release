workflow:
  as: rosa-lifecycle-upgrade
  steps:
    pre:
    - ref: rosa-setup
    - ref: rosa-setup-readiness-cluster
    - ref: rosa-conf-idp-htpasswd
    - ref: osd-ccs-conf-idp-htpasswd-multi-users
    - ref: rosa-setup-readiness-operators
    - ref: rosa-setup-readiness-day2-conf
    - ref: rosa-setup-readiness-nodes
    - ref: rosa-cluster-upgrade-hcp
    post:
    - ref: rosa-teardown
  documentation: |-
    This workflow installs a rosa HCP cluster by profile. And upgrade its CP and NP to specified version
    After finish testing, the cluster will be deprovsioned.
