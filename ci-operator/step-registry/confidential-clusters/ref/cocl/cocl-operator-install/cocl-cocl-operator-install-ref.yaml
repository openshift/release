ref:
  as: cocl-cocl-operator-install
  from_image:
    namespace: ocp
    name: "4.12"
    tag: upi-installer
  commands: cocl-cocl-operator-install-commands.sh
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
  env:
    - name: COCL_OPERATOR_REPO
      default: "https://github.com/yalzhang/cocl-operator.git"
      documentation: "The repository URL for the cocl-operator."
    - name: COCL_OPERATOR_BRANCH
      default: "run_with_docker"
      documentation: "The repository branch for the cocl-operator."
  documentation: |-
    This step installs the Confidential Containers (CoCl) Operator.
    It clones the specified operator repository, applies a patch required for Docker compatibility,
    and then uses the project's Makefile to deploy a KinD cluster and install the operator.
    This step assumes that the underlying Beaker machine has already been provisioned
    with all necessary dependencies (like Docker and Kind) by a preceding step.
