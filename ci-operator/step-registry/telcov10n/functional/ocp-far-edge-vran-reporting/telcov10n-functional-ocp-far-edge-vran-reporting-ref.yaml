# This step is running the ocp-far-edge-vran-tests + ocp-far-edge-vran-reporting jobs.
ref:
  as: telcov10n-functional-ocp-far-edge-vran-reporting
  from_image:
    namespace: ci
    name: telco-bastion
    tag: latest
  commands: telcov10n-functional-ocp-far-edge-vran-reporting-commands.sh
  timeout: 4h
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  credentials:
  - namespace: test-credentials
    name: kni-qe-41
    mount_path: /var/run/ssh-key
  - namespace: test-credentials
    name: bastion-ip-addr
    mount_path: /var/run/bastion-ip-addr
  - namespace: test-credentials
    name: jenkins-credentials
    mount_path: /var/run/jenkins-credentials
  env:
  - name: LOCK_LBL_HOST
    documentation: Lockable resource label assigned to the hub cluster

  - name: PYLARION_TESTRUN_ID
    default: ""
    documentation: polarion testrun id in case need to modify existing testrun, if it is empty id will be generated by polarion based on timestamp

  - name: PYLARION_TITLE
    default: ""
    documentation: The title of the polarion test run

  - name: PYLARION_TR_TITLE
    default: ""
    documentation: The ocp version of the tests

  - name: PYLARION_TR_BUILD
    default: quay.io/ocp-edge-qe/eco-gotests:latest
    documentation: Container image name of eco-gotests.

  - name: RESULTS_REPORT_PATH
    default: ""
    documentation: Full file path to polarion report xml file or files separated by ";" 

  - name: LAUNCH_NAME
    default: "cnf-vran"
    documentation: The prefix of the launch name as it will be appear in report portal, the actual name will be LAUNCH_NAME-OCP_BUILD

  - name: LAUNCH_DESCRIPTION
    default: ""
    documentation: a string of key value pairs

  - name: REPORTS_PORTAL_ATTRIBUTES
    default: ""
    documentation: Container image name of eco-gotests.

  - name: POLARION_TESTRUN_PROPERTIES
    default: ""
    documentation: set testrun properties values using a pair of key

  - name: UPLOAD_XML_SPLUNK
    default: "true"
    documentation: whether to push xml results to splunk

  - name: UPLOAD_XML_POLARION
    default: "true"
    documentation: whether to push xml results to polarion

  - name: UPLOAD_XML_REPORT_PORTAL
    default: "true"
    documentation: whether to push xml results to report portal

  - name: RAN_HUB
    default: "false"
    documentation: whether to extract hub's ocp version, hub day2 operators - ACM, gitops, TALM, ZTP

  - name: RAN_SPOKE
    default: "false"
    documentation: whether to extract spoke's ocp version, sriov nic model, cpu model, rhcos, kernel versions and day2 operators

  - name: NROP_ARTIFACTS
    default: "false"
    documentation: whether to extract ocp build, numaresources operator, numaresources scheduler image and provision host

  - name: PAO_ARTIFACTS
    default: "false"
    documentation: whether to extract performance addons operator version
  
  - name: DELETE_NROP_SKIPPED_TESTCASES
    default: "false"
    documentation: whether to delete skipped testcases from junit file that were executed on another build- this option is related to nrop tests only

  - name: SPOKE_NAME
    documentation: spoke cluster name

  - name: KUBECONFIG_PATH
    default: "/home/kni/clusterconfigs/auth/kubeconfig"
    documentation: kubeconfig file location

  - name: CNF_POLARION_REPO
    default: "https://gitlab.cee.redhat.com/cnf/cnf-polarion.git"
    documentation: URL of cnf-polarion repo to clone

  - name: CNF_POLARION_BRANCH
    default: master
    documentation: Branch of cnf-polarion repo to clone.

  - name: RAN_INTEGRATION_REPO
    default: https://gitlab.cee.redhat.com/ran/ran-integration.git
    documentation: URL of ran-integration repo to clone.

  - name: RAN_INTEGRATION_BRANCH
    default: master
    documentation: Branch of ran-integration repo to clone
