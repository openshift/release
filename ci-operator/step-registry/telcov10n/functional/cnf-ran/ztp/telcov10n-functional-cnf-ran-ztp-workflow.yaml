workflow:
  as: telcov10n-functional-cnf-ran-ztp
  documentation: |-
    Full ZTP workflow for CNF RAN testing:
    1. Hub setup: deploy, configure, mirror operators
    2. Standard cluster (kni-qe-100): create VMs, deploy via ZTP, run tests, report, cleanup
    3. Compact cluster (kni-qe-101): create VMs, deploy via ZTP, run tests, report
  steps:
    pre:
    # Hub cluster setup
    - ref: telcov10n-functional-cnf-ran-hub-deploy
    - ref: telcov10n-functional-cnf-ran-hub-config
    - ref: telcov10n-functional-cnf-ran-mirror-spoke-operators
    test:
    # Phase 1: Standard cluster (kni-qe-100)
    - ref: telcov10n-functional-cnf-ran-create-masters-vms
    - ref: telcov10n-functional-cnf-ran-deploy-spoke-standard
    # - ref: telcov10n-functional-cnf-ran-run-tests-standard
    # - ref: telcov10n-functional-cnf-ran-cleanup-standard
    # Phase 2: Compact cluster (kni-qe-101)
    # - ref: telcov10n-functional-cnf-ran-create-masters-vms-compact
    # - ref: telcov10n-functional-cnf-ran-deploy-spoke-compact
    # - ref: telcov10n-functional-cnf-ran-run-tests-compact
    # - ref: telcov10n-functional-cnf-ran-suite-report
    post: 
    - ref: wait
