ref:
  as: pqc-conf-apiserver
  from_image:
    namespace: ocp
    name: cli-jq
    tag: latest
  commands: pqc-conf-apiserver-commands.sh
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
  env:
    - name: PQC_CIPHER
      default: "X25519MLKEM768"
      documentation: |-
        Post-quantum cryptography cipher suite to configure for the API server.
    - name: PQC_MIN_TLS_VERSION
      default: "VersionTLS13"
      documentation: |-
        Minimum TLS version to configure for the API server.
  documentation: |-
    Configures the cluster's API server with a Custom TLS Security Profile using
    post-quantum cryptography (PQC) cipher suites. This step patches the API server
    configuration to use the specified PQC cipher (default: X25519MLKEM768) with
    TLS 1.3, then waits for cluster stabilization and validates the configuration
    was applied correctly.
