ref:
  as: interop-tests-ibm-fusion-access-configure-aws-security-groups
  from_image:
    namespace: ocp
    name: "4.12"
    tag: upi-installer
  commands: interop-tests-ibm-fusion-access-configure-aws-security-groups-commands.sh
  timeout: 30m0s
  best_effort: true
  credentials:
   - namespace: test-credentials
     name: fusion-access-operator
     mount_path: /var/run/secrets
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  documentation: |-
    Configure AWS security groups for Fusion Access Operator and IBM Storage Scale testing.
    This step configures the necessary ports for IBM Storage Scale communication and shared storage access.
    Ports configured by default:
    - 12345: IBM Storage Scale NSD (Network Shared Disk)
    - 1191: IBM Storage Scale GUI
    - 60000-61000: IBM Storage Scale dynamic ports
    This step is optional and will not block the test if it fails.
  env:
  - name: CUSTOM_SECURITY_GROUP_PORTS
    documentation: Comma-separated list of ports for security group configuration (includes IBM Storage Scale ports)
    default: "12345,1191,60000-61000"
  - name: CUSTOM_SECURITY_GROUP_PROTOCOLS
    documentation: Comma-separated list of protocols (tcp, udp, icmp)
    default: "tcp,udp"
  - name: CUSTOM_SECURITY_GROUP_SOURCES
    documentation: Comma-separated list of source security groups or CIDR blocks (defaults to worker security group)
    default: ""
