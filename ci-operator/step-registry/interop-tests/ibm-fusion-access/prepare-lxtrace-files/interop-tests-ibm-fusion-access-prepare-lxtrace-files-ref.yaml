ref:
  as: interop-tests-ibm-fusion-access-prepare-lxtrace-files
  from: cli
  commands: interop-tests-ibm-fusion-access-prepare-lxtrace-files-commands.sh
  timeout: 10m0s
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  documentation: |-
    Copy lxtrace files to GPFS host directories on worker nodes.

    This step copies lxtrace binaries from /var/lib/firmware (populated by KMM)
    to /var/gpfs/bin which is bind-mounted to /usr/lpp/mmfs/bin by the
    prepare-host-paths step's DaemonSet.

    The lxtrace files are used for trace logging in IBM Storage Scale daemon pods.
    If lxtrace files are not found in /var/lib/firmware, placeholder files are
    created to satisfy the daemon's requirements.

    Prerequisites:
    - prepare-host-paths step must run first (sets up bind mounts)
    - Fusion Access operator must have deployed KMM (populates /var/lib/firmware)

    Note: The Fusion Access operator (v0.0.19+) handles KMM automatically.
    This step copies lxtrace files that KMM places in /var/lib/firmware.

    References:
    - IBM Storage Scale Container Native 5.2.3 docs:
      https://www.ibm.com/docs/en/storage-scale-container-native?topic=5231-storage-scale-container-native
