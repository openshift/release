ref:
  as: interop-tests-ibm-fusion-access-create-ebs-filesystem
  from: cli
  commands: interop-tests-ibm-fusion-access-create-ebs-filesystem-commands.sh
  timeout: 1h30m0s
  best_effort: true
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  env:
  - name: FA__SCALE__NAMESPACE
    documentation: The namespace for IBM Storage Scale
    default: "ibm-spectrum-scale"
  - name: FA__SCALE__CLUSTER_NAME
    documentation: The name of the IBM Storage Scale cluster
    default: "ibm-spectrum-scale"
  - name: FA__FILESYSTEM_TIMEOUT
    documentation: Timeout in seconds waiting for filesystem to become Established
    default: "3600"
  - name: FA__LOCALDISK_NAME
    documentation: Name of the shared LocalDisk resource to use
    default: "shared-san-disk"
  documentation: |-
    Create IBM Storage Scale Filesystem on shared SAN storage.
    
    This step creates a Filesystem resource following IBM's documented SAN
    architecture using a single shared LocalDisk (multi-attach EBS).
    
    Configuration:
    - Uses single shared LocalDisk referenced by LOCALDISK_NAME
    - 1-way replication (appropriate for SAN where data is on shared storage)
    - Type: shared (all nodes access same physical disk)
    
    This follows IBM's recommendation for SAN deployments where the storage
    backend provides hardware-level redundancy rather than GPFS replication.
    
    Prerequisites:
    - Shared LocalDisk created with nodeConnectionSelector for all workers
    - GPFS daemons active on all nodes
    - IBM Storage Scale cluster ready (bypassDiscovery: true)
