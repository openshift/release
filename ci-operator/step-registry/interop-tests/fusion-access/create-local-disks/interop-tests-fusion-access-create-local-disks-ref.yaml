ref:
  as: interop-tests-fusion-access-create-local-disks
  from: cli
  commands: interop-tests-fusion-access-create-local-disks-commands.sh
  timeout: 10m0s
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  env:
  - name: STORAGE_SCALE_NAMESPACE
    documentation: The namespace for IBM Storage Scale
    default: "ibm-spectrum-scale"
  documentation: |-
    Create IBM Storage Scale LocalDisk resources for shared EBS volumes.
    
    This step creates LocalDisk custom resources that represent the shared
    EBS volumes attached to worker nodes. LocalDisk resources are required
    for IBM Storage Scale to properly manage shared storage across multiple nodes.
    
    For each EBS volume (nvme2n1, nvme3n1, nvme4n1), a LocalDisk resource is
    created with:
    - device: The NVMe device path on the node
    - node: The reference node where the device exists
    - nodeConnectionSelector: Specifies which nodes can access the shared device
    
    This step must run after:
    - IBM Storage Scale cluster creation
    - EBS volume attachment (storage-create-aws-extra-disks)
    
    This step must run before:
    - Filesystem creation (which references LocalDisk names)

