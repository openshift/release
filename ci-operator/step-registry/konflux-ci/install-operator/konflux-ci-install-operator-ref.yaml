ref:
  as: konflux-ci-install-operator
  cli: latest
  commands: konflux-ci-install-operator-commands.sh
  from: e2e-test-runner
  timeout: 30m
  grace_period: 1m
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  env:
  - name: KONFLUX_BRANCH
    default: main
    documentation: |-
      The branch of konflux-ci/konflux-ci to clone and deploy from.
  - name: KONFLUX_OPERATOR_REGISTRY
    default: quay.io/redhat-user-workloads/konflux-vanguard-tenant
    documentation: |-
      The registry where Konflux-built operator images are published.
  documentation: |-
    Installs Konflux using the operator-based approach from konflux-ci/konflux-ci.
    Uses Konflux-built operator image from the specified registry.
    Steps: deploy dependencies, install CRDs, deploy operator, apply Konflux CR.
    Follow with konflux-ci-wait-for-installation to wait for Konflux to be Ready.

