ref:
  as: gcp-provision-minimal-permission
  from_image:
    namespace: ocp
    name: "4.20"
    tag: upi-installer
  grace_period: 10m
  commands: gcp-provision-minimal-permission-commands.sh
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
  env:
  - name: GCP_INSTALL_USE_MINIMAL_PERMISSIONS
    default: "no"
    documentation: |-
      Whether to use the credential having minimal permissions for IPI. 
      Valid value: "no"(default) "yes"
  - name: MINIMAL_PERMISSIONS_WITHOUT_ACT_AS
    default: "no"
    documentation: |-
      Whether the service account is without permission 'iam.serviceAccounts.actAs'. 
      Valid value: "no"(default) "yes"
  - name: GCP_CCO_MANUAL_USE_MINIMAL_PERMISSIONS
    default: "no"
    documentation: |-
      "yes": enabling the GCP credential having minimal permissions 
      for CCO in Manual mode; "no": use the default GCP credential. 
  - name: MINIMAL_PERMISSIONS_WITHOUT_FIREWALL_PROVISION
    default: "no"
    documentation: |-
      Whether the service account has the permissions 'compute.firewalls.create' & 'compute.firewalls.delete'. 
      Valid value: "no"(default) "yes"
  - name: MINIMAL_PERMISSIONS_CCO_MANUAL_WITHOUT_FIREWALL_PROVISION
    default: "no"
    documentation: |-
      Whether the service account has minimal permissions for CCO in Manual mode 
      and without 'compute.firewalls.create' & 'compute.firewalls.delete' permissions. 
      Valid value: "no"(default) "yes"
  documentation: |-
    The step enables the pre-configured IAM service account for the minimal 
    permissions testing on GCP.  
