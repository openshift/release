workflow:
  as: baremetalds-e2e-ovn-dualstack-rhcos10
  steps:
    env:
      DEVSCRIPTS_CONFIG: |
        IP_STACK=v4v6
    pre:
      - ref: ofcir-acquire
      - ref: ipi-install-rbac
      - ref: baremetalds-devscripts-ibm
      - ref: baremetalds-devscripts-proxy
      - ref: ipi-install-hosted-loki
      - ref: rhcos-conf-rhcos10
      - ref: baremetalds-devscripts-setup
    test:
      - chain: baremetalds-ipi-test
    post:
      - chain: baremetalds-ofcir-post
  documentation: |-
    This workflow with RHCOS10 executes the common end-to-end test suite on a cluster provisioned by running dev-scripts
    on a packet server with both IPv4 and IPv6 enabled.
