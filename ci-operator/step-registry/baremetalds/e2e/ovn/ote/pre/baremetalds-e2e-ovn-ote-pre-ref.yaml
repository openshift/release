ref:
  as: baremetalds-e2e-ovn-ote-pre
  from: nested-podman
  cli: latest
  nested_podman: true
  grace_period: 10m
  commands: baremetalds-e2e-ovn-ote-pre-commands.sh
  resources:
    requests:
      cpu: 1000m
      memory: 500Mi
  env:
  - name: CREATE_HYPERVISOR_VM
    default: "false"
    documentation: |-
      If set to "true", creates a test VM on the remote hypervisor using kcli in a nested container.
      Otherwise, VM creation is skipped.
  documentation: |-
    Sets up a test VM on the remote baremetal hypervisor for OVN-Kubernetes OTE end-to-end tests.
    This step provisions a Fedora 42 VM with Docker installed and attaches the primary network
    interface from the hypervisor to the VM. The VM is used for egress traffic testing scenarios
    in OVN-Kubernetes tests. Requires the nested-podman capability and uses kcli (KVM Command Line
    Interface) for VM management.
