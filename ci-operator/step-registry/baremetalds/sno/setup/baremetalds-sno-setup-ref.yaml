ref:
  as: baremetalds-sno-setup
  from: assisted-test-infra
  credentials:
  - namespace: test-credentials
    name: loki-stage-collector-test-secret
    mount_path: /var/run/loki-secret
  - namespace: test-credentials
    name: loki-grafanacloud-secret
    mount_path: /var/run/loki-grafanacloud-secret
  commands: baremetalds-sno-setup-commands.sh
  resources:
    requests:
      cpu: 1000m
      memory: 500Mi
  dependencies:
  - name: "release:latest"
    env: OPENSHIFT_INSTALL_RELEASE_IMAGE
  env:
  - name: SNO_CONFIG
    default: ""
    documentation: Additional single-node configuration, appended to the one defined by the step command. See https://github.com/openshift/assisted-test-infra/blob/master/README.md for more details about supported values.
  - name: TEST_FUNC
    default: ""
    documentation: |
      The pytest expression to filter "tests" according to. In our case pytest
      is used as a generic runner for our installation flows. The default
      `test_bootstrap_in_place` expression is used to do a regular, single-node
      bootstrap-in-place installation on a libvirt VM. It can also be set, for
      example, to `test_bip_add_worker` if you wish to run a slightly different
      flow in which a worker node is also added to that BIP SNO after
      installation.
  - name: OPENSHIFT_INSTALL_PROMTAIL_ON_BOOTSTRAP
    default: ""
    documentation: "Send bootstrap logs to Loki. Warning: this should only be used for debugging purposes."
  documentation: |-
    Checkout and execute single-node installation workflow on a packet server
