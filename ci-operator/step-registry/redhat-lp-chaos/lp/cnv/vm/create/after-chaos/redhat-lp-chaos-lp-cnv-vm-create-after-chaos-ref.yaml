ref:
  as: redhat-lp-chaos-lp-cnv-vm-create-after-chaos
  from: cli-plus-tools
  commands: redhat-lp-chaos-lp-cnv-vm-create-after-chaos-commands.sh
  env:
    - name: LPC_LP_CNV__VM__NS
      default: "cnv-chaos-test-ns"
    - name: LPC_LP_CNV__VM__PREFIX
      default: "cnv-chaos-vm"
    - name: LPC_LP_CNV__VM__REPLICA_COUNT
      default: "1"
    - name: LPC_LP_CNV__VM__INSTANCE_TYPE
      default: "u1.medium"
      documentation: "The KubeVirt InstanceType to use for CPU/Memory."
    - name: LPC_LP_CNV__VM__WAIT_TIMEOUT
      default: "15m"
      documentation: "The vm waiting time"
    - name: LPC_LP_CNV__VM__PREFERENCE
      default: "rhel.9"
      documentation: "The KubeVirt Preference to use for OS optimizations."
    - name: LPC_LP_CNV__VM__DV_SOURCE_NAME
      default: "rhel9"
      documentation: "The DataSource name in the OS Images namespace to clone from."
    - name: LPC_LP_CNV__VM__DV_SOURCE_NS
      default: "openshift-virtualization-os-images"
      documentation: "The namespace where the DataSource is located."
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  documentation: >-
    Creates a secondary VirtualMachine after fault injection to verify CNV scheduling and control plane health.
