ref:
  as: firewatch-report-issues-v1
  from_image:
    namespace: cspi-qe
    name: firewatch
    tag: release-v1
  commands: firewatch-report-issues-v1-commands.sh
  credentials:
    - namespace: test-credentials
      name: firewatch-tool-jira-credentials
      mount_path: /tmp/secrets/jira
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
  env:
  - name: FIREWATCH_JIRA_SERVER
    default: https://issues.stage.redhat.com
    documentation: The Jira server issues are to be reported to.
  - name: FIREWATCH_JIRA_API_TOKEN_PATH
    default: /tmp/secrets/jira/access_token
    documentation: The path to the file containing the Jira API token.
  - name: FIREWATCH_FAIL_WITH_TEST_FAILURES
    default: "false"
    documentation: If you would like this ref to fail with a non-zero exit code if a test failure is found, set to "true"
  - name: FIREWATCH_DEFAULT_JIRA_PROJECT
    documentation: The Jira project you'd like bugs to be filed to if no rule matches the failure found
  - name: FIREWATCH_CONFIG
    documentation: The firewatch rules to be used. See https://github.com/CSPI-QE/firewatch for more information on how to define this.

  documentation: |-
    Please see the CSPI-QE repository for more documentation on this tool: https://github.com/CSPI-QE/firewatch