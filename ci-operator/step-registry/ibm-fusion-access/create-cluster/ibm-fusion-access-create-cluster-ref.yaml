ref:
  as: ibm-fusion-access-create-cluster
  from: cli
  commands: ibm-fusion-access-create-cluster-commands.sh
  timeout: 15m0s
  grace_period: 15s
  best_effort: true
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  env:
  - name: FA__SCALE__NAMESPACE
    documentation: The namespace for IBM Storage Scale
    default: "ibm-spectrum-scale"
  - name: FA__SCALE__CLUSTER_NAME
    documentation: The name of the IBM Storage Scale cluster
    default: "ibm-spectrum-scale"
  - name: FA__SCALE__CLIENT_CPU
    documentation: CPU allocation for client nodes
    default: "2"
  - name: FA__SCALE__CLIENT_MEMORY
    documentation: Memory allocation for client nodes
    default: "4Gi"
  - name: FA__SCALE__STORAGE_CPU
    documentation: CPU allocation for storage nodes
    default: "2"
  - name: FA__SCALE__STORAGE_MEMORY
    documentation: Memory allocation for storage nodes
    default: "8Gi"
  documentation: |-
    Create IBM Storage Scale Cluster with /dev/disk/by-id/* device pattern.
    
    This step creates the Cluster resource using the IBM-recommended /dev/disk/by-id/*
    wildcard pattern for device discovery. This pattern works across all AWS instance
    types and avoids hardcoded device paths.
    
    Key features:
    - Uses /dev/disk/by-id/* wildcard for automatic device discovery
    - Works across different AWS instance types (c5n.metal, etc.)
    - Discovers all attached EBS volumes automatically
    - Avoids NVMe vs /dev/sd* naming issues
    - Requires KMM registry configuration for kernel module building
    
    Reference: IBM Storage Scale Container Native documentation
    
    This is a setup step that creates the IBM Storage Scale cluster resource.
    It does not generate JUnit XML - actual test validation is performed by
    separate test steps.
