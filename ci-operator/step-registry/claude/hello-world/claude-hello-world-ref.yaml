ref:
  as: claude-hello-world
  from: claude-ai-helpers
  env:
  - name: CLAUDE_CODE_USE_VERTEX
    default: "1"
    documentation: |-
      Enable Vertex AI for Claude Code.
  - name: CLOUD_ML_REGION
    default: "us-east5"
    documentation: |-
      Google Cloud region for Vertex AI.
  - name: ANTHROPIC_VERTEX_PROJECT_ID
    default: "openshift-ci-data-analysis"
    documentation: |-
      Google Cloud project ID for Vertex AI authentication.
  - name: GOOGLE_APPLICATION_CREDENTIALS
    default: "/var/run/claude-code-service-account/json"
    documentation: |-
      Path to the Google Cloud service account JSON key file for Vertex AI authentication.
  credentials:
  - namespace: test-credentials
    name: ci-claude-code-service-account
    mount_path: /var/run/claude-code-service-account
  commands: claude-hello-world-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  documentation: |-
    This step runs a simple hello world command using the claude CLI with Vertex AI.
