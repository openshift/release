chain:
  as: ipi-gcp-pre-manual-oidc-workload-identity-persistent-disk
  steps:
  - ref: ipi-conf-gcp-persistent-disk-workload-identity-federation
  - ref: storage-conf-csi-gcp-pd
  - ref: storage-conf-wait-for-csi-driver
  env:
  - name: TEST_CSI_DRIVER_MANIFEST
    default: manifest-gcp-pd.yaml
  - name: TEST_OCP_CSI_DRIVER_MANIFEST
    default: ocp-manifest-gcp-pd.yaml
  - name: CLUSTERCSIDRIVER
    default: pd.csi.storage.gke.io
  - name: TRUECONDITIONS
    default: GCPPDDriverControllerServiceControllerAvailable GCPPDDriverNodeServiceControllerAvailable
  documentation: |-
    The IPI setup step contains all steps that provision an OpenShift cluster
    with user defined OIDC provider and service accounts on GCP for operators.
