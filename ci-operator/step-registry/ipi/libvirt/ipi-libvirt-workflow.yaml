workflow:
  as: ipi-libvirt
  steps:
    allow_skip_on_success: true
    pre:
    - chain: ipi-libvirt-pre
    test:
    - chain: ipi-libvirt-test
    post:
    - chain: ipi-libvirt-post
    env:
      ARCH: ""
      MASTER_REPLICAS: ""
      NSS_GROUPNAME: ""
      NSS_USERNAME: ""
      NSS_WRAPPER_GROUP: ""
      NSS_WRAPPER_PASSWD: ""
      WORKER_REPLICAS: ""
      REMOTE_LIBVIRT_HOSTNAME: ""
      REMOTE_LIBVIRT_HOSTNAME_1: ""
      REMOTE_LIBVIRT_HOSTNAME_2: ""
      REMOTE_LIBVIRT_URI: ""
      CLUSTER_NAME: ""
    dnsConfig:
      nameservers:
      - 172.30.38.188
      searches:
      - "bastion-z.svc.cluster.local"
      - "bastion-ppc64le-libvirt.svc.cluster.local"
  documentation: |-
    The IPI workflow provides pre- and post- steps that provision and
    deprovision an OpenShift cluster with a default configuration on libvirt,
    allowing job authors to inject their own end-to-end test logic.
