ref:
  as: ipi-conf-openstack
  from: openstack-installer
  commands: ipi-conf-openstack-commands.sh
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
  credentials:
  - namespace: test-credentials
    name: cluster-secrets-openstack-vexxhost
    mount_path: /var/run/cluster-secrets-openstack-vexxhost
  - namespace: test-credentials
    name: cluster-secrets-openstack-moc
    mount_path: /var/run/cluster-secrets-openstack-moc
  env:
  - name: OS_CLIENT_CONFIG_FILE_VEXXHOST
    default: '/var/run/cluster-secrets-openstack-vexxhost/clouds.yaml'
  - name: OS_CLIENT_CONFIG_FILE_MOC
    default: '/var/run/cluster-secrets-openstack-moc/clouds.yaml'
  documentation: |-
    The ipi-conf-openstack step makes cloud credentials and cloud-specific
    configuration available in the shared directory.
