ref:
  as: ipi-conf-libvirt
  from: libvirt-installer
  commands: ipi-conf-libvirt-commands.sh
  env:
  - name: ARCH
  - name: MASTER_REPLICAS
    default: "3"
  - name: NSS_GROUPNAME
    default: "test"
  - name: NSS_USERNAME
    default: "test"
  - name: NSS_WRAPPER_GROUP
    default: "/tmp/test-group"
  - name: NSS_WRAPPER_PASSWD
    default: "/tmp/test-passwd"
  - name: WORKER_REPLICAS
    default: "2"
  - name: USER
    default: "test"
  - name: REMOTE_LIBVIRT_HOSTNAME
  - name: REMOTE_LIBVIRT_HOSTNAME_1
  - name: REMOTE_LIBVIRT_HOSTNAME_2
  - name: REMOTE_LIBVIRT_URI
  - name: CLUSTER_NAME
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
  dnsConfig:
    nameservers:
    - 172.30.38.188
    searches:
    - "bastion-z.svc.cluster.local"
    - "bastion-ppc64le-libvirt.svc.cluster.local"
  documentation: |-
    This step configures an install-config.yaml file to depoloy to the LIBVIRT project.
    An existing install-config.yaml file should already exist in the ${SHARED_DIR} directory.
    The file is modified to configure the cluster to run in the LIBVIRT project.
    The resulting file remains in the shared directory for future consumption.
