ref:
  as: ipi-conf-mirror
  from_image:
    namespace: ocp
    name: "4.12"
    tag: upi-installer
  commands: ipi-conf-mirror-commands.sh
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
  credentials:
  - namespace: test-credentials
    name: openshift-custom-mirror-registry
    mount_path: /var/run/vault/mirror-registry
  env:
  - name: SELF_MANAGED_ADDITIONAL_CA
    default: ""
    documentation: Use the CA of regsitry server cert from cluster profile, set to `true` to enable
  - name: ENABLE_IDMS
    default: ""
    documentation: |-
      Enable ImageDigestMirrorSet (IDMS) for configuring image mirroring.
      Set to "yes" to enable IDMS configuration in install-config.yaml.
  - name: IDMS_SOURCE_POLICY
    default: ""
    documentation: |-
      Specify the sourcePolicy for imageDigestSources when ENABLE_IDMS is set to "yes".
      Valid values: "", "NeverContactSource", "AllowContactingSource"
  documentation: |-
    The IPI configure step generates the custom registry specific install-config.yaml contents.
