ref:
  as: ipi-conf-vsphere-vips
  env:
  - name: VSPHERE_ADDITIONAL_BASEDOMAINS
    default: ()
    documentation: >-
      Array of additional base domains for which to reserve VIPs and save to $SHARED_DIR/vips.txt.
      Two VIPs will be reserved for each additional base domain: one for the API and one for the Ingress.
  from: tools
  commands: ipi-conf-vsphere-vips-commands.sh
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
  credentials:
  - namespace: test-credentials
    name: vsphere-config
    mount_path: /var/run/vault/vsphere-config
  documentation: >-
    Using secrets from the vSphere cluster profile, the vSphere VIP setup step
    reserves IP addresses through IPAM and saves them to $SHARED_DIR/vips.txt
    for later use in creating DNS records and the install config. They are also
    needed in deprovisioning to release the reserved VIPs (via the
    ipi-deprovision-vsphere-vips step).
