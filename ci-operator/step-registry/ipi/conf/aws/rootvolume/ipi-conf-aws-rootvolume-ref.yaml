ref:
  as: ipi-conf-aws-rootvolume
  from: upi-installer
  commands: ipi-conf-aws-rootvolume-commands.sh
  env:
  - name: AWS_COMPUTE_VOLUME_TYPE
    default: ""
    documentation: |-
      volume type for compute volume
  - name: AWS_COMPUTE_VOLUME_SIZE
    default: "120"
    documentation: |-
      volume size for compute volume
  - name: AWS_CONTROL_PLANE_VOLUME_TYPE
    default: ""
    documentation: |-
      volume type for control plane volume
  - name: AWS_CONTROL_PLANE_VOLUME_SIZE
    default: "120"
    documentation: |-
      volume size for control plane volume
  - name: AWS_DEFAULT_MACHINE_VOLUME_TYPE
    default: ""
    documentation: |-
      default volume type
  - name: AWS_DEFAULT_MACHINE_VOLUME_SIZE
    default: "120"
    documentation: |-
      default volume size
  - name: AWS_DEFAULT_GP3_THROUGHPUT
    default: ""
    documentation: |-
      throughput in MiB/s for defaultMachinePlatform gp3 root volumes.
      When throughput is specified for gp3 volumes, iops is automatically calculated
      to satisfy AWS constraint (throughput / iops <= 0.25). The minimum required iops
      is calculated as: iops = ceil(throughput * 4 / 100) * 100
  - name: AWS_COMPUTE_GP3_THROUGHPUT
    default: ""
    documentation: |-
      throughput in MiB/s for compute gp3 root volumes (overrides defaultMachinePlatform)
  - name: AWS_CONTROL_PLANE_GP3_THROUGHPUT
    default: ""
    documentation: |-
      throughput in MiB/s for control plane gp3 root volumes (overrides defaultMachinePlatform)
  - name: AWS_EDGE_VOLUME_TYPE
    default: ""
    documentation: |-
      volume type for edge compute pool volume
  - name: AWS_EDGE_VOLUME_SIZE
    default: "120"
    documentation: |-
      volume size for edge compute pool volume
  - name: AWS_EDGE_GP3_THROUGHPUT
    default: ""
    documentation: |-
      throughput in MiB/s for edge compute pool gp3 root volumes (overrides defaultMachinePlatform)
  - name: ENABLE_AWS_EDGE_ZONE
    default: "no"
    documentation: |-
      Enable AWS edge zone support. When set to "yes", edge compute pool will be created.
      Edge pool configuration (AWS_EDGE_VOLUME_TYPE, AWS_EDGE_VOLUME_SIZE, AWS_EDGE_GP3_THROUGHPUT)
      will only be applied if this is set to "yes".
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
  documentation: |-
    AWS root volume configuration
