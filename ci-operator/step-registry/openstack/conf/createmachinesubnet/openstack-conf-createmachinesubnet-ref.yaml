ref:
  as: openstack-conf-createmachinesubnet
  from: openstack-installer
  commands: openstack-conf-createmachinesubnet-commands.sh
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
  env:
    - name: OS_CLOUD
      documentation: Name of cloud to use from ${CLUSTER_PROFILE_DIR}/clouds.yaml file
    - name: SUBNET_RANGE
      default: "192.0.2.0/24"
    - name: ALLOCATION_POOL_START
      default: "192.0.2.11"
    - name: ALLOCATION_POOL_END
      default: "192.0.2.254"
    - name: OPENSTACK_EXTERNAL_NETWORK
      documentation: Name of external network to attach FIPs to.
  documentation: |-
    This step creates network named "${CLUSTER_NAME}-network".
    Adds to it a subnet named "${CLUSTER_NAME}-subnet"
    Create a router named "${CLUSTER_NAME}-router
    Us the router to attach the subnet to the $OPENSTACK_EXTERNAL_NETWORK
    Writes their UIDS to ${SHARED_DIR}
