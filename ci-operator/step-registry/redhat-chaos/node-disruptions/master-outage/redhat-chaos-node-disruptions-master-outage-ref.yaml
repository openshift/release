ref:
  as: redhat-chaos-node-disruptions-master-outage
  from_image:
    namespace: chaos
    name: krkn
    tag: latest
  commands: redhat-chaos-node-disruptions-master-outage-commands.sh
  credentials:
  - namespace: test-credentials
    name: cluster-secrets-aws-chaos
    mount_path: /secret/telemetry
  env:
    - name: ACTION
      default: "node_stop_start_scenario"
    - name: LABEL_SELECTOR
      default: "node-role.kubernetes.io/master="
    - name: NODE_NAME
      default: ""
    - name: INSTANCE_COUNT
      default: ""
    - name: RUNS
      default: "1"
    - name: CLOUD_TYPE
      default: "aws"
    - name: TIMEOUT
      default: "180" 
    - name: ENABLE_ALERTS
      default: "True"
    - name: ALERTS_PATH
      default: "/root/kraken/config/alerts" 
    - name: CHECK_CRITICAL_ALERTS
      default: "True"
    - name: WAIT_DURATION
      default: "100"
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  documentation: >-
    This step runs the krkn-hub config workload in the deployed cluster to cause master node outage to understand the impact on stability and performance.
