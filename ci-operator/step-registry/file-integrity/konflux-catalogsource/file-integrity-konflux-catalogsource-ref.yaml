ref:
  as: file-integrity-konflux-catalogsource
  from_image:
    namespace: ci
    name: tests-private-tools
    tag: "4.17"
  cli: latest
  grace_period: 10m
  commands: file-integrity-konflux-catalogsource-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  credentials:
    - namespace: test-credentials
      name: openshift-custom-mirror-registry
      mount_path: /var/run/vault/mirror-registry
  env:
    - name: MULTISTAGE_PARAM_OVERRIDE_INDEX_IMAGE
      documentation: |-
        The var can be set when using the Gangway API, pass it as:
        "pod_spec_options": {
          "envs": {
            "MULTISTAGE_PARAM_OVERRIDE_INDEX_IMAGE": "quay.io/example/file-integrity-index:latest"
          }
        }
      default: ""
    - name: CATALOG_SOURCE_NAME
      documentation: The name of the catalog source to create.
      default: "file-integrity-operator"
    - name: ICSP_NAME
      documentation: The name of the ImageContentSourcePolicy to create.
      default: "custom-icsp-isc"
    - name: TEST_TYPE
      documentation: The test type, could be "release" or "dev". It will determine what ICSP to be used.
      default: "release"
    - name: MIRROR_OPERATORS
      documentation: The boolean value indicating whether to mirror catalog and operator images. It's applicable to disconnected environment with a configured mirror registry.
      default: "false"
    - name: PACKAGE_NAME
      documentation: The package name of the operator to be installed on a disconnected cluster.
      default: "file-integrity-operator"
    - name: SELF_MANAGED_ADDITIONAL_CA
      default: ""
      documentation: Use the CA of regsitry server cert from cluster profile, set to `true` to enable
  documentation: |-
    Create a custom catalog source with an index image.