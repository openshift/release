ref:
  as: aro-hcp-test-persistent
  from: aro-hcp-e2e-tools
  commands: aro-hcp-test-persistent-commands.sh
  credentials:
    - namespace: test-credentials
      name: aro-hcp-qe-pull-secret
      mount_path: /var/run/aro-hcp-qe-pull-secret
  resources:
    requests:
      cpu: 1000m
      memory: 1Gi
  env:
    - name: LOCATION
      default: ""
      documentation: |-
        Azure region to create resources in.  For example, "uksouth".
        This is intentionally not the standard AZURE_REGION_LOCATION so that Azure library doesn't automatically select it.
        That way we can have tets that choose different locations.
    - name: MULTISTAGE_PARAM_OVERRIDE_LOCATION
      documentation: |-
        The var has precedence over the LOCATION env var. It can be set when using the Gangway API, pass it as:
        "pod_spec_options": {
          "envs": {
            "MULTISTAGE_PARAM_OVERRIDE_LOCATION": "uksouth"
          }
        }
      default: ""
    - name: ARO_HCP_SUITE_NAME
      default: ""
      documentation: Suite to run.  For example, integration/parallel.
    - name: ARO_E2E_SKIP_CLEANUP
      default: ""
      documentation: Set to true to skip cleanup.  This can leave lot of cruft, so be responsible.
    - name: POOLED_IDENTITIES
      default: "false"
      documentation: Whether to use pooled identities for the test.
  documentation: |-
    Run the Azure/ARO-HCP/aro-hcp-tests binary.
