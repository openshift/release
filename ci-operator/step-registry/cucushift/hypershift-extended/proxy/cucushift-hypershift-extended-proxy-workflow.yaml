workflow:
  as: cucushift-hypershift-extended-proxy
  steps:
    pre:
    - chain: cucushift-installer-rehearse-aws-ipi-ovn-provision
    - chain: aws-provision-bastionhost
    - ref: proxy-config-generate
    - chain: cucushift-hypershift-extended-install-private
    - chain: hypershift-aws-create
    - ref: cucushift-hypershift-extended-proxy-config
    - chain: cucushift-hypershift-extended-enable-qe-catalogsource
    post:
    - ref: wait
    - chain: cucushift-installer-rehearse-aws-ipi-ovn-hypershift-deprovision
  documentation: |-
    This workflow creates hosted clusted with proxy enabled.
