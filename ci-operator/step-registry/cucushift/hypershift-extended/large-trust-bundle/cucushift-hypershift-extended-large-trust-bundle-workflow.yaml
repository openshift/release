workflow:
  as: cucushift-hypershift-extended-large-trust-bundle
  steps:
    pre:
      - chain: cucushift-installer-rehearse-aws-ipi-ovn-provision
      - chain: cucushift-hypershift-extended-install-private
      - chain: hypershift-aws-create
      - ref: cucushift-hypershift-extended-large-trust-bundle
      - ref: cucushift-hypershift-extended-enable-guest
      - ref: cucushift-installer-reportportal-marker
    post:
      - ref: cucushift-hypershift-extended-disable-guest
      - chain: cucushift-installer-rehearse-aws-ipi-ovn-hypershift-deprovision
      - ref: send-results-to-reportportal
  documentation: |-
    This workflow provisions an AWS HyperShift guest cluster with a large trust bundle
    (> 16KB) to validate the fix for OCPBUGS-57497 / CNTRLPLANE-1011.
