ref:
  as: cucushift-hypershift-extended-autoscaling-from-zero
  from_image:
    namespace: ci
    name: hypershift-cli
    tag: latest
  cli: latest
  grace_period: 10m
  timeout: 300m0s
  env:
  - name: HOSTEDCLUSTER_NAMESPACE
    default: "clusters"
    documentation: "The Namespace where to create the HostedCluster and NodePools"
  - name: SCALE_FROM_ZERO_ENABLED
    default: "false"
    documentation: "If the autoscaling from zero feature is enabled when the hypershift operator is installed"
  - name: HYPERSHIFT_INSTANCE_TYPE
    default: "m5.xlarge"
    documentation: "The instance type to use for Hypershift NodePools"
  - name: ENABLE_SCALE_FROM_ZERO
    default: "false"
    documentation: |
      Whether to enable the autoscaling from zero feature when installing hypershift operator. This only takes effect on AWS clusters.
  - name: ENABLE_SCALE_FROM_ZERO_CHECK
    default: "false"
    documentation: |
      Whether to enable the autoscaling from zero tests. This is independent from ENABLE_SCALE_FROM_ZERO, which controls whether the feature is enabled in the hypershift operator.
  commands: cucushift-hypershift-extended-autoscaling-from-zero-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  documentation: |-
    Check the autoscaling from zero functionality in Hypershift.


