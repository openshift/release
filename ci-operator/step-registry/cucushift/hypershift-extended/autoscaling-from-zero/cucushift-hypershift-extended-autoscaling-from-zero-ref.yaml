ref:
  as: cucushift-hypershift-extended-autoscaling-from-zero
  from: rosa-aws-cli
  cli: latest
  grace_period: 10m
  timeout: 72h0m0s
  env:
    - name: HOSTEDCLUSTER_NAMESPACE
      default: "clusters"
      documentation: "The Namespace where to create the HostedCluster and NodePools"
    - name: SCALE_FROM_ZERO_ENABLED
      default: "false"
      documentation: "If the autoscaling from zero feature is enabled when the hypershift operator is installed"
    - name: HYPERSHIFT_INSTANCE_TYPE
      default: "m5.xlarge"
      documentation: "The instance type to use for Hypershift NodePools"
    - name: REGION
      default: "us-east-2"
      documentation: "The AWS region where to create the resources"
    - name: OCM_LOGIN_ENV
      default: "integration"
      documentation: The environment for rosa login. The supported values are [production, staging, integration].
    - name: ENABLE_SCALE_FROM_ZERO_CHECK
      default: "true"
      documentation: |
        Whether to enable the autoscaling from zero tests. This is independent from ENABLE_SCALE_FROM_ZERO, which controls whether the feature is enabled in the hypershift operator.
  commands: cucushift-hypershift-extended-autoscaling-from-zero-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  documentation: |-
    Check the autoscaling from zero functionality in Hypershift.
