chain:
  as: cucushift-installer-rehearse-gcp-ipi-xpn-cco-manual-users-static-provision
  steps: 
    - ref: upi-conf-gcp-xpn
    - ref: ignition-bastionhost
    - ref: gcp-provision-bastionhost
    - chain: ipi-conf-gcp
    - ref: ipi-conf-gcp-control-plane-node-type
    - ref: ipi-conf-gcp-osdisk-disktype-compute
    - ref: ipi-conf-gcp-osdisk-disksize
    - ref: ipi-conf-gcp-xpn-network
    - ref: ipi-conf-manual-creds
    - ref: gcp-provision-cco-manual-users-static
    - ref: ipi-conf-manual-creds-remove-unnecessary-creds
    - ref: gcp-provision-iam-creds-xpn-roles
    - chain: ipi-install
    - ref: enable-qe-catalogsource
    - chain: cucushift-installer-check
    - ref: cucushift-installer-check-gcp-credentials-mode
    - ref: cucushift-installer-check-gcp-nested-virtualization
    - ref: cucushift-installer-check-gcp-disktype-compute
    - ref: cucushift-installer-check-gcp-disksize
  documentation: |-
    This chain contains all of the steps to provision an OpenShift cluster into 
    a shared VPC using manually created IAM service-accounts on GCP. Besides, 
    using N2 machine series (along with launching a bastion host) for nested 
    virtualization testing, and specifying OS disk type & size for cluster machines. 
