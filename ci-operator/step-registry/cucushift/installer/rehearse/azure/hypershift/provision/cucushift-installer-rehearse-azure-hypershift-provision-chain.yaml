chain:
  as: cucushift-installer-rehearse-azure-hypershift-provision
  steps:
  - chain: cucushift-installer-rehearse-azure-ipi-ovn-provision
  - ref: azure-provision-vnet-hypershift
  - ref: azure-provision-resourcegroup
  - ref: cucushift-hypershift-extended-install-private
  - chain: hypershift-azure-create
  env:
  - name: ASSIGN_SERVICE_PRINCIPAL_ROLES 
    default: "true"
  - name: BASE_DOMAIN 
    default: "qe.azure.devcluster.openshift.com"
  - name: HYPERSHIFT_AZURE_DIAGNOSTICS_STORAGE_ACCOUNT_TYPE
    default: "Managed"
  - name: HYPERSHIFT_AZURE_LOCATION
    default: ""
  - name: HYPERSHIFT_BASE_DOMAIN
    default: "qe.azure.devcluster.openshift.com"
  - name: HYPERSHIFT_CUSTOM_NSG
    default: "true"
  - name: HYPERSHIFT_CUSTOM_RESOURCE_GROUP
    default: "true"
  - name: HYPERSHIFT_CUSTOM_SUBNET
    default: "true"
  - name: HYPERSHIFT_CUSTOM_VNET
    default: "true"
  - name: HYPERSHIFT_ENABLE_CONVERSION_WEBHOOK
    default: "false"
  - name: HYPERSHIFT_EXTERNAL_DNS_DOMAIN
    default: "qe1.azure.devcluster.openshift.com"
  - name: HYPERSHIFT_AZURE_SELF_MANAGED
    default: "true"
  - name: HYPERSHIFT_OPERATOR_PULL_SECRET
    default: "true"
  documentation: |-
    Creates a management cluster and a public hosted cluster on the Azure platform. 
