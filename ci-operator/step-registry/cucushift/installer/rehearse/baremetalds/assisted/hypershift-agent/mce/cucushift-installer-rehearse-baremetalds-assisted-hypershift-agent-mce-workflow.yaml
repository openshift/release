workflow:
  as: cucushift-installer-rehearse-baremetalds-assisted-hypershift-agent-mce
  steps:
    pre:
      - chain: cucushift-installer-rehearse-baremetalds-assisted-hypershift-agent-mce-provision
      - ref: cucushift-installer-reportportal-marker
    post:
      - chain: cucushift-installer-rehearse-baremetalds-assisted-hypershift-agent-mce-deprovision
      - ref: send-results-to-reportportal
    env:
      CLUSTERTYPE: host_384gb_el9
      LVM_OPERATOR_SUB_SOURCE: lvm-catalogsource
      METALLB_OPERATOR_SUB_SOURCE: qe-app-registry
      DEVSCRIPTS_CONFIG: |
        IP_STACK=v4
        NUM_WORKERS=3
        NETWORK_TYPE=OVNKubernetes
        MASTER_MEMORY=32768
        WORKER_MEMORY=32768
        WORKER_VCPU=16
        VM_EXTRADISKS=true
        VM_EXTRADISKS_LIST=vda
        VM_EXTRADISKS_SIZE=500G
        NUM_EXTRA_WORKERS=3
  documentation: |-
    This is the workflow to trigger Prow's rehearsal test when submitting installer steps/chain/workflow
