chain:
  as: cucushift-installer-rehearse-aws-cases-clusters-edge-zone-provision
  steps:
    - ref: ipi-install-rbac
    - ref: openshift-cluster-bot-rbac
    - ref: cucushift-installer-googlesheet-select-target
    - ref: cucushift-installer-rehearse-aws-cases-clusters-provision
    - ref: cucushift-installer-check-cluster-health
    - ref: cucushift-installer-check-aws-edge-zone
  env:
  - name: EDGE_NODE_WORKER_SCHEDULABLE
    default: "no"
  - name: EDGE_NODE_WORKER_ASSIGN_PUBLIC_IP
    default: "no"
  - name: READ_EDGE_NODE_CONFIG_FROM_INSTALL_CONFIG_FILE
    default: "yes"
    documentation: |-
      Once enabled, EDGE_ZONE_TYPES, EDGE_NODE_WORKER_NUMBER, MTU and AZ infos 
        will be read from install-config.yaml
  documentation: |-
    Create clusters on all supported regions.
