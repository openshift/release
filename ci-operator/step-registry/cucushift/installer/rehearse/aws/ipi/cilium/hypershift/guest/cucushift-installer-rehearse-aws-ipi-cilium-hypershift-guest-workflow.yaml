workflow:
  as: cucushift-installer-rehearse-aws-ipi-cilium-hypershift-guest
  steps:
    env:
      HYPERSHIFT_NETWORK_TYPE: "Other" # Required for Cilium.
    pre:
    - chain: cucushift-installer-rehearse-aws-ipi-ovn-hypershift-provision
    - ref: cucushift-hypershift-extended-cilium
    - ref: cucushift-hypershift-extended-cilium-health-check
    - chain: cucushift-hypershift-extended-enable-qe-catalogsource
    - ref: cucushift-hypershift-extended-enable-guest
    post:
    - ref: cucushift-hypershift-extended-disable-guest
    - chain: cucushift-installer-rehearse-aws-ipi-ovn-hypershift-deprovision
  documentation: |-
    This is the workflow to install Hypershift cluster with Cilium network stack.
