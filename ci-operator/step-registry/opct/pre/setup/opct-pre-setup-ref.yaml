ref:
  as: opct-pre-setup
  from: cli
  credentials:
  - namespace: test-credentials
    name: registry-pull-credentials
    mount_path: /var/run/ci-credentials/registry
  commands: opct-pre-setup-commands.sh
  timeout: 20m
  resources:
    requests:
      cpu: 10m
      memory: 100Mi
  env:
  - name: OPCT_RUN_MODE
    default: ""
    documentation: OPCT workflow execution mode. Supported values [|upgrade].
  - name: UPGRADE_TO_CHANNEL_TYPE
    default: stable
    documentation: >-
      Target OCP channel when executing OPCT upgrade workflow.
      Supported values [stable,candidate,fast]
  - name: OPCT_CLI_IMAGE
    default: "registry.ci.openshift.org/ci/opct:latest"
    documentation: Override the OPCT CLI image used in the validation environment.
  documentation: >-
    This step collect required dependencies to run OPCT on the target cluster.
