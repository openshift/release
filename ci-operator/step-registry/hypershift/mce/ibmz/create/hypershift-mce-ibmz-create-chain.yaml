chain:
  as: hypershift-mce-ibmz-create
  env:
    - name: OCP_VERSION
      documentation: "Openshift Version to use in OSImage config in AgentServiceConfig"
    - name: OCP_RELEASE_FILE_URL
      documentation: "URL for release.txt file of specific OCP version"
    - name: ISO_URL
      documentation: "ISO URL to use in OSImage config in AgentServiceConfig"
    - name: ROOT_FS_URL
      documentation: "ROOT FS URL to use in OSImage config in AgentServiceConfig"
    - name: HYPERSHIFT_BASEDOMAIN
      documentation: "Base domain for hosted cluster"
    - name: HYPERSHIFT_NODE_COUNT
      documentation: "The number of ibmz nodes to join the agent cluster"
  steps:
    - ref: hypershift-mce-ibmz-create-hcp
    - ref: hypershift-mce-ibmz-create-zvsi_compute
  documentation: |-
    hypershift-mce-ibmz-create chain provisions both hosted control plane with multi architecture and and zVSI compute nodes of s390x architecture serailly.