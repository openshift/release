ref:
  as: hypershift-gcp-gke-prerequisites
  from_image:
    namespace: ocp
    name: "4.22"
    tag: upi-installer
  commands: hypershift-gcp-gke-prerequisites-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  timeout: 15m0s
  grace_period: 2m0s
  documentation: |-
    Installs prerequisites on a GKE cluster that are available by default
    on OpenShift but required for HyperShift:

    1. CRDs: Prometheus operator (ServiceMonitor, PrometheusRule, PodMonitor),
       OpenShift Route, and DNSEndpoint
    2. cert-manager with GKE Autopilot compatibility (leader election
       namespace changed from kube-system to cert-manager)
    3. Self-signed ClusterIssuer for internal certificates

    Must run AFTER hypershift-gcp-gke-provision and BEFORE hypershift-install.
