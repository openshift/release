ref:
  as: hypershift-kubevirt-check-kernel-isolation
  from: hypershift-tests
  grace_period: 5m0s
  commands: hypershift-kubevirt-check-kernel-isolation-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  timeout: 20m0s
  documentation: |-
    Validates kernel-level isolation for HyperShift Hosted Control Planes running on KubeVirt platform.

    This step verifies that:
    1. Control plane components run inside virt-launcher VMs
    2. Management cluster and guest cluster have separate kernel instances
    3. VirtLauncher NetworkPolicy enforcement is in place
    4. VM-based isolation provides kernel-level security boundaries

    Evidence collected:
    - Management cluster kernel version and /proc/version
    - Guest cluster kernel version and /proc/version
    - VirtLauncher NetworkPolicy configuration
    - Comparison showing separate kernel instances

    This validates ANSSI BP-028 compliance requirements for kernel-level isolation.
