ref:
  as: hypershift-jira-agent-setup
  from: hypershift-jira-agent
  commands: hypershift-jira-agent-setup-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  credentials:
  - namespace: test-credentials
    name: hypershift-jira-agent-anthropic-api-key
    mount_path: /var/run/vault/hypershift-jira-agent-anthropic-api-key
  - namespace: test-credentials
    name: hypershift-jira-agent-github-token
    mount_path: /var/run/vault/hypershift-jira-agent-github-token
  documentation: |-
    Setup step for the HyperShift Jira agent periodic job.
    This step:
    - Clones the HyperShift repository
    - Configures git credentials for creating commits
    - Sets up GitHub CLI authentication
    - Verifies Claude Code CLI is available
    - Configures authentication for Anthropic API
