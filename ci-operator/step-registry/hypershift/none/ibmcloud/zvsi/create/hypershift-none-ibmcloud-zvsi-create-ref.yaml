ref:
  as: hypershift-none-ibmcloud-zvsi-create
  documentation: |-
    This steps is used to create required infrastructure and it's resources on IBM Cloud to attach a zVSI as a compute node to the hosted control plane on AWS management cluster.
  from: cli
  credentials:
    - namespace: test-credentials
      name: ibmcloud-apikey
      mount_path: /etc/ibmcloud-apikey
  env:
    - name: OCP_VERSION
      default: "4.13"
    - name: KUBECONFIG
      default: "${SHARED_DIR}/management_cluster_kubeconfig"
    - name: HOSTED_KUBECONFIG
      default: "${SHARED_DIR}/nested_hosted_kubeconfig"
    - name: BASE_DOMAIN
      default: "hypershiftzci.com"
    - name: IC_APIKEY
      default: /etc/ibmcloud-apikey/key
    - name: IC_REGION
      default: "jp-tok"
    - name: RHEL_VSI_IMAGE
      default: "ibm-redhat-9-0-minimal-amd64-2"
    - name: RHEL_VSI_PROFILE
      default: "bx2-4x16"
    - name: ZVSI_IMAGE_VERSION
      default: "413.86.202302230536-0"
    - name: ZVSI_OS
      defaut: "red-8-s390x-byol"
    - name: ZVSI_PROFILE
      default: "bz2-4x16"
  commands: hypershift-none-ibmcloud-zvsi-create-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 100Mi