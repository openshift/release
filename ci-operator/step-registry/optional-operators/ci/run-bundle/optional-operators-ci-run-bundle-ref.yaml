ref:
  as: optional-operators-ci-run-bundle
  from_image:
    namespace: ci
    name: cvp-operator-scorecard
    tag: v1
  commands: optional-operators-ci-run-bundle-commands.sh
  resources:
    requests:
      cpu: 300m
      memory: 300Mi
  dependencies:
  - name: bundle-image
    env: OO_BUNDLE_IMG
  env:
  - name: OO_INSTALL_NAMESPACE
    default: "create"
    documentation: |
      The namespace into which the operator and catalog will be installed.
      Special, default value `create` implies that a new namespace will be created by the step.
  - name: OO_TARGET_NAMESPACES
    default: "OwnNamespace"
    documentation: |
      The default value `OwnNamespace` means that the Operator will watch its own namespace (from namespace or the kubeconfig default).
      If the value is `AllNamespaces`, then the Operator will watch all namespaces (cluster-scoped Operators).
      If the value is `SingleNamespace`, then the Operator will watch a namespace, not necessarily its own.
      This is an optional parameter, but if the CSV does not support AllNamespaces, then this parameter becomes 
      required to instruct run bundle with the appropriate target namespace.
  - name: OO_INDEX_IMG
    default: "quay.io/operator-framework/upstream-opm-builder:latest"
    documentation: |
      This specifies an index image in which to inject the given bundle.
  documentation: |-
    The run bundle step installs an optional operator bundle using the operator bundle image.

