ref:
  as: edge-ci-ocm-publish
  from_image:
    name: builder
    namespace: open-cluster-management
    tag: go1.16-linux
  commands: edge-ci-ocm-publish-commands.sh
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  credentials:
  - namespace: test-credentials
    name: acm-cicd-github
    mount_path: /etc/acm-cicd-github
  env:
  - name: GITHUB_USER
    default: "acm-cicd-prow-bot"
    documentation: The GitHub user name of the bot.
  - name: GITHUB_TOKEN_FILE
    default: "/etc/acm-cicd-github/token"
    documentation: |-
      The file that stores the GitHub token. Should match credentials stanza
      mount path.
  - name: IMAGE_NAME
    default: ""
    documentation: |-
      The the name of the image you want to publish. In most cases this is the name of the repository. Required.
  - name: IMAGE_VERSION
    default: ""
    documentation: The image version you wish to publish. Required.
  - name: IMAGE_TAG
    default: ""
    documentation: The image tag you wish to publish. Required.
  - name: IMAGE_REGISTRY
    default: "quay.io"
    documentation: The remote registry where the image is located. Required.
  - name: IMAGE_ORG
    default: "edge-infrastructure"
    documentation: The org in the registry of where the image is located. Required.s
  - name: OSCI_PIPELINE_GIT_BRANCH
    default: ""
    documentation: The OCM/ACM pipeline this image is being published to. Required.
  documentation: |-
    This step fast forwards a source branch to a destination branch in a GitHub
    repo.
