ref:
  as: aws-neuron-operator-test
  from: eco-gotests
  grace_period: 30m
  commands: aws-neuron-operator-test-commands.sh
  timeout: 3h
  resources:
    requests:
      cpu: 2000m
      memory: 4Gi
  env:
  - name: ECO_TEST_FEATURES
    default: "neuron"
    documentation: Features to test (should include neuron)
  - name: ECO_TEST_LABELS
    default: "neuron"
    documentation: Ginkgo label query for test selection
  - name: ECO_HWACCEL_NEURON_DRIVERS_IMAGE
    default: ""
    documentation: Neuron kernel module driver image
  - name: ECO_HWACCEL_NEURON_DRIVER_VERSION
    default: ""
    documentation: Neuron driver version
  - name: ECO_HWACCEL_NEURON_DEVICE_PLUGIN_IMAGE
    default: ""
    documentation: Neuron device plugin image
  - name: ECO_HWACCEL_NEURON_NODE_METRICS_IMAGE
    default: ""
    documentation: Neuron node metrics exporter image
  - name: ECO_HWACCEL_NEURON_SCHEDULER_IMAGE
    default: ""
    documentation: Kubernetes scheduler image for Neuron
  - name: ECO_HWACCEL_NEURON_SCHEDULER_EXTENSION_IMAGE
    default: ""
    documentation: Neuron scheduler extension image
  - name: ECO_HWACCEL_NEURON_VLLM_IMAGE
    default: ""
    documentation: vLLM image for inference tests
  - name: ECO_HWACCEL_NEURON_MODEL_NAME
    default: ""
    documentation: Model name for vLLM inference tests
  - name: ECO_HWACCEL_NEURON_UPGRADE_TARGET_VERSION
    default: ""
    documentation: Target driver version for upgrade tests
  - name: ECO_HWACCEL_NEURON_UPGRADE_TARGET_DRIVERS_IMAGE
    default: ""
    documentation: Target driver image for upgrade tests
  - name: LAST_KNOWN_DTK_COMMIT
    default: ""
    documentation: Last known DTK commit hash for kernel change detection
  documentation: |-
    Runs AWS Neuron operator E2E tests including vLLM inference,
    metrics verification, and rolling upgrade tests.
