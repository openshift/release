kind: List
apiVersion: v1
items:
- kind: Namespace
  apiVersion: v1
  metadata:
    name: codeready-toolchain
- kind: RoleBinding
  apiVersion: rbac.authorization.k8s.io/v1
  metadata:
    name: admin
    namespace: codeready-toolchain
  subjects:
  - kind: Group
    apiGroup: rbac.authorization.k8s.io
    name: codeready-toolchain-dev
  roleRef:
    kind: ClusterRole
    apiGroup: rbac.authorization.k8s.io
    name: pull-secret-namespace-manager
- kind: RoleBinding
  apiVersion: rbac.authorization.k8s.io/v1
  metadata:
    name: image-puller
    namespace: codeready-toolchain
  subjects:
  - kind: Group
    apiGroup: rbac.authorization.k8s.io
    name: system:unauthenticated
  - kind: Group
    apiGroup: rbac.authorization.k8s.io
    name: system:authenticated
  roleRef:
    kind: ClusterRole
    apiGroup: rbac.authorization.k8s.io
    name: system:image-puller
# this is the namespace in which alertmanager-mock and wa images will live
# for workload-analyzer config
- kind: Namespace
  apiVersion: v1
  metadata:
    annotations:
      openshift.io/description: Published Images for alertmanager-mock and wa
      openshift.io/display-name: WA CI
    name: e2e-workload-analyzer
# this grants all authenticated users rights to pull images
- kind: RoleBinding
  apiVersion: rbac.authorization.k8s.io/v1
  metadata:
    name: e2e-workload-analyzer-image-puller-binding
    namespace: e2e-workload-analyzer
  roleRef:
    kind: ClusterRole
    apiGroup: rbac.authorization.k8s.io
    name: system:image-puller
  subjects:
  # this is the set of all authenticated users
  - apiGroup: rbac.authorization.k8s.io
    kind: Group
    name: system:authenticated
  # this is the set of all unauthenticated users
  - apiGroup: rbac.authorization.k8s.io
    kind: Group
    name: system:unauthenticated