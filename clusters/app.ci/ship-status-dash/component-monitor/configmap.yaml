apiVersion: v1
kind: ConfigMap
metadata:
  name: component-monitor-config
  namespace: ship-status
data:
  config.yaml: |
    frequency: 5m
    components:
      - component_slug: "prow"
        sub_component_slug: "deck"
        http_monitor:
          url: "https://prow.ci.openshift.org/"
          code: 200
          retry_after: 4m
        prometheus_monitor:
          prometheus_location: "app.ci"
          queries:
            - query: "absent(up{job=\"deck\"}) == 1"
              duration: "5m"
              step: "30s"
      - component_slug: "prow"
        sub_component_slug: "tide"
        prometheus_monitor:
          prometheus_location: "app.ci"
          queries:
            - query: "absent(up{job=\"tide\"}) == 1"
              duration: "5m"
              step: "30s"
