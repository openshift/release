apiVersion: v1
kind: ConfigMap
metadata:
  name: dashboard-config
  namespace: ship-status
  labels:
    app: dashboard
data:
  config.yaml: |
    components:
      - name: "Prow"
        description: "The backbone of the CI system"
        ship_team: "DPTP"
        slack_channel: "#ops-testplatform"
        sub_components:
          - name: "Tide"
            description: "Automated merging of PRs"
            monitoring:
              frequency: 5m
              component_monitor: "app-ci-component-monitor"
              auto_resolve: false
            requires_confirmation: true
          - name: "Deck"
            description: "Dashboard for Prow"
            monitoring:
              frequency: 5m
              component_monitor: "app-ci-component-monitor"
              auto_resolve: true
            requires_confirmation: false
        owners:
          - rover_group: "test-platform-ci-admins"
          - service_account: "system:serviceaccount:ship-status:component-monitor"
      - name: "Build Farm"
        description: "Where the CI jobs are run"
        ship_team: "DPTP"
        slack_channel: "#ops-testplatform"
        sub_components:
          - name: "Build01"
            description: "AWS build farm cluster"
            monitoring:
              frequency: 5m
              component_monitor: "app-ci-component-monitor"
              auto_resolve: true
            requires_confirmation: true
          - name: "Build02"
            description: "GCP build farm cluster"
            monitoring:
              frequency: 5m
              component_monitor: "app-ci-component-monitor"
              auto_resolve: true
            requires_confirmation: true
          - name: "Build03"
            description: "AWS build farm cluster"
            monitoring:
              frequency: 5m
              component_monitor: "app-ci-component-monitor"
              auto_resolve: true
            requires_confirmation: true
          - name: "Build04"
            description: "GCP build farm cluster"
            monitoring:
              frequency: 5m
              component_monitor: "app-ci-component-monitor"
              auto_resolve: true
            requires_confirmation: true
        owners:
          - rover_group: "test-platform-ci-admins"
          - service_account: "system:serviceaccount:ship-status:component-monitor"
      - name: "Sippy"
        description: "CI Private Investigator"
        ship_team: "TRT"
        slack_channel: "#trt-alert"
        sub_components:
          - name: "Sippy"
            description: "The non-auth variant of Sippy"
            monitoring:
              frequency: 5m
              component_monitor: "dpcr-component-monitor"
              auto_resolve: true
            requires_confirmation: false
          - name: "Sippy-Auth"
            description: "The auth variant of Sippy"
            monitoring:
              frequency: 5m
              component_monitor: "dpcr-component-monitor"
              auto_resolve: true
            requires_confirmation: false
        owners:
          - rover_group: "openshift-technical-release-team"
