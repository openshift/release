apiVersion: v1
data:
  Corefile: |
      .:5353 {
            errors
            log
            health
            rewrite name suffix libvirt-ppc64le-0-0 sshd-0-0.default.svc.cluster.local
            rewrite name suffix libvirt-ppc64le-0-1 sshd-0-1.default.svc.cluster.local
            rewrite name suffix libvirt-ppc64le-0-2 sshd-0-2.default.svc.cluster.local
            rewrite name suffix libvirt-ppc64le-0-3 sshd-0-3.default.svc.cluster.local
            rewrite name suffix libvirt-ppc64le-1-0 sshd-1-0.default.svc.cluster.local
            rewrite name suffix libvirt-ppc64le-1-1 sshd-1-1.default.svc.cluster.local
            rewrite name suffix libvirt-ppc64le-1-2 sshd-1-2.default.svc.cluster.local
            rewrite name suffix libvirt-ppc64le-1-3 sshd-1-3.default.svc.cluster.local
            rewrite name suffix libvirt-ppc64le-2-0 sshd-2-0.default.svc.cluster.local
            rewrite name suffix libvirt-ppc64le-2-1 sshd-2-1.default.svc.cluster.local
            rewrite name suffix libvirt-ppc64le-2-2 sshd-2-2.default.svc.cluster.local
            rewrite name suffix libvirt-ppc64le-2-3 sshd-2-3.default.svc.cluster.local
            forward . /etc/resolv.conf {
                policy sequential
            }
            cache 3600
      }

kind: ConfigMap
metadata:
  name: coredns-config-ppc64le
  namespace: bastion-ppc64le-libvirt
