global:
  resolve_timeout: 5m

route:
  group_by: ['job']
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 12h
  receiver: 'slack-notifications'

receivers:
- name: 'slack-notifications'
  slack_configs:
  - channel: '#ops-testplatform'
    ## TODO use the ci-operator/populate-secrets-from-bitwarden.sh script to put them in the cluster
    api_url: https://hooks.slack.com/services/<secret>
    icon_url: https://avatars3.githubusercontent.com/u/3380462
    ## TODO costomize the custom_slack_text in ./msg.tmpl
    text: '{{ template "custom_slack_text" . }}'

templates:
- '*.tmpl'
