# !!! WARNING - DO NOT MODIFY !!!
# Generated by cluster-init: https://github.com/openshift/ci-tools/tree/main/cmd/cluster-init
# Modifying this file manually might break some tests in both openshift/ci-tools and openshift/release repositories.
# Please consider, instead, writing a yaml patch in one of the cluster-install.yaml into clusters/_cluster-install/
# or, alternatively, modifying the cluster-init tool itself.

apiVersion: template.openshift.io/v1
kind: Template
metadata:
  name: cluster-oauth-template
objects:
- apiVersion: config.openshift.io/v1
  kind: OAuth
  metadata:
    name: cluster
  spec:
    identityProviders:
    - mappingMethod: claim
      name: RedHat_Internal_SSO
      openID:
        claims:
          email:
          - email
          name:
          - name
          preferredUsername:
          - preferred_username
          - email
        clientID: ${build05_id}
        clientSecret:
          name: dex-rh-sso
        extraScopes:
        - email
        - profile
        issuer: https://idp.ci.openshift.org
      type: OpenID
    tokenConfig:
      accessTokenMaxAgeSeconds: 2419200
parameters:
- description: build05_id
  name: build05_id
  required: true
