2024-06-11T11:10:26.139244176Z I0611 11:10:26.138966       1 cmd.go:92] &{<nil> true {false} installer true map[cert-configmaps:0xc000b0f9a0 cert-dir:0xc000b0fb80 cert-secrets:0xc000b0f900 configmaps:0xc000b0f4a0 namespace:0xc000b0f2c0 optional-cert-configmaps:0xc000b0fae0 optional-cert-secrets:0xc000b0fa40 optional-configmaps:0xc000b0f5e0 optional-secrets:0xc000b0f540 pod:0xc000b0f360 pod-manifest-dir:0xc000b0f720 resource-dir:0xc000b0f680 revision:0xc000b0f220 secrets:0xc000b0f400 v:0xc000b28fa0] [0xc000b28fa0 0xc000b0f220 0xc000b0f2c0 0xc000b0f360 0xc000b0f680 0xc000b0f720 0xc000b0f4a0 0xc000b0f5e0 0xc000b0f400 0xc000b0f540 0xc000b0fb80 0xc000b0f9a0 0xc000b0fae0 0xc000b0f900 0xc000b0fa40] [] map[cert-configmaps:0xc000b0f9a0 cert-dir:0xc000b0fb80 cert-secrets:0xc000b0f900 configmaps:0xc000b0f4a0 help:0xc000b29360 kubeconfig:0xc000b0f180 log-flush-frequency:0xc000b28f00 namespace:0xc000b0f2c0 optional-cert-configmaps:0xc000b0fae0 optional-cert-secrets:0xc000b0fa40 optional-configmaps:0xc000b0f5e0 optional-secrets:0xc000b0f540 pod:0xc000b0f360 pod-manifest-dir:0xc000b0f720 pod-manifests-lock-file:0xc000b0f860 resource-dir:0xc000b0f680 revision:0xc000b0f220 secrets:0xc000b0f400 timeout-duration:0xc000b0f7c0 v:0xc000b28fa0 vmodule:0xc000b29040] [0xc000b0f180 0xc000b0f220 0xc000b0f2c0 0xc000b0f360 0xc000b0f400 0xc000b0f4a0 0xc000b0f540 0xc000b0f5e0 0xc000b0f680 0xc000b0f720 0xc000b0f7c0 0xc000b0f860 0xc000b0f900 0xc000b0f9a0 0xc000b0fa40 0xc000b0fae0 0xc000b0fb80 0xc000b28f00 0xc000b28fa0 0xc000b29040 0xc000b29360] [0xc000b0f9a0 0xc000b0fb80 0xc000b0f900 0xc000b0f4a0 0xc000b29360 0xc000b0f180 0xc000b28f00 0xc000b0f2c0 0xc000b0fae0 0xc000b0fa40 0xc000b0f5e0 0xc000b0f540 0xc000b0f360 0xc000b0f720 0xc000b0f860 0xc000b0f680 0xc000b0f220 0xc000b0f400 0xc000b0f7c0 0xc000b28fa0 0xc000b29040] map[104:0xc000b29360 118:0xc000b28fa0] [] -1 0 0xc0005de3c0 true 0xa51380 []}
2024-06-11T11:10:26.139410077Z I0611 11:10:26.139291       1 cmd.go:93] (*installerpod.InstallOptions)(0xc000b18340)({
2024-06-11T11:10:26.139410077Z  KubeConfig: (string) "",
2024-06-11T11:10:26.139410077Z  KubeClient: (kubernetes.Interface) <nil>,
2024-06-11T11:10:26.139410077Z  Revision: (string) (len=1) "9",
2024-06-11T11:10:26.139410077Z  NodeName: (string) "",
2024-06-11T11:10:26.139410077Z  Namespace: (string) (len=24) "openshift-kube-apiserver",
2024-06-11T11:10:26.139410077Z  PodConfigMapNamePrefix: (string) (len=18) "kube-apiserver-pod",
2024-06-11T11:10:26.139410077Z  SecretNamePrefixes: ([]string) (len=3 cap=4) {
2024-06-11T11:10:26.139410077Z   (string) (len=11) "etcd-client",
2024-06-11T11:10:26.139410077Z   (string) (len=34) "localhost-recovery-serving-certkey",
2024-06-11T11:10:26.139410077Z   (string) (len=31) "localhost-recovery-client-token"
2024-06-11T11:10:26.139410077Z  },
2024-06-11T11:10:26.139410077Z  OptionalSecretNamePrefixes: ([]string) (len=2 cap=2) {
2024-06-11T11:10:26.139410077Z   (string) (len=17) "encryption-config",
2024-06-11T11:10:26.139410077Z   (string) (len=21) "webhook-authenticator"
2024-06-11T11:10:26.139410077Z  },
2024-06-11T11:10:26.139410077Z  ConfigMapNamePrefixes: ([]string) (len=8 cap=8) {
2024-06-11T11:10:26.139410077Z   (string) (len=18) "kube-apiserver-pod",
2024-06-11T11:10:26.139410077Z   (string) (len=6) "config",
2024-06-11T11:10:26.139410077Z   (string) (len=37) "kube-apiserver-cert-syncer-kubeconfig",
2024-06-11T11:10:26.139410077Z   (string) (len=28) "bound-sa-token-signing-certs",
2024-06-11T11:10:26.139410077Z   (string) (len=15) "etcd-serving-ca",
2024-06-11T11:10:26.139410077Z   (string) (len=18) "kubelet-serving-ca",
2024-06-11T11:10:26.139410077Z   (string) (len=22) "sa-token-signing-certs",
2024-06-11T11:10:26.139410077Z   (string) (len=29) "kube-apiserver-audit-policies"
2024-06-11T11:10:26.139410077Z  },
2024-06-11T11:10:26.139410077Z  OptionalConfigMapNamePrefixes: ([]string) (len=3 cap=4) {
2024-06-11T11:10:26.139410077Z   (string) (len=14) "oauth-metadata",
2024-06-11T11:10:26.139410077Z   (string) (len=12) "cloud-config",
2024-06-11T11:10:26.139410077Z   (string) (len=24) "kube-apiserver-server-ca"
2024-06-11T11:10:26.139410077Z  },
2024-06-11T11:10:26.139410077Z  CertSecretNames: ([]string) (len=10 cap=16) {
2024-06-11T11:10:26.139410077Z   (string) (len=17) "aggregator-client",
2024-06-11T11:10:26.139410077Z   (string) (len=30) "localhost-serving-cert-certkey",
2024-06-11T11:10:26.139410077Z   (string) (len=31) "service-network-serving-certkey",
2024-06-11T11:10:26.139410077Z   (string) (len=37) "external-loadbalancer-serving-certkey",
2024-06-11T11:10:26.139410077Z   (string) (len=37) "internal-loadbalancer-serving-certkey",
2024-06-11T11:10:26.139410077Z   (string) (len=33) "bound-service-account-signing-key",
2024-06-11T11:10:26.139410077Z   (string) (len=40) "control-plane-node-admin-client-cert-key",
2024-06-11T11:10:26.139410077Z   (string) (len=31) "check-endpoints-client-cert-key",
2024-06-11T11:10:26.139410077Z   (string) (len=14) "kubelet-client",
2024-06-11T11:10:26.139410077Z   (string) (len=16) "node-kubeconfigs"
2024-06-11T11:10:26.139410077Z  },
2024-06-11T11:10:26.139410077Z  OptionalCertSecretNamePrefixes: ([]string) (len=11 cap=16) {
2024-06-11T11:10:26.139410077Z   (string) (len=17) "user-serving-cert",
2024-06-11T11:10:26.139410077Z   (string) (len=21) "user-serving-cert-000",
2024-06-11T11:10:26.139410077Z   (string) (len=21) "user-serving-cert-001",
2024-06-11T11:10:26.139410077Z   (string) (len=21) "user-serving-cert-002",
2024-06-11T11:10:26.139410077Z   (string) (len=21) "user-serving-cert-003",
2024-06-11T11:10:26.139410077Z   (string) (len=21) "user-serving-cert-004",
2024-06-11T11:10:26.139410077Z   (string) (len=21) "user-serving-cert-005",
2024-06-11T11:10:26.139410077Z   (string) (len=21) "user-serving-cert-006",
2024-06-11T11:10:26.139410077Z   (string) (len=21) "user-serving-cert-007",
2024-06-11T11:10:26.139410077Z   (string) (len=21) "user-serving-cert-008",
2024-06-11T11:10:26.139410077Z   (string) (len=21) "user-serving-cert-009"
2024-06-11T11:10:26.139410077Z  },
2024-06-11T11:10:26.139410077Z  CertConfigMapNamePrefixes: ([]string) (len=4 cap=4) {
2024-06-11T11:10:26.139410077Z   (string) (len=20) "aggregator-client-ca",
2024-06-11T11:10:26.139410077Z   (string) (len=9) "client-ca",
2024-06-11T11:10:26.139410077Z   (string) (len=29) "control-plane-node-kubeconfig",
2024-06-11T11:10:26.139410077Z   (string) (len=26) "check-endpoints-kubeconfig"
2024-06-11T11:10:26.139410077Z  },
2024-06-11T11:10:26.139410077Z  OptionalCertConfigMapNamePrefixes: ([]string) (len=1 cap=1) {
2024-06-11T11:10:26.139410077Z   (string) (len=17) "trusted-ca-bundle"
2024-06-11T11:10:26.139410077Z  },
2024-06-11T11:10:26.139410077Z  CertDir: (string) (len=57) "/etc/kubernetes/static-pod-resources/kube-apiserver-certs",
2024-06-11T11:10:26.139410077Z  ResourceDir: (string) (len=36) "/etc/kubernetes/static-pod-resources",
2024-06-11T11:10:26.139410077Z  PodManifestDir: (string) (len=25) "/etc/kubernetes/manifests",
2024-06-11T11:10:26.139410077Z  Timeout: (time.Duration) 2m0s,
2024-06-11T11:10:26.139410077Z  StaticPodManifestsLockFile: (string) "",
2024-06-11T11:10:26.139410077Z  PodMutationFns: ([]installerpod.PodMutationFunc) <nil>,
2024-06-11T11:10:26.139410077Z  KubeletVersion: (string) ""
2024-06-11T11:10:26.139410077Z })
2024-06-11T11:10:26.231602663Z I0611 11:10:26.231539       1 cmd.go:410] Getting controller reference for node ci-op-9xx71rvq-1e28e-w667k-master-0
2024-06-11T11:10:26.246824344Z I0611 11:10:26.246737       1 cmd.go:423] Waiting for installer revisions to settle for node ci-op-9xx71rvq-1e28e-w667k-master-0
2024-06-11T11:10:26.253954781Z I0611 11:10:26.253893       1 cmd.go:515] Waiting additional period after revisions have settled for node ci-op-9xx71rvq-1e28e-w667k-master-0
2024-06-11T11:10:56.254207510Z I0611 11:10:56.254077       1 cmd.go:521] Getting installer pods for node ci-op-9xx71rvq-1e28e-w667k-master-0
2024-06-11T11:10:56.264844967Z I0611 11:10:56.264758       1 cmd.go:539] Latest installer revision for node ci-op-9xx71rvq-1e28e-w667k-master-0 is: 9
2024-06-11T11:10:56.264844967Z I0611 11:10:56.264801       1 cmd.go:428] Querying kubelet version for node ci-op-9xx71rvq-1e28e-w667k-master-0
2024-06-11T11:10:56.268963789Z I0611 11:10:56.268616       1 cmd.go:441] Got kubelet version 1.29.5+b2f5b11 on target node ci-op-9xx71rvq-1e28e-w667k-master-0
2024-06-11T11:10:56.268963789Z I0611 11:10:56.268638       1 cmd.go:290] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9" ...
2024-06-11T11:10:56.269094390Z I0611 11:10:56.268836       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9" ...
2024-06-11T11:10:56.269094390Z I0611 11:10:56.268971       1 cmd.go:226] Getting secrets ...
2024-06-11T11:10:56.273029411Z I0611 11:10:56.272978       1 copy.go:32] Got secret openshift-kube-apiserver/etcd-client-9
2024-06-11T11:10:56.276507229Z I0611 11:10:56.276458       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-recovery-client-token-9
2024-06-11T11:10:56.280123148Z I0611 11:10:56.279979       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-recovery-serving-certkey-9
2024-06-11T11:10:56.283183865Z I0611 11:10:56.283143       1 copy.go:24] Failed to get secret openshift-kube-apiserver/encryption-config-9: secrets "encryption-config-9" not found
2024-06-11T11:10:56.286752084Z I0611 11:10:56.286709       1 copy.go:32] Got secret openshift-kube-apiserver/webhook-authenticator-9
2024-06-11T11:10:56.286752084Z I0611 11:10:56.286742       1 cmd.go:239] Getting config maps ...
2024-06-11T11:10:56.290134102Z I0611 11:10:56.290098       1 copy.go:60] Got configMap openshift-kube-apiserver/bound-sa-token-signing-certs-9
2024-06-11T11:10:56.294694626Z I0611 11:10:56.294647       1 copy.go:60] Got configMap openshift-kube-apiserver/config-9
2024-06-11T11:10:56.298228345Z I0611 11:10:56.298166       1 copy.go:60] Got configMap openshift-kube-apiserver/etcd-serving-ca-9
2024-06-11T11:10:56.458531311Z I0611 11:10:56.458478       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-audit-policies-9
2024-06-11T11:10:56.658154409Z I0611 11:10:56.658077       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-cert-syncer-kubeconfig-9
2024-06-11T11:10:56.859467923Z I0611 11:10:56.859375       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-pod-9
2024-06-11T11:10:57.058514715Z I0611 11:10:57.058452       1 copy.go:60] Got configMap openshift-kube-apiserver/kubelet-serving-ca-9
2024-06-11T11:10:57.258241514Z I0611 11:10:57.258192       1 copy.go:60] Got configMap openshift-kube-apiserver/sa-token-signing-certs-9
2024-06-11T11:10:57.459993233Z I0611 11:10:57.459924       1 copy.go:60] Got configMap openshift-kube-apiserver/cloud-config-9
2024-06-11T11:10:57.660502739Z I0611 11:10:57.660400       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-server-ca-9
2024-06-11T11:10:57.859088126Z I0611 11:10:57.859008       1 copy.go:60] Got configMap openshift-kube-apiserver/oauth-metadata-9
2024-06-11T11:10:57.859141727Z I0611 11:10:57.859121       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/etcd-client" ...
2024-06-11T11:10:57.859352229Z I0611 11:10:57.859319       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/etcd-client/tls.crt" ...
2024-06-11T11:10:57.859517131Z I0611 11:10:57.859491       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/etcd-client/tls.key" ...
2024-06-11T11:10:57.859652532Z I0611 11:10:57.859623       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/localhost-recovery-client-token" ...
2024-06-11T11:10:57.859722733Z I0611 11:10:57.859693       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/localhost-recovery-client-token/service-ca.crt" ...
2024-06-11T11:10:57.860076736Z I0611 11:10:57.860005       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/localhost-recovery-client-token/token" ...
2024-06-11T11:10:57.860309339Z I0611 11:10:57.860265       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/localhost-recovery-client-token/ca.crt" ...
2024-06-11T11:10:57.860436340Z I0611 11:10:57.860405       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/localhost-recovery-client-token/namespace" ...
2024-06-11T11:10:57.860538441Z I0611 11:10:57.860516       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/localhost-recovery-serving-certkey" ...
2024-06-11T11:10:57.860611942Z I0611 11:10:57.860590       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/localhost-recovery-serving-certkey/tls.crt" ...
2024-06-11T11:10:57.860720243Z I0611 11:10:57.860698       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/localhost-recovery-serving-certkey/tls.key" ...
2024-06-11T11:10:57.860996146Z I0611 11:10:57.860972       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/webhook-authenticator" ...
2024-06-11T11:10:57.861273748Z I0611 11:10:57.861238       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/secrets/webhook-authenticator/kubeConfig" ...
2024-06-11T11:10:57.861541751Z I0611 11:10:57.861510       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/bound-sa-token-signing-certs" ...
2024-06-11T11:10:57.861647452Z I0611 11:10:57.861607       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/bound-sa-token-signing-certs/service-account-001.pub" ...
2024-06-11T11:10:57.861812654Z I0611 11:10:57.861790       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/config" ...
2024-06-11T11:10:57.862010656Z I0611 11:10:57.861968       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/config/config.yaml" ...
2024-06-11T11:10:57.862182557Z I0611 11:10:57.862160       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/etcd-serving-ca" ...
2024-06-11T11:10:57.862263558Z I0611 11:10:57.862233       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2024-06-11T11:10:57.862383459Z I0611 11:10:57.862351       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/kube-apiserver-audit-policies" ...
2024-06-11T11:10:57.862446060Z I0611 11:10:57.862420       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/kube-apiserver-audit-policies/policy.yaml" ...
2024-06-11T11:10:57.862580661Z I0611 11:10:57.862549       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/kube-apiserver-cert-syncer-kubeconfig" ...
2024-06-11T11:10:57.862654662Z I0611 11:10:57.862617       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig" ...
2024-06-11T11:10:57.862883264Z I0611 11:10:57.862787       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/kube-apiserver-pod" ...
2024-06-11T11:10:57.863032766Z I0611 11:10:57.862959       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/kube-apiserver-pod/forceRedeploymentReason" ...
2024-06-11T11:10:57.863183167Z I0611 11:10:57.863146       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/kube-apiserver-pod/pod.yaml" ...
2024-06-11T11:10:57.863343269Z I0611 11:10:57.863305       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/kube-apiserver-pod/version" ...
2024-06-11T11:10:57.863474470Z I0611 11:10:57.863438       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/kubelet-serving-ca" ...
2024-06-11T11:10:57.863607572Z I0611 11:10:57.863572       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/kubelet-serving-ca/ca-bundle.crt" ...
2024-06-11T11:10:57.863776773Z I0611 11:10:57.863705       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/sa-token-signing-certs" ...
2024-06-11T11:10:57.863944775Z I0611 11:10:57.863900       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/sa-token-signing-certs/service-account-002.pub" ...
2024-06-11T11:10:57.864108377Z I0611 11:10:57.864070       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/sa-token-signing-certs/service-account-001.pub" ...
2024-06-11T11:10:57.864248678Z I0611 11:10:57.864217       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/cloud-config" ...
2024-06-11T11:10:57.864334279Z I0611 11:10:57.864305       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/cloud-config/cloud.conf" ...
2024-06-11T11:10:57.864459180Z I0611 11:10:57.864428       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/kube-apiserver-server-ca" ...
2024-06-11T11:10:57.864550681Z I0611 11:10:57.864522       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/kube-apiserver-server-ca/ca-bundle.crt" ...
2024-06-11T11:10:57.864677682Z I0611 11:10:57.864647       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/oauth-metadata" ...
2024-06-11T11:10:57.864793484Z I0611 11:10:57.864755       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/configmaps/oauth-metadata/oauthMetadata" ...
2024-06-11T11:10:57.865108587Z I0611 11:10:57.865071       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs" ...
2024-06-11T11:10:57.865145387Z I0611 11:10:57.865125       1 cmd.go:226] Getting secrets ...
2024-06-11T11:10:58.058425321Z I0611 11:10:58.058352       1 copy.go:32] Got secret openshift-kube-apiserver/aggregator-client
2024-06-11T11:10:58.261449953Z I0611 11:10:58.261350       1 copy.go:32] Got secret openshift-kube-apiserver/bound-service-account-signing-key
2024-06-11T11:10:58.458548025Z I0611 11:10:58.458485       1 copy.go:32] Got secret openshift-kube-apiserver/check-endpoints-client-cert-key
2024-06-11T11:10:58.659415435Z I0611 11:10:58.659335       1 copy.go:32] Got secret openshift-kube-apiserver/control-plane-node-admin-client-cert-key
2024-06-11T11:10:58.859514338Z I0611 11:10:58.859423       1 copy.go:32] Got secret openshift-kube-apiserver/external-loadbalancer-serving-certkey
2024-06-11T11:10:59.059873443Z I0611 11:10:59.059690       1 copy.go:32] Got secret openshift-kube-apiserver/internal-loadbalancer-serving-certkey
2024-06-11T11:10:59.259298738Z I0611 11:10:59.259207       1 copy.go:32] Got secret openshift-kube-apiserver/kubelet-client
2024-06-11T11:10:59.461748464Z I0611 11:10:59.461682       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-serving-cert-certkey
2024-06-11T11:10:59.660733014Z I0611 11:10:59.660653       1 copy.go:32] Got secret openshift-kube-apiserver/node-kubeconfigs
2024-06-11T11:10:59.859416423Z I0611 11:10:59.859318       1 copy.go:32] Got secret openshift-kube-apiserver/service-network-serving-certkey
2024-06-11T11:11:00.058729435Z I0611 11:11:00.058668       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert: secrets "user-serving-cert" not found
2024-06-11T11:11:00.258946151Z I0611 11:11:00.258872       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-000: secrets "user-serving-cert-000" not found
2024-06-11T11:11:00.457986962Z I0611 11:11:00.457839       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-001: secrets "user-serving-cert-001" not found
2024-06-11T11:11:00.658385279Z I0611 11:11:00.658310       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-002: secrets "user-serving-cert-002" not found
2024-06-11T11:11:00.858530195Z I0611 11:11:00.858465       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-003: secrets "user-serving-cert-003" not found
2024-06-11T11:11:01.058564911Z I0611 11:11:01.058468       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-004: secrets "user-serving-cert-004" not found
2024-06-11T11:11:01.258750827Z I0611 11:11:01.258690       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-005: secrets "user-serving-cert-005" not found
2024-06-11T11:11:01.459939949Z I0611 11:11:01.459878       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-006: secrets "user-serving-cert-006" not found
2024-06-11T11:11:01.658989559Z I0611 11:11:01.658926       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-007: secrets "user-serving-cert-007" not found
2024-06-11T11:11:01.861210086Z I0611 11:11:01.861136       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-008: secrets "user-serving-cert-008" not found
2024-06-11T11:11:02.059010590Z I0611 11:11:02.058937       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-009: secrets "user-serving-cert-009" not found
2024-06-11T11:11:02.059010590Z I0611 11:11:02.058976       1 cmd.go:239] Getting config maps ...
2024-06-11T11:11:02.260137911Z I0611 11:11:02.260065       1 copy.go:60] Got configMap openshift-kube-apiserver/aggregator-client-ca
2024-06-11T11:11:02.458671819Z I0611 11:11:02.458610       1 copy.go:60] Got configMap openshift-kube-apiserver/check-endpoints-kubeconfig
2024-06-11T11:11:02.658468434Z I0611 11:11:02.658407       1 copy.go:60] Got configMap openshift-kube-apiserver/client-ca
2024-06-11T11:11:02.859700155Z I0611 11:11:02.859629       1 copy.go:60] Got configMap openshift-kube-apiserver/control-plane-node-kubeconfig
2024-06-11T11:11:03.067544910Z I0611 11:11:03.067490       1 copy.go:60] Got configMap openshift-kube-apiserver/trusted-ca-bundle
2024-06-11T11:11:03.067936012Z I0611 11:11:03.067900       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client" ...
2024-06-11T11:11:03.067965113Z I0611 11:11:03.067941       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client/tls.crt" ...
2024-06-11T11:11:03.068252914Z I0611 11:11:03.068217       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client/tls.key" ...
2024-06-11T11:11:03.068463915Z I0611 11:11:03.068396       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key" ...
2024-06-11T11:11:03.068463915Z I0611 11:11:03.068429       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key/service-account.key" ...
2024-06-11T11:11:03.068729616Z I0611 11:11:03.068686       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key/service-account.pub" ...
2024-06-11T11:11:03.068880717Z I0611 11:11:03.068849       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key" ...
2024-06-11T11:11:03.068898617Z I0611 11:11:03.068882       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key/tls.crt" ...
2024-06-11T11:11:03.069068518Z I0611 11:11:03.069015       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key/tls.key" ...
2024-06-11T11:11:03.069219519Z I0611 11:11:03.069192       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key" ...
2024-06-11T11:11:03.069239419Z I0611 11:11:03.069216       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key/tls.crt" ...
2024-06-11T11:11:03.069352420Z I0611 11:11:03.069327       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key/tls.key" ...
2024-06-11T11:11:03.069499520Z I0611 11:11:03.069456       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey" ...
2024-06-11T11:11:03.069517820Z I0611 11:11:03.069504       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey/tls.key" ...
2024-06-11T11:11:03.069675921Z I0611 11:11:03.069642       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey/tls.crt" ...
2024-06-11T11:11:03.069840322Z I0611 11:11:03.069805       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey" ...
2024-06-11T11:11:03.069935423Z I0611 11:11:03.069902       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey/tls.crt" ...
2024-06-11T11:11:03.070218824Z I0611 11:11:03.070156       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey/tls.key" ...
2024-06-11T11:11:03.070384225Z I0611 11:11:03.070349       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client" ...
2024-06-11T11:11:03.070414525Z I0611 11:11:03.070376       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client/tls.key" ...
2024-06-11T11:11:03.070576026Z I0611 11:11:03.070534       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client/tls.crt" ...
2024-06-11T11:11:03.070721127Z I0611 11:11:03.070687       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey" ...
2024-06-11T11:11:03.070748527Z I0611 11:11:03.070715       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey/tls.crt" ...
2024-06-11T11:11:03.070920128Z I0611 11:11:03.070876       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey/tls.key" ...
2024-06-11T11:11:03.071103028Z I0611 11:11:03.071065       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs" ...
2024-06-11T11:11:03.071205929Z I0611 11:11:03.071178       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/lb-ext.kubeconfig" ...
2024-06-11T11:11:03.071485930Z I0611 11:11:03.071433       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/lb-int.kubeconfig" ...
2024-06-11T11:11:03.071616631Z I0611 11:11:03.071584       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/localhost-recovery.kubeconfig" ...
2024-06-11T11:11:03.071758932Z I0611 11:11:03.071731       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/localhost.kubeconfig" ...
2024-06-11T11:11:03.071888832Z I0611 11:11:03.071866       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey" ...
2024-06-11T11:11:03.071899233Z I0611 11:11:03.071887       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey/tls.key" ...
2024-06-11T11:11:03.072060533Z I0611 11:11:03.072000       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey/tls.crt" ...
2024-06-11T11:11:03.072359835Z I0611 11:11:03.072321       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/aggregator-client-ca" ...
2024-06-11T11:11:03.072399635Z I0611 11:11:03.072359       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/aggregator-client-ca/ca-bundle.crt" ...
2024-06-11T11:11:03.072570736Z I0611 11:11:03.072528       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/check-endpoints-kubeconfig" ...
2024-06-11T11:11:03.072570736Z I0611 11:11:03.072560       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/check-endpoints-kubeconfig/kubeconfig" ...
2024-06-11T11:11:03.072753737Z I0611 11:11:03.072715       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/client-ca" ...
2024-06-11T11:11:03.072780537Z I0611 11:11:03.072746       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/client-ca/ca-bundle.crt" ...
2024-06-11T11:11:03.073199739Z I0611 11:11:03.073161       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/control-plane-node-kubeconfig" ...
2024-06-11T11:11:03.073199739Z I0611 11:11:03.073191       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/control-plane-node-kubeconfig/kubeconfig" ...
2024-06-11T11:11:03.073402540Z I0611 11:11:03.073350       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/trusted-ca-bundle" ...
2024-06-11T11:11:03.073487941Z I0611 11:11:03.073462       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/trusted-ca-bundle/ca-bundle.crt" ...
2024-06-11T11:11:03.073754342Z I0611 11:11:03.073723       1 cmd.go:332] Getting pod configmaps/kube-apiserver-pod-9 -n openshift-kube-apiserver
2024-06-11T11:11:03.259665486Z I0611 11:11:03.259587       1 cmd.go:348] Creating directory for static pod manifest "/etc/kubernetes/manifests" ...
2024-06-11T11:11:03.259665486Z I0611 11:11:03.259640       1 cmd.go:376] Writing a pod under "kube-apiserver-pod.yaml" key 
2024-06-11T11:11:03.259665486Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"kube-apiserver","namespace":"openshift-kube-apiserver","creationTimestamp":null,"labels":{"apiserver":"true","app":"openshift-kube-apiserver","revision":"9"},"annotations":{"kubectl.kubernetes.io/default-container":"kube-apiserver","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-certs"}},{"name":"audit-dir","hostPath":{"path":"/var/log/kube-apiserver"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ba197ae2d89cf7ceab51c6f6a8b68df9505128a176b80642977899c52455c68","command":["/usr/bin/timeout","220","/bin/bash","-ec"],"args":["echo \"Fixing audit permissions ...\"\nchmod 0700 /var/log/kube-apiserver \u0026\u0026 touch /var/log/kube-apiserver/audit.log \u0026\u0026 chmod 0600 /var/log/kube-apiserver/*\n\nLOCK=/var/log/kube-apiserver/.lock\necho \"Acquiring exclusive lock ${LOCK} ...\"\n\n# Waiting for 135s max for old kube-apiserver's watch-termination process to exit and remove the lock.\n# Two cases:\n# 1. if kubelet does not start the old and new in parallel (i.e. works as expected), the flock will always succeed without any time.\n# 2. if kubelet does overlap old and new pods for up to 130s, the flock will wait and immediate return when the old finishes.\n#\n# NOTE: We can increase 135s for a bigger expected overlap. But a higher value means less noise about the broken kubelet behaviour, i.e. we hide a bug.\n# NOTE: Do not tweak these timings without considering the livenessProbe initialDelaySeconds\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 135 \"${LOCK_FD}\" || {\n  echo \"$(date -Iseconds -u) kubelet did not terminate old kube-apiserver before new one\" \u003e\u003e /var/log/kube-apiserver/lock.log\n  echo -n \": WARNING: kubelet did not terminate old kube-apiserver before new one.\"\n\n  # We failed to acquire exclusive lock, which means there is old kube-apiserver running in system.\n  # Since we utilize SO_REUSEPORT, we need to make sure the old kube-apiserver stopped listening.\n  #\n  # NOTE: This is a fallback for broken kubelet, if you observe this please report a bug.\n  echo -n \"Waiting for port 6443 to be released due to likely bug in kubelet or CRI-O \"\n  while [ -n \"$(ss -Htan state listening '( sport = 6443 or sport = 6080 )')\" ]; do\n    echo -n \".\"\n    sleep 1\n    (( tries += 1 ))\n    if [[ \"${tries}\" -gt 10 ]]; then\n      echo \"Timed out waiting for port :6443 and :6080 to be released, this is likely a bug in kubelet or CRI-O\"\n      exit 1\n    fi\n  done\n  #  This is to make sure the server has terminated independently from the lock.\n  #  After the port has been freed (requests can be pending and need 60s max).\n  sleep 65\n}\n# We cannot hold the lock from the init container to the main container. We release it here. There is no risk, at this point we know we are safe.\nflock -u \"${LOCK_FD}\"\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"kube-apiserver","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ba197ae2d89cf7ceab51c6f6a8b68df9505128a176b80642977899c52455c68","command":["/bin/bash","-ec"],"args":["LOCK=/var/log/kube-apiserver/.lock\n# We should be able to acquire the lock immediatelly. If not, it means the init container has not released it yet and kubelet or CRI-O started container prematurely.\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 30 \"${LOCK_FD}\" || {\n  echo \"Failed to acquire lock for kube-apiserver. Please check setup container for details. This is likely kubelet or CRI-O bug.\"\n  exit 1\n}\nif [ -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt ]; then\n  echo \"Copying system trust bundle ...\"\n  cp -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem\nfi\n\nexec watch-termination --termination-touch-file=/var/log/kube-apiserver/.terminating --termination-log-file=/var/log/kube-apiserver/termination.log --graceful-termination-duration=135s --kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig -- hyperkube kube-apiserver --openshift-config=/etc/kubernetes/static-pod-resources/configmaps/config/config.yaml --advertise-address=${HOST_IP}  -v=2 --permit-address-sharing\n"],"ports":[{"containerPort":6443}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}},{"name":"STATIC_POD_VERSION","value":"9"},{"name":"HOST_IP","valueFrom":{"fieldRef":{"fieldPath":"status.hostIP"}}},{"name":"GOGC","value":"100"}],"resources":{"requests":{"cpu":"265m","memory":"1Gi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"livenessProbe":{"httpGet":{"path":"livez","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"readyz","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":1},"startupProbe":{"httpGet":{"path":"healthz","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":30},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"kube-apiserver-cert-syncer","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:bac0ddaf801035bf3d571daea9916b68407c1e9a58a3864616c1ca14e15e74bb","command":["cluster-kube-apiserver-operator","cert-syncer"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","--destination-dir=/etc/kubernetes/static-pod-certs"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-cert-regeneration-controller","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:bac0ddaf801035bf3d571daea9916b68407c1e9a58a3864616c1ca14e15e74bb","command":["cluster-kube-apiserver-operator","cert-regeneration-controller"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","-v=2"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-insecure-readyz","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:bac0ddaf801035bf3d571daea9916b68407c1e9a58a3864616c1ca14e15e74bb","command":["cluster-kube-apiserver-operator","insecure-readyz"],"args":["--insecure-port=6080","--delegate-url=https://localhost:6443/readyz"],"ports":[{"containerPort":6080}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-check-endpoints","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:bac0ddaf801035bf3d571daea9916b68407c1e9a58a3864616c1ca14e15e74bb","command":["cluster-kube-apiserver-operator","check-endpoints"],"args":["--kubeconfig","/etc/kubernetes/static-pod-certs/configmaps/check-endpoints-kubeconfig/kubeconfig","--listen","0.0.0.0:17697","--namespace","$(POD_NAMESPACE)","--v","2"],"ports":[{"name":"check-endpoints","hostPort":17697,"containerPort":17697,"protocol":"TCP"}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"livenessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"}],"terminationGracePeriodSeconds":135,"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
2024-06-11T11:11:03.264021908Z I0611 11:11:03.263980       1 cmd.go:607] Writing pod manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9/kube-apiserver-pod.yaml" ...
2024-06-11T11:11:03.264273709Z I0611 11:11:03.264220       1 cmd.go:614] Removed existing static pod manifest "/etc/kubernetes/manifests/kube-apiserver-pod.yaml" ...
2024-06-11T11:11:03.264273709Z I0611 11:11:03.264246       1 cmd.go:618] Writing static pod manifest "/etc/kubernetes/manifests/kube-apiserver-pod.yaml" ...
2024-06-11T11:11:03.264273709Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"kube-apiserver","namespace":"openshift-kube-apiserver","creationTimestamp":null,"labels":{"apiserver":"true","app":"openshift-kube-apiserver","revision":"9"},"annotations":{"kubectl.kubernetes.io/default-container":"kube-apiserver","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-pod-9"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-certs"}},{"name":"audit-dir","hostPath":{"path":"/var/log/kube-apiserver"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ba197ae2d89cf7ceab51c6f6a8b68df9505128a176b80642977899c52455c68","command":["/usr/bin/timeout","220","/bin/bash","-ec"],"args":["echo \"Fixing audit permissions ...\"\nchmod 0700 /var/log/kube-apiserver \u0026\u0026 touch /var/log/kube-apiserver/audit.log \u0026\u0026 chmod 0600 /var/log/kube-apiserver/*\n\nLOCK=/var/log/kube-apiserver/.lock\necho \"Acquiring exclusive lock ${LOCK} ...\"\n\n# Waiting for 135s max for old kube-apiserver's watch-termination process to exit and remove the lock.\n# Two cases:\n# 1. if kubelet does not start the old and new in parallel (i.e. works as expected), the flock will always succeed without any time.\n# 2. if kubelet does overlap old and new pods for up to 130s, the flock will wait and immediate return when the old finishes.\n#\n# NOTE: We can increase 135s for a bigger expected overlap. But a higher value means less noise about the broken kubelet behaviour, i.e. we hide a bug.\n# NOTE: Do not tweak these timings without considering the livenessProbe initialDelaySeconds\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 135 \"${LOCK_FD}\" || {\n  echo \"$(date -Iseconds -u) kubelet did not terminate old kube-apiserver before new one\" \u003e\u003e /var/log/kube-apiserver/lock.log\n  echo -n \": WARNING: kubelet did not terminate old kube-apiserver before new one.\"\n\n  # We failed to acquire exclusive lock, which means there is old kube-apiserver running in system.\n  # Since we utilize SO_REUSEPORT, we need to make sure the old kube-apiserver stopped listening.\n  #\n  # NOTE: This is a fallback for broken kubelet, if you observe this please report a bug.\n  echo -n \"Waiting for port 6443 to be released due to likely bug in kubelet or CRI-O \"\n  while [ -n \"$(ss -Htan state listening '( sport = 6443 or sport = 6080 )')\" ]; do\n    echo -n \".\"\n    sleep 1\n    (( tries += 1 ))\n    if [[ \"${tries}\" -gt 10 ]]; then\n      echo \"Timed out waiting for port :6443 and :6080 to be released, this is likely a bug in kubelet or CRI-O\"\n      exit 1\n    fi\n  done\n  #  This is to make sure the server has terminated independently from the lock.\n  #  After the port has been freed (requests can be pending and need 60s max).\n  sleep 65\n}\n# We cannot hold the lock from the init container to the main container. We release it here. There is no risk, at this point we know we are safe.\nflock -u \"${LOCK_FD}\"\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"kube-apiserver","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ba197ae2d89cf7ceab51c6f6a8b68df9505128a176b80642977899c52455c68","command":["/bin/bash","-ec"],"args":["LOCK=/var/log/kube-apiserver/.lock\n# We should be able to acquire the lock immediatelly. If not, it means the init container has not released it yet and kubelet or CRI-O started container prematurely.\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 30 \"${LOCK_FD}\" || {\n  echo \"Failed to acquire lock for kube-apiserver. Please check setup container for details. This is likely kubelet or CRI-O bug.\"\n  exit 1\n}\nif [ -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt ]; then\n  echo \"Copying system trust bundle ...\"\n  cp -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem\nfi\n\nexec watch-termination --termination-touch-file=/var/log/kube-apiserver/.terminating --termination-log-file=/var/log/kube-apiserver/termination.log --graceful-termination-duration=135s --kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig -- hyperkube kube-apiserver --openshift-config=/etc/kubernetes/static-pod-resources/configmaps/config/config.yaml --advertise-address=${HOST_IP}  -v=2 --permit-address-sharing\n"],"ports":[{"containerPort":6443}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}},{"name":"STATIC_POD_VERSION","value":"9"},{"name":"HOST_IP","valueFrom":{"fieldRef":{"fieldPath":"status.hostIP"}}},{"name":"GOGC","value":"100"}],"resources":{"requests":{"cpu":"265m","memory":"1Gi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"livenessProbe":{"httpGet":{"path":"livez","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"readyz","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":1},"startupProbe":{"httpGet":{"path":"healthz","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":30},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"kube-apiserver-cert-syncer","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:bac0ddaf801035bf3d571daea9916b68407c1e9a58a3864616c1ca14e15e74bb","command":["cluster-kube-apiserver-operator","cert-syncer"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","--destination-dir=/etc/kubernetes/static-pod-certs"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-cert-regeneration-controller","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:bac0ddaf801035bf3d571daea9916b68407c1e9a58a3864616c1ca14e15e74bb","command":["cluster-kube-apiserver-operator","cert-regeneration-controller"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","-v=2"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-insecure-readyz","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:bac0ddaf801035bf3d571daea9916b68407c1e9a58a3864616c1ca14e15e74bb","command":["cluster-kube-apiserver-operator","insecure-readyz"],"args":["--insecure-port=6080","--delegate-url=https://localhost:6443/readyz"],"ports":[{"containerPort":6080}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-check-endpoints","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:bac0ddaf801035bf3d571daea9916b68407c1e9a58a3864616c1ca14e15e74bb","command":["cluster-kube-apiserver-operator","check-endpoints"],"args":["--kubeconfig","/etc/kubernetes/static-pod-certs/configmaps/check-endpoints-kubeconfig/kubeconfig","--listen","0.0.0.0:17697","--namespace","$(POD_NAMESPACE)","--v","2"],"ports":[{"name":"check-endpoints","hostPort":17697,"containerPort":17697,"protocol":"TCP"}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"livenessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"}],"terminationGracePeriodSeconds":135,"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
